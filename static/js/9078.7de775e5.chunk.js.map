{"version":3,"file":"static/js/9078.7de775e5.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js","../node_modules/@arcgis/core/layers/graphics/editingSupport.js","../node_modules/@arcgis/core/layers/graphics/applyEditsUtils.js","../node_modules/@arcgis/core/layers/graphics/sources/FeatureLayerSource.js","../node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst t={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!0,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!0,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};export{t as queryCapabilities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Collection.js\";import a from\"../../core/Error.js\";import{clone as r}from\"../../core/lang.js\";import s from\"../../core/Logger.js\";import{createResolver as i}from\"../../core/promiseUtils.js\";import{dataComponents as n}from\"../../core/urlUtils.js\";import{generateBracedUUID as o}from\"../../core/uuid.js\";import{normalizeCentralMeridian as l}from\"../../geometry/support/normalizeUtils.js\";import{isGeographic as d,equals as u,isWGS84 as p,isWebMercator as c}from\"../../geometry/support/spatialReferenceUtils.js\";import{isEditBusLayer as h,emitApplyEditsEvent as m}from\"../mixins/EditBusLayer.js\";import{isValidFieldValue as f}from\"../support/fieldUtils.js\";import{isGlbSupportedEditFormat as y}from\"../support/infoFor3D.js\";import{getEffectiveEditingEnabled as g,getEffectiveLayerCapabilities as b}from\"../support/layerUtils.js\";function w(e){return null!=e?.applyEdits}function F(e){return\"object\"==typeof e&&null!=e&&\"objectId\"in e&&!!e.objectId}function A(e){return e.every(F)}function v(e){return\"object\"==typeof e&&null!=e&&\"globalId\"in e&&!!e.globalId}function I(e){return e.every(v)}async function $(e,t,a,s={}){let n;const o=\"gdbVersion\"in e?e.gdbVersion:null,l=s.gdbVersion??o;if(h(e)&&e.url)n=m(e.url,e.layerId,l,\"original-and-current-features\"===s.returnServiceEditsOption);else{n=i(),n.promise.then((t=>{(t.addedFeatures.length||t.updatedFeatures.length||t.deletedFeatures.length||t.addedAttachments.length||t.updatedAttachments.length||t.deletedAttachments.length)&&e.emit(\"edits\",t)}));const t={result:n.promise};e.emit(\"apply-edits\",t)}try{const{results:i,edits:o}=await E(e,t,a,s),l=e=>e.filter((e=>!e.error)).map(r),d={edits:o,addedFeatures:l(i.addFeatureResults),updatedFeatures:l(i.updateFeatureResults),deletedFeatures:l(i.deleteFeatureResults),addedAttachments:l(i.addAttachmentResults),updatedAttachments:l(i.updateAttachmentResults),deletedAttachments:l(i.deleteAttachmentResults),exceededTransferLimit:!1,historicMoment:i.editMoment?new Date(i.editMoment):null,globalIdToObjectId:s.globalIdToObjectId};return i.editedFeatureResults?.length&&(d.editedFeatures=i.editedFeatureResults),n.resolve(d),i}catch(d){throw n.reject(d),d}}async function E(e,t,r,s){if(await e.load(),!w(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!g(e))throw new a(`${e.type}-layer:editing-disabled`,\"Editing is disabled for layer\",{layer:e});const{edits:i,options:n}=await S(e,r,s);return i.addFeatures?.length||i.updateFeatures?.length||i.deleteFeatures?.length||i.addAttachments?.length||i.updateAttachments?.length||i.deleteAttachments?.length?{edits:i,results:await t.applyEdits(i,n)}:{edits:i,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function S(e,t,r){const i=b(e),n=t&&(t.addFeatures||t.updateFeatures||t.deleteFeatures),o=t&&(t.addAttachments||t.updateAttachments||t.deleteAttachments),l=null!=e.infoFor3D;if(V(t,i,r,!!n,!!o,`${e.type}-layer`),!i.data.isVersioned&&r?.gdbVersion)throw new a(`${e.type}-layer:invalid-parameter`,\"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");if(!i.editing.supportsRollbackOnFailure&&r?.rollbackOnFailureEnabled)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'\");const d={...r};if(null!=d.rollbackOnFailureEnabled||i.editing.supportsRollbackOnFailure||(d.rollbackOnFailureEnabled=!0),d.rollbackOnFailureEnabled||\"original-and-current-features\"!==d.returnServiceEditsOption||(!1===d.rollbackOnFailureEnabled&&s.getLogger(\"esri.layers.graphics.editingSupport\").warn(`${e.type}-layer:invalid-parameter`,\"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwritten and set to true.\"),d.rollbackOnFailureEnabled=!0),!i.editing.supportsReturnServiceEditsInSourceSpatialReference&&d.returnServiceEditsInSourceSR)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'\");if(d.returnServiceEditsInSourceSR&&\"original-and-current-features\"!==d.returnServiceEditsOption)throw new a(`${e.type}-layer:invalid-parameter`,\"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'\");const u=G(t,i,`${e.type}-layer`),p=r?.globalIdUsed||l,c=e.fields.filter((e=>\"big-integer\"===e.type||\"oid\"===e.type&&(e.length||0)>=8));if(p){const{globalIdField:t}=e;if(null==t)throw new a(`${e.type}-layer:invalid-parameter`,\"Layer does not specify a global id field.\");u.addFeatures.forEach((e=>B(e,t)))}u.addFeatures.forEach((t=>O(t,e,p,c))),u.updateFeatures.forEach((t=>k(t,e,p,c))),u.deleteFeatures.forEach((t=>U(t,e,p,c))),u.addAttachments.forEach((t=>L(t,e))),u.updateAttachments.forEach((t=>L(t,e))),l&&await x(u,e);return{edits:await T(u),options:d}}function R(e,t,r,s){if(r){if(\"attributes\"in e&&!e.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,`Feature should have '${t.globalIdField}' when 'globalIdUsed' is true`);if(!(\"attributes\"in e)&&!e.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"`'globalId' of the feature should be passed when 'globalIdUsed' is true\")}if(s.length&&\"attributes\"in e)for(const i of s){const r=e.attributes[i.name];if(void 0!==r&&!f(i,r))throw new a(`${t.type}-layer:invalid-parameter`,`Big-integer field '${i.name}' of the feature must be less than ${Number.MAX_SAFE_INTEGER}`,{feature:e})}if(\"geometry\"in e&&null!=e.geometry){if(e.geometry.hasZ&&!1===t.capabilities?.data.supportsZ)throw new a(`${t.type}-layer:z-unsupported`,\"Layer does not support z values while feature has z values.\");if(e.geometry.hasM&&!1===t.capabilities?.data.supportsM)throw new a(`${t.type}-layer:m-unsupported`,\"Layer does not support m values while feature has m values.\")}}function j(e,t){if(\"geometry\"in e&&\"mesh\"===e.geometry?.type&&null!=t.infoFor3D&&null!=t.spatialReference){const{geometry:r}=e,{spatialReference:s,vertexSpace:i}=r,n=t.spatialReference,o=\"local\"===i.type,l=d(n),h=u(n,s),m=h||p(n)&&(p(s)||c(s));if(!(o&&l&&m||!o&&!l&&h))throw new a(`${t.type}-layer:mesh-unsupported`,`Uploading a mesh with a ${i.type} vertex space and a spatial reference wkid:${s.wkid} to a layer with a spatial reference wkid:${n.wkid} is not supported.`)}}function O(e,t,a,r){R(e,t,a,r),j(e,t)}function U(e,t,a,r){R(e,t,a,r)}function k(e,t,r,s){R(e,t,r,s),j(e,t);const i=b(t);if(\"geometry\"in e&&null!=e.geometry&&!i?.editing.supportsGeometryUpdate)throw new a(`${t.type}-layer:unsupported-operation`,\"Layer does not support geometry updates.\")}function L(e,t){const{feature:r,attachment:s}=e;if(!r||\"attributes\"in r&&!r.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to a feature with 'globalId'\");if(!(\"attributes\"in r)&&!r.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to 'globalId' of the parent feature\");if(!s.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'globalId'\");if(!s.data&&!s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'data' or 'uploadId'\");if(!(s.data instanceof File&&!!s.data.name)&&!s.name)throw new a(`${t.type}-layer:invalid-parameter`,\"'name' is required when attachment is specified as Base64 encoded string using 'data'\");if(!t.capabilities?.editing.supportsUploadWithItemId&&s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'\");if(\"string\"==typeof s.data){const e=n(s.data);if(e&&!e.isBase64)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment 'data' should be a Blob, File or Base64 encoded string\")}}function B(e,t){const{attributes:a}=e;null==a[t]&&(a[t]=o())}async function T(e){const t=e.addFeatures??[],a=e.updateFeatures??[],r=t.concat(a).map((e=>e.geometry)),s=await l(r),i=t.length,n=a.length;return s.slice(0,i).forEach(((e,a)=>t[a].geometry=e)),s.slice(i,i+n).forEach(((e,t)=>a[t].geometry=e)),e}function D(e){return{addFeatures:Array.from(e?.addFeatures??[]),updateFeatures:Array.from(e?.updateFeatures??[]),deleteFeatures:e&&t.isCollection(e.deleteFeatures)?e.deleteFeatures.toArray():e.deleteFeatures||[],addAttachments:e.addAttachments||[],updateAttachments:e.updateAttachments||[],deleteAttachments:e.deleteAttachments||[]}}function G(e,t,r){const s=D(e);if(s.addFeatures?.length&&!t.operations.supportsAdd)throw new a(`${r}:unsupported-operation`,\"Layer does not support adding features.\");if(s.updateFeatures?.length&&!t.operations.supportsUpdate)throw new a(`${r}:unsupported-operation`,\"Layer does not support updating features.\");if(s.deleteFeatures?.length&&!t.operations.supportsDelete)throw new a(`${r}:unsupported-operation`,\"Layer does not support deleting features.\");return s.addFeatures=s.addFeatures.map(M),s.updateFeatures=s.updateFeatures.map(M),s.addAssetFeatures=[],s}function V(e,t,r,s,i,n){if(!e||!s&&!i)throw new a(`${n}:missing-parameters`,\"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required\");if(!t.editing.supportsGlobalId&&r?.globalIdUsed)throw new a(`${n}:invalid-parameter`,\"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'\");if(!t.editing.supportsGlobalId&&i)throw new a(`${n}:invalid-parameter`,\"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'\");if(!r?.globalIdUsed&&i)throw new a(`${n}:invalid-parameter`,\"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true\")}function M(t){const a=new e;return t.attributes||(t.attributes={}),a.geometry=t.geometry,a.attributes=t.attributes,a}async function x(e,t){const{infoFor3D:r}=t;if(null==r)return;if(!y(r))throw new a(`${t.type}-layer:binary-gltf-asset-not-supported`,\"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.\");e.addAssetFeatures??=[];const{addAssetFeatures:s}=e;for(const a of e.addFeatures??[])z(a)&&s.push(a);for(const a of e.updateFeatures??[])z(a)&&s.push(a)}function z(e){return\"mesh\"===e?.geometry?.type}function q(e,t,r,s){if(!w(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!t.uploadAssets)throw new a(`${e.type}-layer:no-asset-upload-support`,\"Layer source does not support uploadAssets capability\",{layer:e});return t.uploadAssets(r,s)}export{$ as applyEdits,V as checkEditingCapabilities,I as isFeatureIdentifierArrayWithGlobalId,A as isFeatureIdentifierArrayWithObjectId,v as isFeatureIdentifierWithGlobalId,F as isFeatureIdentifierWithObjectId,D as normalizeCollections,G as normalizeEdits,T as normalizeGeometries,M as shallowCloneFeature,q as uploadAssets};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport t from\"../../Graphic.js\";import e from\"../../core/Error.js\";import r from\"../../core/Logger.js\";import{getMetersPerCartesianUnitForSR as a}from\"../../core/unitUtils.js\";import{parseData as o}from\"../../core/urlUtils.js\";import{isEqualBaseGCS as s,canProjectWithoutEngine as n,projectWithoutEngine as l}from\"../../geometry/projection.js\";import{fromJSON as i}from\"../../geometry/support/jsonUtils.js\";import u from\"../../geometry/support/MeshTransform.js\";import{equals as d}from\"../../geometry/support/spatialReferenceUtils.js\";import{isFeatureIdentifierArrayWithGlobalId as c,isFeatureIdentifierArrayWithObjectId as p}from\"./editingSupport.js\";async function m(t,e,r){const{geometry:o}=e,i={...e.attributes};if(null!=r&&\"mesh\"===o?.type){const{transformFieldRoles:e}=r,{origin:c,spatialReference:p,vertexSpace:m}=o,f=o.transform??new u,g=\"local\"===m.type,b=t.spatialReference,y=b.isGeographic,R=d(b,p),h=s(p,b)&&n(p,b);if(!(g&&y&&h||!g&&!y&&R))return null;const I=l(c,p,b);if(null==I)return null;if(i[e.originX]=I.x,i[e.originY]=I.y,i[e.originZ]=I.z??0,null!=f){const{translation:t,scale:r,rotation:o}=f,s=g?1:a(p)/a(b);i[e.translationX]=t[0]*s,i[e.translationY]=t[2]*s,i[e.translationZ]=-t[1]*s,i[e.scaleX]=r[0],i[e.scaleY]=r[2],i[e.scaleZ]=r[1],i[e.rotationX]=o[0],i[e.rotationY]=o[2],i[e.rotationZ]=-o[1],i[e.rotationDeg]=o[3]}return{attributes:i}}return null==o?{attributes:i}:\"mesh\"===o.type||\"extent\"===o.type?null:{geometry:o.toJSON(),attributes:i}}async function f(t,e){const r=await Promise.all((e.addAttachments??[]).map((e=>g(t,e)))),a=await Promise.all((e.updateAttachments??[]).map((e=>g(t,e)))),o=e.deleteAttachments??[];return r.length||a.length||o.length?{adds:r,updates:a,deletes:[...o]}:null}async function g(t,e){const{feature:r,attachment:a}=e,{globalId:s,name:n,contentType:l,data:i,uploadId:u}=a,d={globalId:s};if(r&&(\"attributes\"in r?d.parentGlobalId=r.attributes?.[t.globalIdField]:r.globalId&&(d.parentGlobalId=r.globalId)),u)d.uploadId=u;else if(i){const t=await o(i);t&&(d.contentType=t.mediaType,d.data=t.data),i instanceof File&&(d.name=i.name)}return n&&(d.name=n),l&&(d.contentType=l),d}function b(t,e,r){if(!e||0===e.length)return[];if(r&&c(e))return e.map((t=>t.globalId));if(p(e))return e.map((t=>t.objectId));const a=r?t.globalIdField:t.objectIdField;return a?e.map((t=>t.getAttribute(a))):[]}function y(t){const e=t?.assetMaps;if(e){for(const t of e.addResults)t.success||r.getLogger(\"esri.layers.graphics.sources.support.sourceUtils\").error(`Failed to map asset to feature with globalId ${t.globalId}.`);for(const t of e.updateResults)t.success||r.getLogger(\"esri.layers.graphics.sources.support.sourceUtils\").error(`Failed to map asset to feature with globalId ${t.globalId}.`)}const a=t?.attachments,o={addFeatureResults:t?.addResults?.map(R)??[],updateFeatureResults:t?.updateResults?.map(R)??[],deleteFeatureResults:t?.deleteResults?.map(R)??[],addAttachmentResults:a?.addResults?a.addResults.map(R):[],updateAttachmentResults:a?.updateResults?a.updateResults.map(R):[],deleteAttachmentResults:a?.deleteResults?a.deleteResults.map(R):[]};return t?.editMoment&&(o.editMoment=t.editMoment),o}function R(t){const r=!0===t.success?null:t.error||{code:void 0,description:void 0};return{objectId:t.objectId,globalId:t.globalId,error:r?new e(\"feature-layer-source:edit-failure\",r.description,{code:r.code}):null}}function h(e,r){return new t({attributes:e.attributes,geometry:i({...e.geometry,spatialReference:r})})}function I(t,e){return{adds:t?.adds?.map((t=>h(t,e)))||[],updates:t?.updates?.map((t=>({original:h(t[0],e),current:h(t[1],e)})))||[],deletes:t?.deletes?.map((t=>h(t,e)))||[],spatialReference:e}}function j(t){const e=t.details.raw,r=+e.code,a=+e.extendedCode;return 500===r&&(-2147217144===a||-2147467261===a)}export{I as createEditedFeatures,R as createFeatureEditResult,f as getAttachmentEditsJSON,b as getFeatureIds,m as getFeatureJSON,j as isProtectedOrPrivateVersionError,y as unpackEditResultData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../config.js\";import\"../../../geometry.js\";import r from\"../../../request.js\";import{isSome as s,remove as a}from\"../../../core/arrayUtils.js\";import i from\"../../../core/Error.js\";import has from\"../../../core/has.js\";import{JSONMap as n}from\"../../../core/jsonMap.js\";import o from\"../../../core/Loadable.js\";import u from\"../../../core/Logger.js\";import{setDeepValue as l}from\"../../../core/object.js\";import{debounce as c,after as d,throwIfAbortError as p}from\"../../../core/promiseUtils.js\";import{watch as y}from\"../../../core/reactiveUtils.js\";import{join as h}from\"../../../core/urlUtils.js\";import{generateBracedUUID as m}from\"../../../core/uuid.js\";import{property as f}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as g}from\"../../../core/accessorSupport/decorators/subclass.js\";import w from\"../../../geometry/Extent.js\";import q from\"../../../geometry/support/MeshGeoreferencedVertexSpace.js\";import{isRelativeVertexSpace as S}from\"../../../geometry/support/meshVertexSpaceUtils.js\";import{isOriginalExternal as E}from\"../../../geometry/support/meshUtils/External.js\";import{createFeatureEditResult as O,getFeatureJSON as _,getFeatureIds as b,getAttachmentEditsJSON as R,isProtectedOrPrivateVersionError as A,unpackEditResultData as F,createEditedFeatures as I}from\"../applyEditsUtils.js\";import{createDrawingInfo as x}from\"./support/clientSideDefaults.js\";import j from\"./support/QueryTask.js\";import{isHostedAgolService as v}from\"../../support/arcgisLayerUrl.js\";import{ensureLayerCredential as T}from\"../../support/featureLayerUtils.js\";import{getAssetMapTable as M}from\"../../support/infoFor3D.js\";import{executeQueryJSON as N}from\"../../../rest/query/executeQueryJSON.js\";import{unapplyEditsZUnitScaling as U}from\"../../../rest/query/operations/editsZScale.js\";import J from\"../../../rest/support/Query.js\";import D from\"../../../time/TimeExtent.js\";import{isSafeToEditVersion as k,isVersionInEditSession as C,isHistoricVersion as L,currentSessionId as Q}from\"../../../versionManagement/support/versionManagementUtils.js\";import P from\"../../../geometry/SpatialReference.js\";const V=new n({originalAndCurrentFeatures:\"original-and-current-features\",none:\"none\"}),$=new n({Started:\"published\",Publishing:\"publishing\",Stopped:\"unavailable\"});let G=class extends o{constructor(e){super(e),this.type=\"feature-layer\",this.supportedSourceTypes=new Set([\"Feature Layer\",\"Oriented Imagery Layer\",\"Table\",\"Catalog Layer\"]),this.refresh=c((async()=>{await this.load();const e=this.sourceJSON.editingInfo?.lastEditDate;if(null==e)return{dataChanged:!0,updates:{}};try{await this._fetchService(null)}catch{return{dataChanged:!0,updates:{}}}const t=e!==this.sourceJSON.editingInfo?.lastEditDate;return{dataChanged:t,updates:t?{editingInfo:this.sourceJSON.editingInfo,extent:this.sourceJSON.extent}:null}})),this._ongoingAssetUploads=new Map}load(e){const t=this.layer.sourceJSON,r=this._fetchService(t,{...e}).then((()=>this.layer.setUserPrivileges(this.sourceJSON.serviceItemId,e))).then((()=>this._ensureLatestMetadata(e)));return this.addResolvingPromise(r),Promise.resolve(this)}initialize(){this.addHandles([y((()=>{const e=this.layer;return e&&\"lastEditsEventDate\"in e?e.lastEditsEventDate:null}),(e=>this._handleLastEditsEventChange(e)))])}destroy(){this._removeEditInterceptor()}get queryTask(){const{capabilities:e,parsedUrl:t,gdbVersion:r,spatialReference:s,fieldsIndex:a}=this.layer,i=\"infoFor3D\"in this.layer?this.layer.infoFor3D:null,n=\"dynamicDataSource\"in this.layer?this.layer.dynamicDataSource:null,o=has(\"featurelayer-pbf\")&&e?.query.supportsFormatPBF&&null==i,u=e?.operations?.supportsQueryAttachments??!1;return new j({url:t.path,pbfSupported:o,fieldsIndex:a,infoFor3D:i,dynamicDataSource:n,gdbVersion:r,sourceSpatialReference:s,queryAttachmentsSupported:u})}async addAttachment(e,t){await this.load();const{layer:s}=this;await T(s,\"editing\");const a=e.attributes[s.objectIdField],i=s.parsedUrl.path+\"/\"+a+\"/addAttachment\",n=this._getLayerRequestOptions(),o=this._getFormDataForAttachment(t,n.query);try{const e=await r(i,{body:o});return O(e.data.addAttachmentResult)}catch(u){throw this._createAttachmentErrorResult(a,u)}}async updateAttachment(e,t,s){await this.load();const{layer:a}=this;await T(a,\"editing\");const i=e.attributes[a.objectIdField],n=a.parsedUrl.path+\"/\"+i+\"/updateAttachment\",o=this._getLayerRequestOptions({query:{attachmentId:t}}),u=this._getFormDataForAttachment(s,o.query);try{const e=await r(n,{body:u});return O(e.data.updateAttachmentResult)}catch(l){throw this._createAttachmentErrorResult(i,l)}}async applyEdits(e,t){await this.load();const{layer:a}=this;await T(a,\"editing\");const n=\"infoFor3D\"in a?a.infoFor3D:null,o=null!=n,u=o||(t?.globalIdUsed??!1),l=o?await this._uploadMeshesAndGetAssetMapEditsJSON(e):null,c=e.addFeatures?.map((e=>_(this.layer,e,n)))??[],d=(await Promise.all(c)).filter(s),p=e.updateFeatures?.map((e=>_(this.layer,e,n)))??[],y=(await Promise.all(p)).filter(s),h=b(this.layer,e.deleteFeatures,u);U(d,y,a.spatialReference);const m=await R(this.layer,e),f=a.capabilities.editing.supportsAsyncApplyEdits&&o,g=t?.gdbVersion||a.gdbVersion,w={gdbVersion:g,rollbackOnFailure:t?.rollbackOnFailureEnabled,useGlobalIds:u,returnEditMoment:t?.returnEditMoment,usePreviousEditMoment:t?.usePreviousEditMoment,async:f};await k(this.layer.url,g,!0);const q=C(this.layer.url,g||null);if(await L(a.url,g,a.historicMoment))throw new i(\"feature-layer-source:historic-version\",\"Editing a historic version is not allowed\");t?.returnServiceEditsOption?(w.edits=JSON.stringify([{id:a.layerId,adds:d.length?d:null,updates:y.length?y:null,deletes:h.length?h:null,attachments:m,assetMaps:l}]),w.returnServiceEditsOption=V.toJSON(t?.returnServiceEditsOption),w.returnServiceEditsInSourceSR=t?.returnServiceEditsInSourceSR):(w.adds=d.length?JSON.stringify(d):null,w.updates=y.length?JSON.stringify(y):null,w.deletes=h.length?u?JSON.stringify(h):h.join(\",\"):null,w.attachments=m&&JSON.stringify(m),w.assetMaps=null!=l?JSON.stringify(l):void 0);const S=this._getLayerRequestOptions({method:\"post\",query:w});q&&(S.authMode=\"immediate\",S.query.returnEditMoment=!0,S.query.sessionId=Q);const E=t?.returnServiceEditsOption?a.url:a.parsedUrl.path;let O;try{O=f?await this._asyncApplyEdits(E+\"/applyEdits\",S):await r(E+\"/applyEdits\",S)}catch(F){if(!A(F))throw F;S.authMode=\"immediate\",O=f?await this._asyncApplyEdits(E+\"/applyEdits\",S):await r(E+\"/applyEdits\",S)}return this._createEditsResult(O)}async deleteAttachments(e,t){await this.load();const{layer:s}=this;await T(s,\"editing\");const a=e.attributes[s.objectIdField],i=s.parsedUrl.path+\"/\"+a+\"/deleteAttachments\";try{return(await r(i,this._getLayerRequestOptions({query:{attachmentIds:t.join(\",\")},method:\"post\"}))).data.deleteAttachmentResults.map(O)}catch(n){throw this._createAttachmentErrorResult(a,n)}}fetchRecomputedExtents(e={}){const t=e.signal;return this.load({signal:t}).then((async()=>{const t=this._getLayerRequestOptions({...e,query:{returnUpdates:!0}}),{layerId:s,url:a}=this.layer,{data:i}=await r(`${a}/${s}`,t),{id:n,extent:o,fullExtent:u,timeExtent:l}=i,c=o||u;return{id:n,fullExtent:c&&w.fromJSON(c),timeExtent:l&&D.fromJSON({start:l[0],end:l[1]})}}))}async queryAttachments(e,t={}){await this.load();const r=this._getLayerRequestOptions(t);return this.queryTask.executeAttachmentQuery(e,r)}async queryFeatures(e,t){await this.load();const r=await this.queryTask.execute(e,{...t,query:this._createRequestQueryOptions(t)});return e.outStatistics?.length&&r.features.length&&r.features.forEach((t=>{const r=t.attributes;e.outStatistics?.forEach((({outStatisticFieldName:e})=>{if(e){const t=e.toLowerCase();t&&t in r&&e!==t&&(r[e]=r[t],delete r[t])}}))})),r}async queryFeaturesJSON(e,t){return await this.load(),this.queryTask.executeJSON(e,{...t,query:this._createRequestQueryOptions(t)})}async queryObjectIds(e,t){return await this.load(),this.queryTask.executeForIds(e,{...t,query:this._createRequestQueryOptions(t)})}async queryFeatureCount(e,t){return await this.load(),this.queryTask.executeForCount(e,{...t,query:this._createRequestQueryOptions(t)})}async queryExtent(e,t){return await this.load(),this.queryTask.executeForExtent(e,{...t,query:this._createRequestQueryOptions(t)})}async queryRelatedFeatures(e,t){return await this.load(),this.queryTask.executeRelationshipQuery(e,{...t,query:this._createRequestQueryOptions(t)})}async queryRelatedFeaturesCount(e,t){return await this.load(),this.queryTask.executeRelationshipQueryForCount(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopFeatures(e,t){return await this.load(),this.queryTask.executeTopFeaturesQuery(e,{...t,query:this._createRequestQueryOptions(t)})}async queryBins(e,t){return await this.load(),this.queryTask.executeBinsQuery(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopObjectIds(e,t){return await this.load(),this.queryTask.executeForTopIds(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopExtents(e,t){return await this.load(),this.queryTask.executeForTopExtents(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopCount(e,t){return await this.load(),this.queryTask.executeForTopCount(e,{...t,query:this._createRequestQueryOptions(t)})}async fetchPublishingStatus(){if(!v(this.layer.url))return\"unavailable\";const e=h(this.layer.url,\"status\"),t=await r(e,{query:{f:\"json\"}});return $.fromJSON(t.data.status)}async uploadAssets(e,t){const{uploadAssets:r}=await import(\"./support/uploadAssets.js\");return r(e,{layer:this.layer,ongoingUploads:this._ongoingAssetUploads},t)}_handleLastEditsEventChange(e){const t=this.layer;if(null==e||!(\"capabilities\"in t)||!(\"effectiveCapabilities\"in t))return;if(!(!t.capabilities?.operations?.supportsEditing&&t.effectiveCapabilities?.operations?.supportsEditing))return;const r=t.url;if(null==r)return;\"layerId\"in t&&h(r,t.layerId.toString());this._getOrCreateEditInterceptor(r).before=t=>{const r=t.requestOptions.method??\"auto\";if(\"auto\"===r||\"head\"===r){const r=t.requestOptions.query??{};r._ts=e.getTime(),t.requestOptions.query=r}}}_getOrCreateEditInterceptor(e){return null==this._editInterceptor&&(this._editInterceptor={urls:e},t.request.internalInterceptors.push(this._editInterceptor)),this._editInterceptor}_removeEditInterceptor(){null!=this._editInterceptor&&(a(t.request.internalInterceptors,this._editInterceptor),this._editInterceptor=null)}async _asyncApplyEdits(e,t){const s=(await r(e,t)).data.statusUrl;for(;;){const e=(await r(s,{query:{f:\"json\"},responseType:\"json\"})).data;switch(e.status){case\"Completed\":return r(e.resultUrl,{query:{f:\"json\"},responseType:\"json\"});case\"CompletedWithErrors\":throw new i(\"async-applyEdits-failed\",\"asynchronous applyEdits call failed.\");case\"Failed ImportChanges\":case\"InProgress\":case\"Pending\":case\"ExportAttachments\":case\"ExportChanges\":case\"ExportingData\":case\"ExportingSnapshot\":case\"ImportAttachments\":case\"ProvisioningReplica\":case\"UnRegisteringReplica\":break;default:throw new i(\"async-applyEdits-failed\",\"asynchronous applyEdits call failed (undefined response status)\")}await d(H)}}_createRequestQueryOptions(e){const t={...this.layer.customParameters,token:this.layer.apiKey,...e?.query};return this.layer.datesInUnknownTimezone&&(t.timeReferenceUnknownClient=!0),t}async _fetchService(e,t){if(!e){const s={};has(\"featurelayer-advanced-symbols\")&&(s.returnAdvancedSymbols=!0),t?.cacheBust&&(s._ts=Date.now());const{data:a}=await r(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:s,signal:t?.signal}));e=a}this.sourceJSON=await this._patchServiceJSON(e,t?.signal);const s=e.type;if(!this.supportedSourceTypes.has(s))throw new i(\"feature-layer-source:unsupported-type\",`Source type \"${s}\" is not supported`)}async _patchServiceJSON(e,t){if(\"Table\"!==e.type&&e.geometryType&&!e?.drawingInfo?.renderer&&!e.defaultSymbol){const t=x(e.geometryType).renderer;l(\"drawingInfo.renderer\",t,e)}if(\"esriGeometryMultiPatch\"===e.geometryType&&e.infoFor3D&&(e.geometryType=\"mesh\"),null==e.extent)try{const{data:s}=await r(this.layer.url,this._getLayerRequestOptions({signal:t}));s.spatialReference&&(e.extent={xmin:0,ymin:0,xmax:0,ymax:0,spatialReference:s.spatialReference})}catch(s){p(s)}return e}async _ensureLatestMetadata(e){if(this.layer.userHasUpdateItemPrivileges&&this.sourceJSON.cacheMaxAge>0)return this._fetchService(null,{...e,cacheBust:!0})}async _uploadMeshesAndGetAssetMapEditsJSON(e){const{addAssetFeatures:t}=e;if(!t?.length)return null;if(await this._areAllAssetsAlreadyMapped(t))return null;const r=e.addFeatures.filter((e=>e.geometry));if(t.length!==r.length+e.updateFeatures.length)throw new i(\"feature-layer-source:unsupported-mesh-edits\",\"Mixing attribute only edits with mesh geometry edits is not currently supported\");const s=new Array,a=new Map;for(const i of t){const{geometry:e}=i,{vertexSpace:t}=e;if(S(t))s.push(e);else{const t=e.origin,{convertMeshVertexSpace:r}=await import(\"../../../geometry/support/meshUtils/convertMeshVertexSpace.js\"),n=await r(e,new q({origin:[t.x,t.y,t.z??0]}));a.set(n,e),i.geometry=n,s.push(n)}}await this.uploadAssets(s);for(const[i,n]of a)n.addExternalSources(i.metadata.externalSources.items);return{adds:this._getAssetMapEditsJSON(t),updates:[],deletes:[]}}_getAssetMapEditsJSON(e){const t=new Array,r=this.layer.globalIdField,s=this.layer.parsedUrl;for(const a of e){const e=a.geometry,{metadata:i}=e,n=i.getExternalSourcesOnService(s),o=a.getAttribute(r);if(0===n.length){u.getLogger(this).error(`Skipping feature ${o}. The mesh it is associated with has not been uploaded to the service and cannot be mapped to it.`);continue}const{source:l}=n.find(E)??n[0];for(const r of l)1===r.parts.length?t.push({globalId:m(),parentGlobalId:o,assetName:r.assetName,assetHash:r.parts[0].partHash,flags:[]}):u.getLogger(this).error(`Skipping asset ${r.assetName}. It does not have exactly one part, so we cannot map it to a feature.`)}return t}_createEditsResult(e){const t=e.data,{layerId:r}=this.layer,s=[];let a=null;if(Array.isArray(t))for(const n of t)s.push({id:n.id,editedFeatures:n.editedFeatures}),n.id===r&&(a={addResults:n.addResults??[],updateResults:n.updateResults??[],deleteResults:n.deleteResults??[],attachments:n.attachments,editMoment:n.editMoment});else a=t;const i=F(a);if(s.length>0){i.editedFeatureResults=[];for(const e of s){const{editedFeatures:t}=e,r=t?.spatialReference?new P(t.spatialReference):null;i.editedFeatureResults.push({layerId:e.id,editedFeatures:I(t,r)})}}return i}_createAttachmentErrorResult(e,t){const r=t.details.messages?.[0]||t.message,s=t.details.httpStatus||t.details.messageCode;return{objectId:e,globalId:null,error:new i(\"feature-layer-source:attachment-failure\",r,{code:s})}}_getFormDataForAttachment(e,t){const r=e instanceof FormData?e:e&&e.elements?new FormData(e):null;if(r)for(const s in t){const e=t[s];null!=e&&(r.set?r.set(s,e):r.append(s,e))}return r}_getLayerRequestOptions(e={}){const{layer:t,layer:{parsedUrl:r,gdbVersion:s}}=this;return{...e,query:{gdbVersion:s,layer:\"dynamicDataSource\"in t&&t.dynamicDataSource?JSON.stringify({source:t.dynamicDataSource}):void 0,...r.query,f:\"json\",...this._createRequestQueryOptions(e)},responseType:\"json\"}}async _areAllAssetsAlreadyMapped(e){const{layer:t}=this,{globalIdField:r,parsedUrl:a}=t,i=\"infoFor3D\"in t?t.infoFor3D:null;if(null==i||null==r)return!1;const n=M(i);if(null==n)return!1;const o=h(a.path,`../${n.id}`),u=new Array;for(const s of e){if(!(s.geometry.metadata.getExternalSourcesOnService(a).length>0))return!1;u.push(s)}const l=u.map((e=>e.getAttribute(r))).filter(s);if(0===l.length)return!1;const{assetMapFieldRoles:{parentGlobalId:c,assetHash:d}}=i,p=new J({where:`${c} IN (${l.map((e=>`'${e}'`))})`,outFields:[d,c],returnGeometry:!1}),y=await N(o,p),{features:m}=y;return 0!==m.length&&!u.some((e=>{const t=e.getAttribute(r);if(!t)return!0;const{metadata:s}=e.geometry,i=m.filter((e=>e.getAttribute(c)===t));if(0===i.length)return!0;const n=i.map((e=>e.getAttribute(d)));return s.getExternalSourcesOnService(a).flatMap((({source:e})=>e.flatMap((e=>e.parts.map((e=>e.partHash)))))).some((e=>n.every((t=>e!==t))))}))}};e([f()],G.prototype,\"type\",void 0),e([f({constructOnly:!0})],G.prototype,\"layer\",void 0),e([f({constructOnly:!0})],G.prototype,\"supportedSourceTypes\",void 0),e([f({readOnly:!0})],G.prototype,\"queryTask\",null),G=e([g(\"esri.layers.graphics.sources.FeatureLayerSource\")],G);const H=1e3,B=G;export{B as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clone as t}from\"../../../../core/lang.js\";import{queryCapabilities as s}from\"../../data/QueryEngineCapabilities.js\";import{zeroQueryBins as r}from\"../../../support/capabilities.js\";import{defaultPointSymbolJSON as e,defaultPolylineSymbolJSON as p,defaultPolygonSymbolJSON as o}from\"../../../../symbols/support/defaultsJSON.js\";function u(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?e:\"esriGeometryPolyline\"===t?p:o}}}const n=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let i=1;function a(t,s){if(has(\"esri-csp-restrictions\"))return()=>({[s]:null,...t});try{let r=`this${c(s)} = null;`;for(const s in t){r+=`this${c(s)} = ${JSON.stringify(t[s])};`}const e=new Function(`\\n      return class AttributesClass$${i++} {\\n        constructor() {\\n          ${r};\\n        }\\n      }\\n    `)();return()=>new e}catch(r){return()=>({[s]:null,...t})}}function c(t){return n.test(t)?`.${t}`:`[\"${t}\"]`}function l(s={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:t(s)}}]}function y(t,e){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:e,supportsDelete:e,supportsEditing:e,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryBins:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:e,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:s,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryBins:r,editing:{supportsGeometryUpdate:e,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}export{y as createCapabilities,a as createDefaultAttributesFunction,l as createDefaultTemplate,u as createDrawingInfo};\n"],"names":["t","supportsStatistics","supportsPercentileStatistics","supportsSpatialAggregationStatistics","supportedSpatialAggregationStatistics","envelope","centroid","convexHull","supportsCentroid","supportsCacheHint","supportsDistance","supportsDistinct","supportsExtent","supportsGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQuantization","supportsQuantizationEditMode","supportsQueryGeometry","supportsResultType","supportsSqlExpression","supportsMaxRecordCountFactor","supportsStandardizedQueriesOnly","supportsTopFeaturesQuery","supportsQueryByAnonymous","supportsQueryByOthers","supportsHistoricMoment","supportsFormatPBF","supportsDisjointSpatialRelationship","supportsDefaultSpatialReference","supportsFullTextSearch","supportsCompactGeometry","maxRecordCountFactor","maxRecordCount","standardMaxRecordCount","tileMaxRecordCount","w","e","applyEdits","F","objectId","A","every","v","globalId","I","async","$","a","n","s","arguments","length","undefined","o","gdbVersion","l","h","url","m","layerId","returnServiceEditsOption","i","promise","then","addedFeatures","updatedFeatures","deletedFeatures","addedAttachments","updatedAttachments","deletedAttachments","emit","result","results","edits","r","load","type","layer","g","options","b","addFeatures","updateFeatures","deleteFeatures","addAttachments","updateAttachments","deleteAttachments","infoFor3D","editing","supportsGlobalId","globalIdUsed","V","data","isVersioned","supportsRollbackOnFailure","rollbackOnFailureEnabled","d","getLogger","warn","supportsReturnServiceEditsInSourceSpatialReference","returnServiceEditsInSourceSR","u","Array","from","isCollection","toArray","D","operations","supportsAdd","supportsUpdate","supportsDelete","map","M","addAssetFeatures","G","p","c","fields","filter","globalIdField","forEach","attributes","B","R","j","O","geometry","supportsGeometryUpdate","k","U","L","y","z","push","x","T","S","addFeatureResults","updateFeatureResults","deleteFeatureResults","addAttachmentResults","updateAttachmentResults","deleteAttachmentResults","E","error","exceededTransferLimit","historicMoment","editMoment","Date","globalIdToObjectId","editedFeatureResults","editedFeatures","resolve","reject","name","f","Number","MAX_SAFE_INTEGER","feature","hasZ","capabilities","supportsZ","hasM","supportsM","spatialReference","vertexSpace","wkid","attachment","uploadId","File","supportsUploadWithItemId","isBase64","concat","slice","q","uploadAssets","transformFieldRoles","origin","transform","isGeographic","originX","originY","originZ","translation","scale","rotation","translationX","translationY","translationZ","scaleX","scaleY","scaleZ","rotationX","rotationY","rotationZ","rotationDeg","toJSON","Promise","all","adds","updates","deletes","contentType","parentGlobalId","mediaType","success","code","description","original","current","originalAndCurrentFeatures","none","Started","Publishing","Stopped","constructor","super","this","supportedSourceTypes","Set","refresh","sourceJSON","editingInfo","lastEditDate","dataChanged","_fetchService","extent","_ongoingAssetUploads","Map","setUserPrivileges","serviceItemId","_ensureLatestMetadata","addResolvingPromise","initialize","addHandles","lastEditsEventDate","_handleLastEditsEventChange","destroy","_removeEditInterceptor","queryTask","parsedUrl","fieldsIndex","dynamicDataSource","has","query","supportsQueryAttachments","path","pbfSupported","sourceSpatialReference","queryAttachmentsSupported","addAttachment","objectIdField","_getLayerRequestOptions","_getFormDataForAttachment","body","addAttachmentResult","_createAttachmentErrorResult","updateAttachment","attachmentId","updateAttachmentResult","_uploadMeshesAndGetAssetMapEditsJSON","_","getAttribute","supportsAsyncApplyEdits","rollbackOnFailure","useGlobalIds","returnEditMoment","usePreviousEditMoment","C","JSON","stringify","id","attachments","assetMaps","join","method","authMode","sessionId","Q","_asyncApplyEdits","details","raw","extendedCode","_createEditsResult","attachmentIds","fetchRecomputedExtents","signal","returnUpdates","fullExtent","timeExtent","fromJSON","start","end","queryAttachments","executeAttachmentQuery","queryFeatures","execute","_createRequestQueryOptions","outStatistics","features","_ref","outStatisticFieldName","toLowerCase","queryFeaturesJSON","executeJSON","queryObjectIds","executeForIds","queryFeatureCount","executeForCount","queryExtent","executeForExtent","queryRelatedFeatures","executeRelationshipQuery","queryRelatedFeaturesCount","executeRelationshipQueryForCount","queryTopFeatures","executeTopFeaturesQuery","queryBins","executeBinsQuery","queryTopObjectIds","executeForTopIds","queryTopExtents","executeForTopExtents","queryTopCount","executeForTopCount","fetchPublishingStatus","status","ongoingUploads","supportsEditing","effectiveCapabilities","toString","_getOrCreateEditInterceptor","before","requestOptions","_ts","getTime","_editInterceptor","urls","request","internalInterceptors","statusUrl","responseType","resultUrl","H","customParameters","token","apiKey","datesInUnknownTimezone","timeReferenceUnknownClient","returnAdvancedSymbols","cacheBust","now","_patchServiceJSON","geometryType","drawingInfo","renderer","defaultSymbol","xmin","ymin","xmax","ymax","userHasUpdateItemPrivileges","cacheMaxAge","_areAllAssetsAlreadyMapped","convertMeshVertexSpace","set","addExternalSources","metadata","externalSources","items","_getAssetMapEditsJSON","getExternalSourcesOnService","source","find","parts","assetName","assetHash","partHash","flags","isArray","addResults","updateResults","deleteResults","P","messages","message","httpStatus","messageCode","FormData","elements","append","assetMapFieldRoles","J","where","outFields","returnGeometry","N","some","flatMap","_ref2","prototype","constructOnly","readOnly","symbol","Function","test","analytics","isBranchVersioned","supportsAttachment","supportsAdvancedFieldProperties","supportsCalculate","supportsTruncate","supportsValidateSql","supportsChangeTracking","supportsQuery","supportsQueryBins","supportsQueryAnalytics","supportsQueryTopFeatures","supportsResizeAttachments","supportsSync","supportsExceedsLimitStatistics","supportsAsyncConvert3D","queryRelated","supportsCount","supportsUpdateWithoutM","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsUpdateByAnonymous","supportsUpdateByOthers","zDefault"],"sourceRoot":""}