{"version":3,"file":"static/js/3816.36c668ae.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingComponentSublayer.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingSublayer.js","../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceController.js","../node_modules/@arcgis/core/views/3d/terrain/isTerrainSurfaceLayer.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceTool.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/SliceAnalysisView3D.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolConfig.js","../node_modules/@arcgis/core/views/3d/analysis/images/generateTextures.js","../node_modules/@arcgis/core/views/3d/analysis/images/heading-rotate-svg.js","../node_modules/@arcgis/core/views/3d/analysis/images/tilt-rotate-svg.js","../node_modules/@arcgis/core/views/3d/analysis/images/Factory.js","../node_modules/@arcgis/core/views/3d/analysis/support/projectionUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js","../node_modules/@arcgis/core/views/interactive/ToolIntersector.js","../node_modules/@arcgis/core/views/support/geometry2dUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as i}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{defaultMaskAlphaCutoff as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as a}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as d}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as n}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as p}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{TransparencyPassType as g}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as c}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function v(v){const f=new n,{vertex:u,fragment:m}=f;return t(u,v),f.include(o,v),f.attributes.add(c.POSITION,\"vec3\"),f.attributes.add(c.UV0,\"vec2\"),v.perspectiveInterpolation&&f.attributes.add(c.PERSPECTIVEDIVIDE,\"float\"),f.varyings.add(\"vpos\",\"vec3\"),v.multipassEnabled&&f.varyings.add(\"depth\",\"float\"),u.code.add(d`\n    void main(void) {\n      vpos = position;\n      ${v.multipassEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0;\n      gl_Position = transformPosition(proj, view, vpos);\n\n      ${v.perspectiveInterpolation?\"gl_Position *= perspectiveDivide;\":\"\"}\n    }\n  `),f.include(r,v),f.include(i,v),m.uniforms.add(new p(\"tex\",(e=>e.texture)),new l(\"opacity\",(e=>e.opacity))),f.varyings.add(\"vTexCoord\",\"vec2\"),v.transparencyPassType===g.ColorAlpha&&(f.outputs.add(\"fragColor\",\"vec4\",0),f.outputs.add(\"fragAlpha\",\"float\",1)),m.include(a),m.code.add(d`\n    void main() {\n      discardBySlice(vpos);\n      ${v.multipassEnabled?\"terrainDepthTest(depth);\":\"\"}\n      fragColor = texture(tex, vTexCoord) * opacity;\n\n      if (fragColor.a < ${d.float(s)}) {\n        discard;\n      }\n\n      fragColor = highlightSlice(fragColor, vpos);\n      ${v.transparencyPassType===g.ColorAlpha?d`\n              fragColor = premultiplyAlpha(fragColor);\n              fragAlpha = fragColor.a;`:\"\"}\n      ${v.output===e.ObjectAndLayerIdColor?d`\n              fragColor = vec4(0,0,0,1);`:\"\"}\n    }\n    `),f}const f=Object.freeze(Object.defineProperty({__proto__:null,build:v},Symbol.toStringTag,{value:\"Module\"}));export{f as I,v as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import r from\"../../PopupTemplate.js\";import\"../../renderers/ClassBreaksRenderer.js\";import\"../../renderers/DictionaryRenderer.js\";import\"../../renderers/DotDensityRenderer.js\";import\"../../renderers/HeatmapRenderer.js\";import\"../../renderers/PieChartRenderer.js\";import\"../../renderers/Renderer.js\";import\"../../renderers/SimpleRenderer.js\";import\"../../renderers/UniqueValueRenderer.js\";import\"../../renderers/support/jsonUtils.js\";import{webSceneRendererTypes as o}from\"../../renderers/support/types.js\";import s from\"../../request.js\";import i from\"../../core/Error.js\";import{JSONMap as a}from\"../../core/jsonMap.js\";import n from\"../../core/Loadable.js\";import p from\"../../core/Logger.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as d}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{enumeration as u}from\"../../core/accessorSupport/decorators/enumeration.js\";import{reader as y}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import m from\"../../geometry/Extent.js\";import h from\"../../geometry/SpatialReference.js\";import f from\"../FeatureLayer.js\";import g from\"./BuildingSublayer.js\";import{zeroCapabilities as j}from\"../support/capabilities.js\";import{popupEnabled as v}from\"../support/commonProperties.js\";import{defineFieldProperties as b}from\"../support/fieldProperties.js\";import L from\"../support/FieldsIndex.js\";import{unpackFieldNames as I}from\"../support/fieldUtils.js\";import{fetchIndexInfo as S}from\"../support/I3SIndexInfo.js\";import{I3SNodePageDefinition as F,I3SMaterialDefinition as w,I3STextureSetDefinition as O,I3SGeometryDefinition as x}from\"../support/I3SLayerDefinitions.js\";import P from\"../../rest/support/Query.js\";import{createPopupTemplate as q}from\"../../support/popupUtils.js\";import T from\"../../symbols/support/ElevationInfo.js\";import{queryAttributesFromCachedAttributesId as R}from\"../../views/3d/layers/i3s/I3SUtil.js\";import{getRequiredFields as U,getFetchPopupTemplate as D}from\"../../views/layers/support/popupUtils.js\";const Q=b();let E=class extends(n.LoadableMixin(l(g))){constructor(e){super(e),this.type=\"building-component\",this.nodePages=null,this.materialDefinitions=[],this.textureSetDefinitions=[],this.geometryDefinitions=[],this.indexInfo=null,this.serviceUpdateTimeStamp=null,this.store=null,this.attributeStorageInfo=[],this.fields=[],this.associatedLayer=null,this.outFields=null,this.listMode=\"show\",this.renderer=null,this.definitionExpression=null,this.popupEnabled=!0,this.popupTemplate=null,this.layerType=\"3d-object\"}get parsedUrl(){return this.layer?{path:`${this.layer.parsedUrl?.path}/sublayers/${this.id}`,query:this.layer.parsedUrl?.query}:{path:\"\"}}get fieldsIndex(){return new L(this.fields)}readAssociatedLayer(e,t){const r=this.layer.associatedFeatureServiceItem,o=t.associatedLayerID;return null!=r&&\"number\"==typeof o?new f({portalItem:r,customParameters:this.customParameters,layerId:o}):null}get objectIdField(){if(null!=this.fields)for(const e of this.fields)if(\"oid\"===e.type)return e.name;return null}get displayField(){return null!=this.associatedLayer?this.associatedLayer.displayField:void 0}get apiKey(){return this.layer.apiKey}get customParameters(){return this.layer.customParameters}get fullExtent(){return this.layer.fullExtent}get spatialReference(){return this.layer.spatialReference}get version(){return this.layer.version}get elevationInfo(){return this.layer.elevationInfo}get minScale(){return this.layer.minScale}get maxScale(){return this.layer.maxScale}get effectiveScaleRange(){return this.layer.effectiveScaleRange}get defaultPopupTemplate(){return this.createPopupTemplate()}load(e){const t=null!=e?e.signal:null,r=this._fetchService(t).then((()=>{this.indexInfo=S(this.parsedUrl.path,this.rootNode,this.nodePages,this.customParameters,this.apiKey,p.getLogger(this),t)}));return this.addResolvingPromise(r),Promise.resolve(this)}createPopupTemplate(e){return q(this,e)}async _fetchService(e){const t=(await s(this.parsedUrl.path,{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e})).data;this.read(t,{origin:\"service\",url:this.parsedUrl})}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,t){const r=this.getFeatureType(t?.feature)?.domains?.[e];return r&&\"inherited\"!==r.type?r:this.getField(e)?.domain??null}getFeatureType(e){return e&&null!=this.associatedLayer?this.associatedLayer.getFeatureType(e):null}get types(){return null!=this.associatedLayer?this.associatedLayer.types??[]:[]}get typeIdField(){return null!=this.associatedLayer?this.associatedLayer.typeIdField:null}get geometryType(){return\"3d-object\"===this.layerType?\"mesh\":\"point\"}get profile(){return\"3d-object\"===this.layerType?\"mesh-pyramids\":\"points\"}get capabilities(){const e=null!=this.associatedLayer&&this.associatedLayer.capabilities?this.associatedLayer.capabilities:j,{query:t,data:{supportsZ:r,supportsM:o,isVersioned:s}}=e;return{query:t,data:{supportsZ:r,supportsM:o,isVersioned:s}}}createQuery(){const e=new P;return\"mesh\"!==this.geometryType&&(e.returnGeometry=!0,e.returnZ=!0),e.where=this.definitionExpression||\"1=1\",e.sqlFormat=\"standard\",e}queryExtent(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryExtent(e||this.createQuery(),t)))}queryFeatureCount(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryFeatureCount(e||this.createQuery(),t)))}queryFeatures(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryFeatures(e||this.createQuery(),t))).then((e=>{if(e?.features)for(const t of e.features)t.layer=this.layer,t.sourceLayer=this;return e}))}queryObjectIds(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryObjectIds(e||this.createQuery(),t)))}async queryCachedAttributes(e,t){const r=I(this.fieldsIndex,await U(this,D(this)));return R(this.parsedUrl.path,this.attributeStorageInfo,e,t,r,this.apiKey,this.customParameters)}async queryCachedFeature(e,r){const o=await this.queryCachedAttributes(e,[r]);if(!o||0===o.length)throw new i(\"scenelayer:feature-not-in-cached-data\",\"Feature not found in cached data\");return new t({attributes:o[0],layer:this,sourceLayer:this})}getFieldUsageInfo(e){return this.fieldsIndex.has(e)?{supportsLabelingInfo:!1,supportsRenderer:!1,supportsPopupTemplate:!1,supportsLayerQuery:!1}:{supportsLabelingInfo:!1,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:null!=this.associatedLayer}}_getAssociatedLayerForQuery(){const e=this.associatedLayer;return null!=e&&e.loaded?Promise.resolve(e):this._loadAssociatedLayerForQuery()}async _loadAssociatedLayerForQuery(){if(await this.load(),null==this.associatedLayer)throw new i(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer component layer queries are not available without an associated feature layer\",{layer:this});try{await this.associatedLayer.load()}catch(e){throw new i(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer associated feature layer could not be loaded\",{layer:this,error:e})}return this.associatedLayer}};e([d({readOnly:!0})],E.prototype,\"parsedUrl\",null),e([d({type:F,readOnly:!0})],E.prototype,\"nodePages\",void 0),e([d({type:[w],readOnly:!0})],E.prototype,\"materialDefinitions\",void 0),e([d({type:[O],readOnly:!0})],E.prototype,\"textureSetDefinitions\",void 0),e([d({type:[x],readOnly:!0})],E.prototype,\"geometryDefinitions\",void 0),e([d({readOnly:!0})],E.prototype,\"serviceUpdateTimeStamp\",void 0),e([d({readOnly:!0})],E.prototype,\"store\",void 0),e([d({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],E.prototype,\"rootNode\",void 0),e([d({readOnly:!0})],E.prototype,\"attributeStorageInfo\",void 0),e([d(Q.fields)],E.prototype,\"fields\",void 0),e([d({readOnly:!0})],E.prototype,\"fieldsIndex\",null),e([d({readOnly:!0,type:f})],E.prototype,\"associatedLayer\",void 0),e([y(\"service\",\"associatedLayer\",[\"associatedLayerID\"])],E.prototype,\"readAssociatedLayer\",null),e([d(Q.outFields)],E.prototype,\"outFields\",void 0),e([d({type:String,readOnly:!0})],E.prototype,\"objectIdField\",null),e([d({readOnly:!0,type:String,json:{read:!1}})],E.prototype,\"displayField\",null),e([d({readOnly:!0,type:String})],E.prototype,\"apiKey\",null),e([d({readOnly:!0,type:String})],E.prototype,\"customParameters\",null),e([d({readOnly:!0,type:m})],E.prototype,\"fullExtent\",null),e([d({readOnly:!0,type:h})],E.prototype,\"spatialReference\",null),e([d({readOnly:!0})],E.prototype,\"version\",null),e([d({readOnly:!0,type:T})],E.prototype,\"elevationInfo\",null),e([d({readOnly:!0,type:Number})],E.prototype,\"minScale\",null),e([d({readOnly:!0,type:Number})],E.prototype,\"maxScale\",null),e([d({readOnly:!0,type:Number})],E.prototype,\"effectiveScaleRange\",null),e([d({type:[\"hide\",\"show\"],json:{write:!0}})],E.prototype,\"listMode\",void 0),e([d({types:o,json:{origins:{service:{read:{source:\"drawingInfo.renderer\"}}},name:\"layerDefinition.drawingInfo.renderer\",write:!0},value:null})],E.prototype,\"renderer\",void 0),e([d({type:String,json:{origins:{service:{read:!1,write:!1}},name:\"layerDefinition.definitionExpression\",write:{enabled:!0,allowNull:!0}}})],E.prototype,\"definitionExpression\",void 0),e([d(v)],E.prototype,\"popupEnabled\",void 0),e([d({type:r,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\"}}})],E.prototype,\"popupTemplate\",void 0),e([d({readOnly:!0,type:String,json:{origins:{service:{read:{source:\"store.normalReferenceFrame\"}}},read:!1}})],E.prototype,\"normalReferenceFrame\",void 0),e([d({readOnly:!0,json:{read:!1}})],E.prototype,\"defaultPopupTemplate\",null),e([d()],E.prototype,\"types\",null),e([d()],E.prototype,\"typeIdField\",null),e([d({json:{write:!1}}),u(new a({\"3DObject\":\"3d-object\",Point:\"point\"}))],E.prototype,\"layerType\",void 0),e([d()],E.prototype,\"geometryType\",null),e([d()],E.prototype,\"profile\",null),e([d({readOnly:!0,json:{read:!1}})],E.prototype,\"capabilities\",null),e([d({readOnly:!0})],E.prototype,\"statisticsInfo\",void 0),E=e([c(\"esri.layers.buildingSublayers.BuildingComponentSublayer\")],E);const A=E;export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{IdentifiableMixin as o}from\"../../core/Identifiable.js\";import{MultiOriginJSONSupport as r}from\"../../core/MultiOriginJSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{Integer as i}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/RandomLCG.js\";import\"../../core/has.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{readOnlyService as l}from\"../support/commonProperties.js\";let n=class extends(o(r)){constructor(e){super(e),this.title=\"\",this.id=-1,this.modelName=null,this.isEmpty=null,this.legendEnabled=!0,this.visible=!0,this.opacity=1}readTitle(e,o){return\"string\"==typeof o.alias?o.alias:\"string\"==typeof o.name?o.name:\"\"}readIdOnlyOnce(e){return-1!==this.id?this.id:\"number\"==typeof e?e:-1}};e([t({type:String,json:{origins:{\"web-scene\":{write:!0},\"portal-item\":{write:!0}}}})],n.prototype,\"title\",void 0),e([s(\"service\",\"title\",[\"alias\",\"name\"])],n.prototype,\"readTitle\",null),e([t()],n.prototype,\"layer\",void 0),e([t({type:i,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],n.prototype,\"id\",void 0),e([s(\"service\",\"id\")],n.prototype,\"readIdOnlyOnce\",null),e([t(l(String))],n.prototype,\"modelName\",void 0),e([t(l(Boolean))],n.prototype,\"isEmpty\",void 0),e([t({type:Boolean,nonNullable:!0})],n.prototype,\"legendEnabled\",void 0),e([t({type:Boolean,json:{name:\"visibility\",write:!0}})],n.prototype,\"visible\",void 0),e([t({type:Number,json:{write:!0}})],n.prototype,\"opacity\",void 0),n=e([p(\"esri.layers.buildingSublayers.BuildingSublayer\")],n);const a=n;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{EsriPromiseMixin as r}from\"../../../core/Promise.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";const s=s=>{let n=class extends(r(s)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return null==this.parent||this.parent.visible&&!this.parent.suspended}set visible(e){this._overrideIfSome(\"visible\",e)}forceInteractiveForViewModel(){return this._interactiveViewModelCount++,t((()=>this._interactiveViewModelCount--))}};return e([i({constructOnly:!0})],n.prototype,\"parent\",void 0),e([i({constructOnly:!0})],n.prototype,\"view\",void 0),e([i({type:Boolean})],n.prototype,\"interactive\",null),e([i()],n.prototype,\"_userInteractive\",void 0),e([i({readOnly:!0})],n.prototype,\"updating\",null),e([i()],n.prototype,\"visible\",null),e([i()],n.prototype,\"_interactiveViewModelCount\",void 0),n=e([o(\"esri.views.3d.analysis.AnalysisView3D\")],n),n};export{s as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../analysis/SlicePlane.js\";import a from\"../../../../core/Accessor.js\";import t from\"../../../../core/Logger.js\";import{watch as l}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as r}from\"../../../../chunks/boundedPlane.js\";import o from\"../../../../layers/Layer.js\";import c from\"../../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import{isIBuildingSceneLayerView3D as h,projectAndElevationAlignShape as u,projectedShapeToPlane as d,planeToShape as p}from\"./sliceToolUtils.js\";import{logFailedGeometryProjectionError as y}from\"../support/projectionUtils.js\";import{isTerrainSurfaceLayer as w}from\"../../terrain/isTerrainSurfaceLayer.js\";let v=class extends a{constructor(e){super(e),this._internalChange=!1,this._currentSlicePlane=null}initialize(){this.addHandles(this.analysis.excludedLayers.on(\"before-add\",(e=>{const i=e.item;null!=i&&(i instanceof o||i instanceof c)?i instanceof o&&w(i)?(t.getLogger(this).error(\"excludedLayers\",`Layer '${i.title}, id:${i.id}' of type '${i.type}' can not be individually excluded from slicing. Use 'excludeGroundSurface' instead.`),e.preventDefault()):this.analysis.excludedLayers.includes(i)&&e.preventDefault():(t.getLogger(this).error(\"excludedLayers\",\"Invalid layer type, layer must derive from Layer or BuildingComponentSublayer\"),e.preventDefault())}))),V(this.view,this),this.addHandles([l((()=>this.analysisViewData.plane),(()=>{this._internalChange||this._updateSlicePlaneFromBoundedPlane(),this._updateLayerViews()}),{sync:!0}),l((()=>this.analysis.excludeGroundSurface),(()=>this._updateLayerViews()),{sync:!0}),this.analysis.excludedLayers.on(\"change\",(()=>this._updateLayerViews())),l((()=>[this.analysisViewData.active,this.analysisViewData.visible]),(()=>{this._updateActiveController(),this._updateViewSlicePlane()}),{sync:!0}),l((()=>this._allLayerAndSubLayerViews),(()=>this._updateLayerViews()))]),this.addHandles([l((()=>this.analysis.shape),(()=>{this._internalChange||(this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane())}),{sync:!0})],\"analysis\"),this._updateActiveController(),this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane()}destroy(){this.analysisViewData.active&&(this.analysisViewData.active=!1,this.view.slicePlane=null,this._updateActiveController(),this._updateViewSlicePlane()),L(this.view,this),this.set(\"view\",null)}get _allLayerAndSubLayerViews(){const e=this.view.allLayerViews.items;return e.concat(e.filter(h).flatMap((({sublayerViews:e})=>e.items)))}_updateBoundedPlaneFromSlicePlane(){const e=this.analysis.shape,i=this._currentSlicePlane;if(null==i&&null==e||null!=i&&null!=e&&e.equals(i))return;let a=null,l=null;if(null!=e?.position){const i=e.position.spatialReference,s=u(e,this.view);null==s&&y(this.analysis,i,t.getLogger(this)),a=d(s,this.view,{tiltEnabled:this.analysis.tiltEnabled},r()),null!=a&&(l={heading:e.heading,tilt:e.tilt,position:e.position,width:e.width,height:e.height})}this._currentSlicePlane=l,this._internalChange=!0,this.analysisViewData.plane=a,this._internalChange=!1}_updateSlicePlaneFromBoundedPlane(){const e=this.analysisViewData.plane,a=p(e,this.view,this.view.spatialReference,new i);let t=null;null!=a&&(t={heading:a.heading,tilt:a.tilt,position:a.position,width:a.width,height:a.height}),this._currentSlicePlane=t,this._internalChange=!0,this.analysis.shape=a,this._internalChange=!1,this._updateViewSlicePlane()}_updateActiveController(){if(m)return;const e=_(this.view);if(!e)return;if(this.analysisViewData.active)null!=e.activeController&&e.activeController!==this?(m=!0,e.activeController.analysisViewData.active=!1,m=!1):null!=e.activeController&&e.activeController,this._updateLayerViews(),e.activeController=this;else{if(null!=e.activeController&&e.activeController!==this)return;null!=e.activeController&&e.activeController===this&&(e.activeController=null,this._updateLayerViews())}}_updateViewSlicePlane(){g(this.view)}_updateLayerViews(){const e=null!=this.analysisViewData.plane&&this.analysisViewData.visible&&this.analysisViewData.active,i=[],a=e=>{\"layers\"in e?e.layers.forEach(a):i.push(e)};this.analysis.excludedLayers.forEach(a),this.view.allLayerViews.forEach((a=>{a.destroyed||(\"slicePlaneEnabled\"in a&&(a.slicePlaneEnabled=e&&!i.includes(a.layer)),\"sublayerViews\"in a&&a.sublayerViews.forEach((a=>{a.slicePlaneEnabled=e&&!i.includes(a.sublayer)})))})),null!=this.view.basemapTerrain&&(this.view.basemapTerrain.slicePlaneEnabled=e&&!this.analysis.excludeGroundSurface)}};e([s()],v.prototype,\"view\",void 0),e([s()],v.prototype,\"analysis\",void 0),e([s()],v.prototype,\"analysisViewData\",void 0),e([s()],v.prototype,\"_allLayerAndSubLayerViews\",null),v=e([n(\"esri.views.3d.analysis.Slice.SliceController\")],v);const f=new Map;let m=!1;function g(e){const i=_(e),a=i?.activeController;null!=a?.analysisViewData.plane&&a.analysisViewData.visible?e.slicePlane=a.analysisViewData.plane:e.slicePlane=null}function V(e,i){f.has(e)||f.set(e,{all:[],activeController:null}),f.get(e)?.all.push(i)}function _(e){return f.get(e)}function L(e,i){if(!f.has(e))throw new Error(\"view expected in global slice register\");const a=f.get(e),t=a?.all.lastIndexOf(i)??-1;if(!a||-1===t)throw new Error(\"controller expected in global slice register\");a.all.splice(t,1),0===a.all.length&&f.delete(e)}export{v as SliceController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";function a(a){switch(a.type){case\"building-scene\":case\"catalog\":case\"catalog-dynamic-group\":case\"catalog-footprint\":case\"csv\":case\"dimension\":case\"feature\":case\"geo-rss\":case\"geojson\":case\"graphics\":case\"group\":case\"integrated-mesh\":case\"integrated-mesh-3dtiles\":case\"kml\":case\"knowledge-graph\":case\"link-chart\":case\"knowledge-graph-sublayer\":case\"line-of-sight\":case\"map-notes\":case\"ogc-feature\":case\"oriented-imagery\":case\"point-cloud\":case\"route\":case\"scene\":case\"stream\":case\"voxel\":case\"subtype-group\":case\"unknown\":case\"unsupported\":case\"wfs\":case null:return!1;case\"base-dynamic\":case\"base-elevation\":case\"base-tile\":case\"bing-maps\":case\"elevation\":case\"imagery\":case\"imagery-tile\":case\"map-image\":case\"media\":case\"open-street-map\":case\"tile\":case\"vector-tile\":case\"video\":case\"wcs\":case\"web-tile\":case\"wms\":case\"wmts\":return!0;default:return e(a.type),!1}}export{a as isTerrainSurfaceLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../analysis/SlicePlane.js\";import{clock as i}from\"../../../../core/clock.js\";import{destroyMaybe as a,removeMaybe as s}from\"../../../../core/maybe.js\";import{watch as n,sync as r,syncAndInitial as l}from\"../../../../core/reactiveUtils.js\";import{addFrameTask as o}from\"../../../../core/scheduling.js\";import{createScreenPoint as h,screenPointObjectToArray as p}from\"../../../../core/screenUtils.js\";import{property as u}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromRotation as d,fromScaling as _,multiply as v}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{m as P,l as y,c as m,j as w,g,h as f,n as M,s as D}from\"../../../../chunks/vec32.js\";import{clone as V,create as b}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{clone as T,ZEROS as E}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{a as k,c as S,n as x,f as j}from\"../../../../chunks/boundedPlane.js\";import{signedDistance as H,create as C,intersectRay as R,getNormal as O}from\"../../../../geometry/support/plane.js\";import{create as I}from\"../../../../geometry/support/ray.js\";import{sv3d as z,sm4d as G,sv2d as L}from\"../../../../geometry/support/vectorStacks.js\";import{getRotateHeadingTexture as U,getTiltRotateTexture as A}from\"../images/Factory.js\";import{ResizeManipulator as K}from\"./ResizeManipulator.js\";import{RotateManipulator as B}from\"./RotateManipulator.js\";import{getOutlineColor as F,planeColor as N}from\"./settings.js\";import{ShiftManipulator as q,OffsetMode as Z}from\"./ShiftManipulator.js\";import{pointerMoveTimerMs as W,planePreviewOutlineWidth as J,forceVerticalModifier as Q,forceHorizontalModifier as X,previewFadeDotThreshold as Y,previewFadeDurationSeconds as $,initialDepthOffsetFrac as tt}from\"./sliceToolConfig.js\";import{createGridVisualElement as et,createOutlineVisualElement as it,planeToShape as at,createRotatePlane as st,RotationAxis as nt,resizePlane as rt,calculatePlaneHalfSize as lt,SliceOrientation as ot,createPlane as ht,DidPointerMoveRecentlyFlag as pt,calculateBoundedPlaneTranslateRotate as ut,updateShiftRestartHandle as ct,updateRotateHeadingHandle as dt,updateRotateTiltHandle as _t,updateResizeHandle as vt,createShiftPlane as Pt}from\"./sliceToolUtils.js\";import{calculateInputRotationTransform as yt}from\"../../interactive/manipulatorUtils.js\";import{screenToRenderPlane as mt}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{fromScreenNormalized as wt}from\"../../support/geometryUtils/ray.js\";import{AnalysisToolBase as gt}from\"../../../interactive/AnalysisToolBase.js\";import{createManipulatorDragEventPipeline as ft}from\"../../../interactive/dragEventPipeline.js\";import{newToolIntersector as Mt}from\"../../../interactive/ToolIntersector.js\";import{createScreenPointFromEvent as Dt}from\"../../../support/screenUtils.js\";var Vt;let bt=Vt=class extends gt{constructor(t){super(t),this._clock=i,this._previewPlaneOpacity=1,this.removeIncompleteOnCancel=!1,this._layersMode=\"none\",this.shiftManipulator=null,this.rotateHeadingManipulator=null,this.rotateTiltManipulator=null,this.resizeManipulators=null,this._frameTask=null,this._pointerMoveTimerMs=W,this._prevPointerMoveTimeout=null,this._previewPlaneGridVisualElement=null,this._previewPlaneOutlineVisualElement=null,this._startPlane=k(),this._previewPlane=null,this._activeKeyModifiers={},this._lastCursorPosition=h(),this._resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}],this._intersector=Mt(t.view.state.viewingMode)}initialize(){if(null==this.analysis)throw new Error(\"SliceTool requires valid analysis, but null was provided.\");const t=t=>{this._updateManipulatorsInteractive(t),t.grabbing||(null!=this.analysisViewData.plane&&S(this.analysisViewData.plane,this._startPlane),this.inputState=null)},e=new q(this.view,Z.CENTER_ON_ARROW);this.shiftManipulator=e,this.manipulators.add(e),this.addHandles([this._createShiftDragPipeline(e),e.events.on(\"grab-changed\",(i=>{this._onShiftGrab(i),t(e)}))]);const i=!this.view._stage?.renderView.renderingContext.driverTest.svgPremultipliesAlpha.result,a=new B(this.view,((t,e)=>U(this.view.textures,{accentColor:t,contrastColor:e,preMultiplyAlpha:i})));this.rotateHeadingManipulator=a,this.manipulators.add(a),this.addHandles([this._createRotateHeadingDragPipeline(a),a.events.on(\"grab-changed\",(e=>{this._onRotateHeadingGrab(e),t(a)}))]);const s=new B(this.view,((t,e)=>A(this.view.textures,{accentColor:t,contrastColor:e,preMultiplyAlpha:i})));this.rotateTiltManipulator=s,this.manipulators.add(s),this.addHandles([this._createRotateTiltDragPipeline(s),s.events.on(\"grab-changed\",(e=>{this._onRotateTiltGrab(e),t(s)}))]),this.resizeManipulators=this._resizeHandles.map(((e,i)=>{const a=new K(this.view,e);return this.addHandles([this._createResizeDragPipeline(a),a.events.on(\"grab-changed\",(e=>{this._onResizeGrab(e,i),t(a)}))]),a})),this.manipulators.addMany(this.resizeManipulators),this._previewPlaneGridVisualElement=et(this.view),this._previewPlaneOutlineVisualElement=it(this.view),this._previewPlaneOutlineVisualElement.width=J,this.addHandles(n((()=>[this.analysisViewData.plane,this.analysis.tiltEnabled]),(()=>this._updateManipulators()),r));const o=n((()=>this.state),(t=>{\"sliced\"===t&&this.finishToolCreation()}),l);this.addHandles([o,n((()=>this.view.state.camera),(()=>this._onCameraChange()))])}destroy(){this._removeFrameTask(),this._clearPointerMoveTimeout(),this._previewPlaneOutlineVisualElement=a(this._previewPlaneOutlineVisualElement),this._previewPlaneGridVisualElement=a(this._previewPlaneGridVisualElement)}get state(){const t=!!this.analysisViewData.plane,e=!!this.inputState;return t?t&&e?\"slicing\":t&&!e?\"sliced\":\"ready\":\"ready\"}get cursor(){return this._isPlacingSlicePlane||\"exclude\"===this.layersMode?\"crosshair\":null!=this._creatingPointerId?\"grabbing\":null}set analysis(t){if(null==t)throw new Error(\"SliceTool requires valid analysis, but null was provided.\");this.removeHandles(\"analysis\"),this._set(\"analysis\",t)}get layersMode(){return this._layersMode}get inputState(){return this._get(\"inputState\")}set inputState(t){this._set(\"inputState\",t),this.analysisViewData.showGrid=null!=t&&\"resize\"===t.type,this._updateMaterials()}get _isPlacingSlicePlane(){return!this.inputState&&!this.analysisViewData.plane&&this.active}get _creatingPointerId(){return null!=this.inputState&&\"shift\"===this.inputState.type?this.inputState.creatingPointerId:null}enterExcludeLayerMode(){null!=this.analysisViewData.plane&&(this._layersMode=\"exclude\",this.active||(this.view.activeTool=this))}exitExcludeLayerMode(){null!=this.analysisViewData.plane&&(this._layersMode=\"none\",this.active&&(this.view.activeTool=null))}onDeactivate(){this._updatePreviewPlane(null)}onShow(){this._updateVisibility(!0)}onHide(){this._updateVisibility(!1)}_updateVisibility(t){this._updateManipulators(),t||this._clearPointerMoveTimeout()}onInputEvent(t){switch(t.type){case\"pointer-drag\":if(!kt(t))return;this._isPlacingSlicePlane?this._onClickPlacePlane(t)&&t.stopPropagation():this._onPointerDrag(t)&&t.stopPropagation();break;case\"pointer-move\":this._onPointerMove(t);break;case\"pointer-up\":this._onPointerUp(t)&&t.stopPropagation();break;case\"immediate-click\":if(!kt(t))return;this._onClickPlacePlane(t)&&t.stopPropagation();break;case\"click\":if(!kt(t))return;this._onClickExcludeLayer(t)&&t.stopPropagation();break;case\"drag\":this.inputState&&t.stopPropagation();break;case\"key-down\":this._onKeyDown(t)&&t.stopPropagation();break;case\"key-up\":this._onKeyUp(t)&&t.stopPropagation()}}onEditableChange(){this.analysisViewData.editable=this.internallyEditable}_onPointerDrag(t){const e=this.inputState;if(t.pointerId===this._creatingPointerId&&null!=e&&\"shift\"===e.type){const i=Dt(t);return this.shiftManipulator.events.emit(\"drag\",{action:e.hasBeenDragged?\"update\":\"start\",pointerType:t.pointerType,start:i,screenPoint:i}),e.hasBeenDragged=!0,!0}return!1}_onPointerMove(t){this._lastCursorPosition.x=t.x,this._lastCursorPosition.y=t.y,this._resetPointerMoveTimeout(),\"touch\"!==t.pointerType&&this._updatePreviewPlane(Dt(t),this._activeKeyModifiers)}_onCameraChange(){this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),this._updateManipulators()}_onPointerUp(t){if(t.pointerId===this._creatingPointerId&&null!=this.analysisViewData.plane){const e=Dt(t);return this.shiftManipulator.events.emit(\"drag\",{action:\"end\",start:e,screenPoint:e}),S(this.analysisViewData.plane,this._startPlane),this.inputState=null,!0}return!1}_onClickPlacePlane(t){if(\"exclude\"===this.layersMode)return!1;if(this._isPlacingSlicePlane){const i=Dt(t),a=k();if(this._pickPlane(i,!1,this._activeKeyModifiers,a)){if(\"pointer-drag\"===t.type){const e=wt(this.view.state.camera,i,xt);this.inputState=Et(e,t.pointerId,a.origin,a)}return S(a,this._startPlane),this.analysis.shape=at(a,this.view,this.view.spatialReference,new e),!0}}return!1}_onClickExcludeLayer(t){return!(\"exclude\"!==this.layersMode||!this.created)&&(this.view.hitTest(Dt(t)).then((t=>{if(t.results.length){const e=t.results[0],i=\"graphic\"===e?.type&&e.graphic;if(i){const t=i.sourceLayer||i.layer;t&&this.analysis.excludedLayers.push(t)}}else t.ground.layer?this.analysis.excludedLayers.push(t.ground.layer):this.analysis.excludeGroundSurface=!0})),this.exitExcludeLayerMode(),!0)}_onKeyDown(t){return(t.key===Q||t.key===X)&&(this._activeKeyModifiers[t.key]=!0,null!=this._previewPlane&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onKeyUp(t){return!(t.key!==Q&&t.key!==X||!this._activeKeyModifiers[t.key])&&(delete this._activeKeyModifiers[t.key],null!=this._previewPlane&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onShiftGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=wt(this.view.state.camera,t.screenPoint,xt);S(this.analysisViewData.plane,this._startPlane),this.inputState=Et(e,null,this.shiftManipulator.renderLocation,this.analysisViewData.plane)}_createShiftDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"shift\"!==a.type)return;const s=null!=this.analysisViewData.plane?S(this.analysisViewData.plane,k()):null;e.next(mt(this.view,a.shiftPlane)).next(this._shiftDragAdjustSensitivity(a)).next(this._shiftDragUpdatePlane(a)),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_shiftDragAdjustSensitivity(t){return e=>{if(null==this.analysisViewData.plane)return null;const i=.001,a=Math.min((1-Math.abs(P(x(this.analysisViewData.plane),e.ray.direction)/y(e.ray.direction)))/i,1),s=-H(this._startPlane.plane,e.renderEnd),n=-H(this._startPlane.plane,t.startPoint);return t.depth=t.depth*(1-a)+s*a-n,e}}_shiftDragUpdatePlane(t){return()=>{if(null==this.analysisViewData.plane)return;const e=m(z.get(),this._startPlane.origin),i=m(z.get(),x(this._startPlane));w(i,i,-t.depth),g(i,i,e);const a=j(i,this.analysisViewData.plane.basis1,this.analysisViewData.plane.basis2,k());this._updateBoundedPlane(a)}}_onRotateHeadingGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=st(this.analysisViewData.plane,this.view.renderCoordsHelper,nt.HEADING,C()),i=wt(this.view.state.camera,t.screenPoint,xt),a=b();R(e,i,a)&&(S(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:a})}_createRotateHeadingDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"rotate\"!==a.type)return;const s=null!=this.analysisViewData.plane?S(this.analysisViewData.plane,k()):null;e.next(mt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_onRotateTiltGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=st(this.analysisViewData.plane,this.view.renderCoordsHelper,nt.TILT,C()),i=wt(this.view.state.camera,t.screenPoint,xt),a=b();R(e,i,a)&&(S(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:a})}_createRotateTiltDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"rotate\"!==a.type)return;const s=null!=this.analysisViewData.plane?S(this.analysisViewData.plane,k()):null;e.next(mt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_rotateDragRenderPlaneToRotate(t){return e=>{if(null==this.analysisViewData.plane)return null;const i=O(t.rotatePlane),a=yt(t.startPoint,e.renderEnd,this.analysisViewData.plane.origin,i);return{...e,rotateAxis:i,rotateAngle:a}}}_rotateDragUpdatePlaneFromRotate(){return t=>{if(null==this.analysisViewData.plane)return;const e=d(G.get(),t.rotateAngle,t.rotateAxis);if(null==e)return;const i=f(z.get(),this._startPlane.basis1,e),a=f(z.get(),this._startPlane.basis2,e),s=j(this.analysisViewData.plane.origin,i,a,k());this._updateBoundedPlane(s)}}_onResizeGrab(t,e){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const i=wt(this.view.state.camera,t.screenPoint,xt),a=z.get();R(this.analysisViewData.plane.plane,i,a)&&(S(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"resize\",activeHandleIdx:e,startPoint:V(a)})}_createResizeDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"resize\"!==a.type||null==this.analysisViewData.plane)return;const s=S(this.analysisViewData.plane,k());e.next(mt(this.view,this.analysisViewData.plane.plane)).next(this._resizeDragUpdatePlane(a)),i.next((()=>{this._updateBoundedPlane(s)}))}))}_resizeDragUpdatePlane(t){return e=>{if(null==this.analysisViewData.plane)return;const i=this._resizeHandles[t.activeHandleIdx],a=rt(i,t.startPoint,e.renderEnd,this.view.state.camera,this._startPlane,S(this.analysisViewData.plane));this._updateBoundedPlane(a)}}_updateBoundedPlane(t){const e=this.analysisViewData;if(null==e)throw new Error(\"valid internal object expected\");e.plane=t}_updatePreviewPlane(t,e={}){let i=this._previewPlane;if(this._previewPlane=null,null==t)return this._removeFrameTask(),void this._updateManipulators();if(!this.analysisViewData.plane&&this.active){const a=null!=i?i:k();if(i=null!=i?S(i,St):null,this._pickPlane(t,!0,e,a)){const t=Y;let e=!1;null!=i&&(e=P(O(i.plane),O(a.plane))<t||P(M(z.get(),i.basis1),M(z.get(),a.basis1))<t),e&&(this._previewPlaneOpacity=0),this._previewPlane=a}}null!=this._previewPlane&&null==this._frameTask&&0===this._previewPlaneOpacity?this._frameTask=o({update:({deltaTime:t})=>{this._previewPlaneOpacity=Math.min(this._previewPlaneOpacity+t/(1e3*$),1),this._updateManipulators(),1===this._previewPlaneOpacity&&this._removeFrameTask()}}):null==this._previewPlane&&null!=this._frameTask?this._removeFrameTask():null!=this._previewPlane&&this._updateManipulators()}_removeFrameTask(){this._frameTask=s(this._frameTask)}_pickMinResult(t){const e=p(t,L.get());return this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(e,this._intersector),this._intersector.results.min}_pickPlane(t,e,i,a){const s=this._pickMinResult(t),n=z.get();if(!s.getIntersectionPoint(n))return!1;const r=s.getTransformedNormal(z.get()),l=this.view.state.camera;P(r,l.viewForward)>0&&w(r,r,-1);const o=lt(n,l),h=(e?1:-1)*o*tt,p=w(z.get(),r,h);g(p,p,n);const u=this.analysis.tiltEnabled?ot.TILTED:ot.HORIZONTAL_OR_VERTICAL,c=i[Q]?ot.VERTICAL:i[X]?ot.HORIZONTAL:u;return ht(p,r,o,o,l,c,this.view.renderCoordsHelper,a),!0}_clearPointerMoveTimeout(){this._prevPointerMoveTimeout=s(this._prevPointerMoveTimeout)}_resetPointerMoveTimeout(){this._clearPointerMoveTimeout(),this.shiftManipulator.state|=pt,this.rotateHeadingManipulator.state|=pt,this.rotateTiltManipulator.state|=pt,this._prevPointerMoveTimeout=this._clock.setTimeout((()=>{this.shiftManipulator.state&=~pt,this.rotateHeadingManipulator.state&=~pt,this.rotateTiltManipulator.state&=~pt}),this._pointerMoveTimerMs)}_updateManipulators(){if(Vt.disableEngineLayers)return;let t,e=!1;if(null!=this.analysisViewData.plane)t=this.analysisViewData.plane,e=!1;else{if(null==this._previewPlane)return this.shiftManipulator.available=!1,this.rotateHeadingManipulator.available=!1,this.rotateTiltManipulator.available=!1,this.resizeManipulators.forEach((t=>t.available=!1)),this._previewPlaneOutlineVisualElement.visible=!1,void(this._previewPlaneGridVisualElement.visible=!1);t=this._previewPlane,e=!0}const i=ut(t,G.get());e?(this.shiftManipulator.available=!1,this.rotateHeadingManipulator.available=!1,this.rotateTiltManipulator.available=!1,this.resizeManipulators.forEach((t=>t.available=!1)),this._previewPlaneOutlineVisualElement.attached=!0,this._previewPlaneGridVisualElement.attached=!0,this._previewPlaneOutlineVisualElement.visible=!0,this._previewPlaneGridVisualElement.visible=!0):(this.shiftManipulator.available=!0,this.rotateHeadingManipulator.available=!0,this.rotateTiltManipulator.available=this.analysis.tiltEnabled,this.resizeManipulators.forEach((t=>t.available=!0)),ct(this.shiftManipulator,i,t,this.view.state.camera),dt(this.rotateHeadingManipulator,i,t,this.view.renderCoordsHelper),_t(this.rotateTiltManipulator,i,t),this.resizeManipulators.forEach(((e,a)=>vt(e,this._resizeHandles[a],i,t))),this._previewPlaneOutlineVisualElement.visible=!1,this._previewPlaneGridVisualElement.visible=!1);const a=D(z.get(),y(t.basis1),y(t.basis2),1),s=_(G.get(),a),n=v(s,i,s);this._previewPlaneOutlineVisualElement.transform=n,this._previewPlaneGridVisualElement.transform=n,this._updateMaterials()}_updateMaterials(){const t=F(this.view.effectiveTheme);t[3]*=this._previewPlaneOpacity;const e=T(N);e[3]*=this._previewPlaneOpacity,this._previewPlaneOutlineVisualElement.color=t,this._previewPlaneGridVisualElement.backgroundColor=e,this._previewPlaneGridVisualElement.gridColor=E}_updateManipulatorsInteractive(t){if(!t.grabbing)return this.shiftManipulator.interactive=!0,this.rotateHeadingManipulator.interactive=!0,this.rotateTiltManipulator.interactive=!0,void this.resizeManipulators.forEach((t=>{t.interactive=!0}));this.shiftManipulator.interactive=this.shiftManipulator===t,this.rotateHeadingManipulator.interactive=this.rotateHeadingManipulator===t,this.rotateTiltManipulator.interactive=this.rotateTiltManipulator===t,this.resizeManipulators.forEach((e=>{e.interactive=e===t}))}testData(){return{plane:this.analysisViewData.plane,setPointerMoveTimerMs:t=>{this._pointerMoveTimerMs=t}}}};bt.disableEngineLayers=!1,t([u()],bt.prototype,\"_clock\",void 0),t([u({constructOnly:!0})],bt.prototype,\"view\",void 0),t([u()],bt.prototype,\"analysisViewData\",void 0),t([u({readOnly:!0})],bt.prototype,\"state\",null),t([u({readOnly:!0})],bt.prototype,\"cursor\",null),t([u()],bt.prototype,\"analysis\",null),t([u()],bt.prototype,\"removeIncompleteOnCancel\",void 0),t([u()],bt.prototype,\"_layersMode\",void 0),t([u()],bt.prototype,\"layersMode\",null),t([u({value:null})],bt.prototype,\"inputState\",null),t([u()],bt.prototype,\"_isPlacingSlicePlane\",null),t([u()],bt.prototype,\"_creatingPointerId\",null),bt=Vt=t([c(\"esri.views.3d.analysis.Slice.SliceTool\")],bt);const Tt=bt;function Et(t,e,i,a){const s=Pt(i,x(a),t.direction,C()),n=b();return R(s,t,n)?{type:\"shift\",creatingPointerId:e,hasBeenDragged:!1,shiftPlane:s,depth:0,startPoint:n}:null}function kt(t){return\"mouse\"!==t.pointerType||0===t.button}const St=k(),xt=I();export{Tt as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import{destroyMaybe as t}from\"../../../../core/maybe.js\";import{watch as s,syncAndInitial as o}from\"../../../../core/reactiveUtils.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromScaling as a,multiply as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{s as m,l as u}from\"../../../../chunks/vec32.js\";import{ZEROS as p}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{sv3d as c,sm4d as h}from\"../../../../geometry/support/vectorStacks.js\";import{getGridColor as d,getOutlineColor as v,planeColor as g}from\"./settings.js\";import{planePreviewOutlineWidth as w,planeOutlineWidth as V}from\"./sliceToolConfig.js\";import{createGridVisualElement as _,createOutlineVisualElement as f,calculateBoundedPlaneTranslateRotate as E}from\"./sliceToolUtils.js\";import{createStipplePatternSimple as j}from\"../../webgl-engine/materials/lineStippleUtils.js\";let b=class extends e{constructor(i){super(i),this._gridVisualElement=null,this._outlineVisualElement=null,this.showGrid=!1,this.preview=!0}initialize(){const i=this.analysisViewData;if(null==i)throw new Error(\"expected internal object to be valid\");this._gridVisualElement=_(this.view),this._outlineVisualElement=f(this.view),this.addHandles([s((()=>{const e=null!=i.plane&&this.analysisViewData.visible,{active:t}=this.analysisViewData,{preview:s,showGrid:o,view:r}=this,{effectiveTheme:l}=r;return{visible:e,active:t,preview:s,showGrid:o,gridColor:d(l),outlineColor:v(l)}}),(i=>this._updateMaterials(i)),o),s((()=>i.plane),(i=>this._updatePlane(i)),o)],\"internal\")}destroy(){this._gridVisualElement=t(this._gridVisualElement),this._outlineVisualElement=t(this._outlineVisualElement),this.set(\"view\",null)}_updatePlane(i){if(null==i)return;this._gridVisualElement.attached=!0,this._outlineVisualElement.attached=!0;const e=m(c.get(),u(i.basis1),u(i.basis2),1),t=a(h.get(),e),s=E(i,h.get()),o=n(t,s,t);this._outlineVisualElement.transform=o,this._gridVisualElement.transform=o}_updateMaterials({visible:i,active:e,preview:t,showGrid:s,gridColor:o,outlineColor:r}){this._outlineVisualElement.color=r,this._outlineVisualElement.width=t?w:V,this._outlineVisualElement.stipplePattern=e?null:j(5),this._gridVisualElement.backgroundColor=g,this._gridVisualElement.gridColor=s?o:p,this._gridVisualElement.visible=i,this._outlineVisualElement.visible=i}};i([r()],b.prototype,\"view\",void 0),i([r()],b.prototype,\"analysis\",void 0),i([r()],b.prototype,\"analysisViewData\",void 0),i([r()],b.prototype,\"showGrid\",void 0),i([r()],b.prototype,\"preview\",void 0),b=i([l(\"esri.views.3d.analysis.Slice.SliceVisualization\")],b);export{b as SliceVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import\"../../../core/has.js\";import{destroyMaybe as t}from\"../../../core/maybe.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AnalysisView3D as l}from\"./AnalysisView3D.js\";import{SliceController as e}from\"./Slice/SliceController.js\";import r from\"./Slice/SliceTool.js\";import{SliceVisualization as n}from\"./Slice/SliceVisualization.js\";import{connectAnalysisViewToTool as p,removeAnalysisViewTool as y}from\"../../analysis/analysisViewUtils.js\";let h=class extends(l(i)){constructor(s){super(s),this.type=\"slice-view-3d\",this.analysis=null,this.tool=null,this.analysisVisualization=null,this.analysisController=null,this.plane=null,this.active=!0}initialize(){this.analysisVisualization=new n({view:this.view,analysis:this.analysis,analysisViewData:this}),this.analysisController=new e({view:this.view,analysis:this.analysis,analysisViewData:this}),this.addHandles(p(this,r))}destroy(){y(this),this.analysisVisualization=t(this.analysisVisualization),this.analysisController=t(this.analysisController)}get showGrid(){return this.analysisVisualization?.showGrid??!1}set showGrid(s){this.analysisVisualization&&(this.analysisVisualization.showGrid=s)}get editable(){return!this.analysisVisualization.preview}set editable(s){this.analysisVisualization.preview=!s}get testData(){}};s([a({readOnly:!0})],h.prototype,\"type\",void 0),s([a({constructOnly:!0,nonNullable:!0})],h.prototype,\"analysis\",void 0),s([a()],h.prototype,\"tool\",void 0),s([a()],h.prototype,\"plane\",void 0),s([a()],h.prototype,\"active\",void 0),s([a()],h.prototype,\"showGrid\",null),s([a()],h.prototype,\"editable\",null),h=s([o(\"esri.views.3d.analysis.SliceAnalysisView3D\")],h);const c=h;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{deg2rad as o}from\"../../../../core/mathUtils.js\";const t=has(\"mac\")?\"Meta\":\"Control\",r=\"Shift\",s=2,a=1.15,c=1.15,m=2500,h=.02,e=Math.cos(o(45)),i=Math.cos(o(5)),f=.95,p=.3,M=2,j=1,l=3,n=11,x=22.5,C=40,S=48,U=2.25,b=4,d=1,g=.3,k=6,q=4,u=1600,v=.4;export{s as displayFocusMultiplier,t as forceHorizontalModifier,r as forceVerticalModifier,h as initialDepthOffsetFrac,v as initialPlaneHalfSizeViewProportion,u as planeMinBasisScreenLen2,j as planeOutlineWidth,M as planePreviewOutlineWidth,m as pointerMoveTimerMs,f as previewFadeDotThreshold,p as previewFadeDurationSeconds,k as resizeHandleCornerInputRadius,b as resizeHandleCornerWidth,q as resizeHandleEdgeInputRadius,g as resizeHandleEdgePaddingFrac,d as resizeHandleEdgeWidth,S as shiftRestartArrowLength,U as shiftRestartArrowOutlineWidth,C as shiftRestartOffsetDistance,c as shiftRestartTipFocusMultiplier,x as shiftRestartTipLength,n as shiftRestartTipRadius,a as shiftRestartTubeFocusMultiplier,l as shiftRestartTubeRadius,i as smallAngleDotThreshold,e as verticalDotThreshold};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst t=\"theme-style\";function e(t,e){return a(r(n(o(t),e)),e.size)}function n(e,{accentColor:n,contrastColor:o}){const r=n.toHex(),a=n.a,s=o.toHex(),i=o.a,c=e.getElementsByTagNameNS(\"http://www.w3.org/2000/svg\",\"style\").namedItem(t);return c&&(c.innerHTML=`\\n      .contrast-fill { fill: ${s}; fill-opacity: ${i}; }\\n      .contrast-stroke { stroke: ${s}; stroke-opacity: ${i};  }\\n      .accent-fill { fill: ${r}; fill-opacity: ${a}; }\\n      .accent-stroke { stroke: ${r}; stroke-opacity:  ${a}; }`),e}function o(t){const e=t.split(\",\")[1],n=atob(e);return(new DOMParser).parseFromString(n,\"image/svg+xml\")}function r(t){const e=(new XMLSerializer).serializeToString(t);return`data:image/svg+xml;base64,${btoa(e)}`}function a(t,e){const n=new Image(e,e);return n.src=t,n}export{e as generateStyledTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst I=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSIgdmVyc2lvbj0iMi4wIj48c3R5bGUgaWQ9InRoZW1lLXN0eWxlIj4uY29udHJhc3QtZmlsbHtmaWxsOiNmZmZ9LmNvbnRyYXN0LXN0cm9rZXtzdHJva2U6I2ZmZn0uYWNjZW50LWZpbGx7ZmlsbDojZmY3ZjAwO2ZpbGwtb3BhY2l0eTouNX08L3N0eWxlPjxwYXRoIGQ9Ik0yOCAwYTI4IDI4IDAgMSAxIDAgNTYgMjggMjggMCAwIDEgMC01NiIgY2xhc3M9ImFjY2VudC1maWxsIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSI0Ljk5IiBkPSJNMjAuMDUgNDAuODZhMTUuMDUgMTUuMDUgMCAwIDAgMTcuMTQtMS41IDE1LjA1IDE1LjA1IDAgMCAwIDQuNDctMTYuNjUgMTUuMDUgMTUuMDUgMCAwIDAtMjIuNzItNy4xNSAxNS4wNSAxNS4wNSAwIDAgMC01LjUgNy4xNSIgY2xhc3M9ImNvbnRyYXN0LXN0cm9rZSIvPjxwYXRoIGQ9Im0xMC45NyAzNS41NyA1LjM4IDEyLjA3IDcuNzktMTMuNDd6IiBjbGFzcz0iY29udHJhc3QtZmlsbCIvPjwvc3ZnPg==\";export{I as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst I=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSIgdmVyc2lvbj0iMi4wIj48c3R5bGUgaWQ9InRoZW1lLXN0eWxlIj4uY29udHJhc3QtZmlsbHtmaWxsOiNmZmZ9LmNvbnRyYXN0LXN0cm9rZXtzdHJva2U6I2ZmZn0uYWNjZW50LWZpbGx7ZmlsbDojZmY3ZjAwO2ZpbGwtb3BhY2l0eTouNX08L3N0eWxlPjxjaXJjbGUgY3g9IjM5LjQ3OCIgY3k9IjMuMDc4IiByPSIyOCIgY2xhc3M9ImFjY2VudC1maWxsIiB0cmFuc2Zvcm09InJvdGF0ZSg0MC41NDIpIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSI1IiBkPSJtNy4wNzQgMzAuMDUzIDI5LjM5NyAxMS45ODUtMy42NzMtMzMuNDkzIiBjbGFzcz0iY29udHJhc3Qtc3Ryb2tlIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSIyLjk5NiIgZD0iTTI0LjUwNCAyMy4yMDdhMTEuOTggMTEuOTggMCAwIDAtOS44IDcuNTA3IiBjbGFzcz0iY29udHJhc3Qtc3Ryb2tlIGNvbnRyYXN0LWZpbGwiLz48cGF0aCBkPSJtMjkuODE4IDIyLjgwOC02LjE4NCA0LjYtLjU0MS04LjM2NHoiIGNsYXNzPSJjb250cmFzdC1maWxsIi8+PC9zdmc+\";export{I as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{generateStyledTexture as t}from\"./generateTextures.js\";import o from\"./heading-rotate-svg.js\";import r from\"./tilt-rotate-svg.js\";import{Texture as e}from\"../../webgl-engine/lib/Texture.js\";const a=64;function l(r,l){const{accentColor:n,contrastColor:c,preMultiplyAlpha:i}=l;return r.fromData(`heading-rotate:[accent:${n},contrast:${c},size:${a}]`,(()=>new e(t(o,{accentColor:n,contrastColor:c,size:a}),{mipmap:!0,reloadable:!0,preMultiplyAlpha:i})))}function n(o,l){const{accentColor:n,contrastColor:c,preMultiplyAlpha:i}=l;return o.fromData(`tilt-rotate:[accent:${n},contrast:${c},size:${a}]`,(()=>new e(t(r,{accentColor:n,contrastColor:c,size:a}),{mipmap:!0,reloadable:!0,preMultiplyAlpha:i})))}export{l as getRotateHeadingTexture,n as getTiltRotateTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{tryProjectWithZConversion as o}from\"../../../../geometry/projection.js\";import{getElevationAtPoint as e}from\"../../support/ElevationProvider.js\";function r(r,t,i,n=!1){const l=o(r,t);return null==l?null:(l.hasZ&&!n||null==i||(l.z=e(i,l)??0),l)}function t(o,e,r){r.warnOnce(`Failed to project analysis geometry (id: '${o.id}'), projection from spatial reference (wkid: '${e.wkid}') to view spatial reference is not supported. Projection may be possible after calling projection.load().`)}export{r as applyProjectionAndElevationAlignment,t as logFailedGeometryProjectionError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import{screenPointObjectToArray as e,castScreenPointArray as n,createScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{l as t,c as o,b as l,f as s,m as c,j as a,g as i}from\"../../../../chunks/vec32.js\";import{create as u}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectPoint as p}from\"../../../../geometry/projection.js\";import{intersectRay as m,create as d,getNormal as f,fromPositionAndNormal as g}from\"../../../../geometry/support/plane.js\";import{create as E,closestPoints as y}from\"../../../../geometry/support/ray.js\";import{projectPoint as S}from\"../../../../geometry/support/vector.js\";import{sv2d as j}from\"../../../../geometry/support/vectorStacks.js\";import{getZForElevationMode as R}from\"../../../../support/elevationInfoUtils.js\";import{fromScreen as v}from\"../../support/geometryUtils/ray.js\";import{newIntersector as x}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as b,IntersectorType as w}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{terrainId as I}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{EventPipeline as H}from\"../../../interactive/dragEventPipeline.js\";import U from\"../../../../geometry/Point.js\";function O(e,n){return P(e,(()=>n))}function C(e){return P(e,(e=>e.plane))}function P(r,t){const o=u(),l=u();let s=!1;return c=>{const a=t(c);if(\"start\"===c.action){const t=e(c.screenStart,n(j.get())),l=v(r.state.camera,t,K);null!=l&&(s=m(a,l,o))}if(!s)return null;const i=e(c.screenEnd,n(j.get())),u=v(r.state.camera,i,K);return null==u?null:m(a,u,l)?{...c,renderStart:o,renderEnd:l,plane:a,ray:u}:null}}function T(e,n,t=0,o=null,l=null){let s=null;return c=>{if(\"start\"===c.action&&(s=e.sceneIntersectionHelper.intersectElevationFromScreen(r(c.screenStart.x,c.screenStart.y),n,t,l),null!=s&&null!=o&&!p(s,s,o)))return null;if(null==s)return null;const a=e.sceneIntersectionHelper.intersectElevationFromScreen(r(c.screenEnd.x,c.screenEnd.y),n,t,l);return null!=a&&(null==o||p(a,a,o))?{...c,mapStart:s,mapEnd:a}:null}}function D(e,n,r,t=null,o=null){return T(e,r,R(n,e,r),t,o)}function M(e,n,r,t){const o=r.toMap(e.screenStart);return null!=o?D(n,o,r.elevationInfo,t):null}function N(e,n){const r=B,t=J,o=d();e.renderCoordsHelper.worldUpAtPosition(n,r);const c=l(f(o),r,s(t,n,e.state.camera.eye));return l(c,c,r),g(n,c,o)}function G(e,n,r){let t=null;const o=new H;return o.next(O(e,N(e,n))).next(h(e,n)).next(A(e,r)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,t=e})),e=>(t=null,o.execute(e),t)}function h(e,n){const r=u(),l=t(n);e.renderCoordsHelper.worldUpAtPosition(n,r);const p=u(),m=u(),d=o=>{if(s(o,o,n),S(r,o,o),\"global\"===e.viewingMode){t(o)*Math.sign(c(r,o))<.001-l&&s(o,a(o,r,.001),n)}return i(o,o,n),o};return e=>(e.renderStart=d(o(p,e.renderStart)),e.renderEnd=d(o(m,e.renderEnd)),e)}function k(r,t){const o=o=>{const l=e(o,n(j.get())),s=v(r.state.camera,l,K);return null==s?null:y(t,s,B,J)[1]};return e=>{const n=o(e.screenStart);if(null==n)return null;const r=o(e.screenEnd);return null==r?null:{...e,renderStart:n,renderEnd:r}}}function A(e,n){const r=e.renderCoordsHelper;return e=>{const t=r.fromRenderCoords(e.renderStart,new U({spatialReference:n})),o=r.fromRenderCoords(e.renderEnd,new U({spatialReference:n}));return null!=t&&null!=o?{...e,mapStart:t,mapEnd:o}:null}}var F;function q(e){let n=null;return r=>{switch(r.action){case\"start\":n=e.disableDisplay();break;case\"end\":case\"cancel\":null!=n&&(n.remove(),n=null)}return r}}function z(n,t=null){const o=x(n.state.viewingMode);o.options.selectionMode=!0,o.options.store=b.MIN,o.options.hud=!1;const l=r(),s={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},c=u(),a=t??n.spatialReference,i=r=>{n.map.ground&&n.map.ground.opacity<1?s.exclude.add(I):s.exclude.delete(I),n.sceneIntersectionHelper.intersectIntersectorScreen(e(r,l),o,s);const t=o.results.min;let i;if(t.getIntersectionPoint(c))i=t.intersector===w.TERRAIN?F.GROUND:F.OTHER;else{if(!o.results.ground.getIntersectionPoint(c))return null;i=F.GROUND}return{location:n.renderCoordsHelper.fromRenderCoords(c,new U({spatialReference:a})),surfaceType:i}};let p;return e=>{if(\"start\"===e.action){const n=i(e.screenStart);p=null!=n?n.location:null}if(null==p)return null;const n=i(e.screenEnd);return null!=n?.location?{...e,mapStart:p,mapEnd:n.location,surfaceType:n.surfaceType}:null}}!function(e){e[e.GROUND=0]=\"GROUND\",e[e.OTHER=1]=\"OTHER\"}(F||(F={}));const B=u(),J=u(),K=E();export{F as SurfaceType,A as convertToMapCoordinates,q as hideManipulatorWhileDragging,h as projectToWorldUp,z as screenToMap3D,D as screenToMapXYAtLocation,M as screenToMapXYForManipulatedObject,O as screenToRenderPlane,C as screenToRenderPlaneFromEvent,k as screenToRenderRay,G as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as n}from\"../lib/basicInterfaces.js\";import{oitBlending as a,oitDepthTest as l,oitDepthWrite as p,oitDrawBuffers as c,getOITPolygonOffset as u}from\"../lib/OrderIndependentTransparency.js\";import{Program as h}from\"../lib/Program.js\";import{stencilWriteMaskOn as d,stencilToolMaskBaseParams as m,stencilBaseAllZerosParams as f}from\"../lib/StencilUtils.js\";import{TransparencyPassType as y}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as b}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as P}from\"../materials/DefaultTechniqueConfiguration.js\";import{I as g}from\"../../../../chunks/ImageMaterial.glsl.js\";import{BlendFactor as T}from\"../../../webgl/enums.js\";import{simpleBlendingParams as O,makePipelineState as j,cullingParams as S,defaultDepthWriteParams as v,defaultColorWriteParams as I}from\"../../../webgl/renderState.js\";class N extends r{}class E extends o{initializeProgram(e){return new h(e.rctx,E.shader.get().build(this.configuration),_)}_setPipelineState(e,r){const i=this.configuration,o=e===y.NONE,s=e===y.FrontFace;return j({blending:i.output===t.Color&&i.transparent?o?w:a(e):null,culling:S(i.cullFace),depthTest:{func:l(e)},depthWrite:o?i.writeDepth?v:null:p(e),drawBuffers:c(e),colorWrite:I,stencilWrite:i.hasOccludees?d:null,stencilTest:i.hasOccludees?r?m:f:null,polygonOffset:o||s?null:u(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}E.shader=new i(g,(()=>import(\"./ImageMaterial.glsl.js\")));const w=O(T.ONE,T.ONE_MINUS_SRC_ALPHA);class C extends P{constructor(){super(...arguments),this.output=t.Color,this.cullFace=n.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=y.NONE,this.multipassEnabled=!1,this.cullAboveGround=!1,this.perspectiveInterpolation=!0}}e([s({count:t.COUNT})],C.prototype,\"output\",void 0),e([s({count:n.COUNT})],C.prototype,\"cullFace\",void 0),e([s()],C.prototype,\"hasSlicePlane\",void 0),e([s()],C.prototype,\"transparent\",void 0),e([s()],C.prototype,\"enableOffset\",void 0),e([s()],C.prototype,\"writeDepth\",void 0),e([s()],C.prototype,\"hasOccludees\",void 0),e([s({count:y.COUNT})],C.prototype,\"transparencyPassType\",void 0),e([s()],C.prototype,\"multipassEnabled\",void 0),e([s()],C.prototype,\"cullAboveGround\",void 0),e([s()],C.prototype,\"perspectiveInterpolation\",void 0),e([s({constValue:!1})],C.prototype,\"occlusionPass\",void 0);const _=new Map([[b.POSITION,0],[b.UV0,2],[b.PERSPECTIVEDIVIDE,3]]);export{N as ImageMaterialPassParameters,E as ImageMaterialTechnique,C as ImageMaterialTechniqueConfiguration,_ as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{BufferViewFloat as e}from\"../../../../geometry/support/buffer/BufferView.js\";import{isOIDorHighlight as t,isColor as r,ShaderOutput as s}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as a}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as i}from\"../lib/GLTextureMaterial.js\";import{MaterialParameters as n}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as o}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as p}from\"../lib/RenderSlot.js\";import{assert as u}from\"../lib/Util.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as l}from\"./DefaultBufferWriter.js\";import{PositionUVLayout as h}from\"./DefaultLayouts.js\";import{TriangleMaterial as m}from\"./TriangleMaterial.js\";import{writeBufferFloat as f,writeDefaultAttribute as d}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as _,ImageMaterialTechniqueConfiguration as E,ImageMaterialTechnique as T}from\"../shaders/ImageMaterialTechnique.js\";class g extends m{constructor(e){super(e,new P),this.supportsEdges=!0,this.produces=new Map([[p.OPAQUE_MATERIAL,e=>t(e)||r(e)&&!this.parameters.transparent],[p.TRANSPARENT_MATERIAL,e=>r(e)&&this.parameters.transparent&&this.parameters.writeDepth],[p.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,e=>r(e)&&this.parameters.transparent&&!this.parameters.writeDepth],[p.DRAPED_MATERIAL,e=>r(e)||t(e)]]),this._vertexAttributeLocations=_,this._configuration=new E}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.enableOffset=t.camera.relativeElevation<o,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}createGLMaterial(e){return new I(e)}createBufferWriter(){const e=h.clone();return this.parameters.perspectiveInterpolation&&e.f32(c.PERSPECTIVEDIVIDE),new b(e)}}class I extends i{constructor(e){super({...e,...e.material.parameters})}_updateParameters(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(T,e)}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:e.hasOccludees}),this._updateParameters(e))}beginSlot(e){return this._output===s.Color&&this._updateOccludeeState(e),this._updateParameters(e)}}class b extends l{write(t,r,s,a,i){for(const n of this.vertexBufferLayout.fields.keys()){const o=s.attributes.get(n);if(o)if(n===c.PERSPECTIVEDIVIDE){u(1===o.size);const t=a.getField(n,e);t&&f(o,t,i)}else d(n,o,t,r,a,i)}}}class P extends n{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=a.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0,this.perspectiveInterpolation=!1}}export{g as ImageMaterial,P as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{removeMaybe as t}from\"../../core/maybe.js\";import{onAbort as i}from\"../../core/promiseUtils.js\";import{whenOnce as e,watch as n,syncAndInitial as r}from\"../../core/reactiveUtils.js\";function l(n,r){n.interactive=!0;const{tool:l,view:a}=n;a.activeTool=l;let c=i(r,(()=>{a.activeTool===l&&(a.activeTool=null)}));return o((async o=>{await e((()=>null==l||!l.active),o),c=t(c)}),r)}function a(o,t){return n((()=>o.interactive),(()=>c(o,t)),r)}function c(o,t){o.interactive?s(o,t):v(o)}function s(o,t){v(o);const{view:i,analysis:e}=o,n=new t({view:i,analysis:e,analysisViewData:o});return o.tool=n,i.tools.add(n),n}function v(o){const{view:t,tool:i}=o;null!=i&&(t.tools.remove(i),o.tool=null)}export{l as activateAnalysisViewTool,a as connectAnalysisViewToTool,v as removeAnalysisViewTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{watch as e,syncAndInitial as t}from\"../../core/reactiveUtils.js\";import\"../../core/Logger.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import{InteractiveToolBase as i}from\"./InteractiveToolBase.js\";let o=class extends i{constructor(s){super(s)}initialize(){this.addHandles(e((()=>this.analysisViewData.visible),(s=>this.visible=s),t))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set(\"created\",!1)}};o=s([r(\"esri.views.interactive.AnalysisToolBase\")],o);export{o as AnalysisToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{newIntersector as e}from\"../3d/webgl-engine/lib/Intersector.js\";import{StoreResults as o}from\"../3d/webgl-engine/lib/IntersectorInterfaces.js\";function t(t){const n=e(t);return n.options.store=o.MIN,n.options.hud=!1,n}export{t as newToolIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{floatEqualAbsolute as t}from\"../../core/mathUtils.js\";import{distance as n,dot as r,squaredLength as e,scale as s,subtract as o,add as c,scaleAndAdd as u,copy as i,length as f}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{clone as a,create as p}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";function m(t,n){return t[0]*n[1]-t[1]*n[0]}function h(t,r,e){const s=(r[0]-t[0])*(e[1]-t[1])-(r[1]-t[1])*(e[0]-t[0]);return Math.abs(s)/n(r,e)}function E(t,n,o){const c=r(o,n)/e(o);return s(t,o,c)}function I(t,n,r,e,s=r){return o(x,e,r),o(g,n,s),E(A,g,x),c(t,s,A)}function L(t,n,s,c){o(x,c,s),o(g,n,s);const f=r(x,g)/e(x);return f>0?u(t,s,x,f):i(t,s)}function N(t,n,r,e){o(x,n,r);const s=e/f(x);return u(t,r,x,s)}function l(n,r){return I(g,r,n.start,n.end),t(g[0],r[0])&&t(g[1],r[1])?[a(r)]:[]}function y(n,r,e){return N(g,e,n,r),t(g[0],e[0])&&t(g[1],e[1])?[a(e)]:[]}function b(t,n){const r=t.start,e=t.end,s=n.start,c=n.end,i=o(x,e,r),f=o(M,c,s),a=m(i,f);if(Math.abs(a)<=v)return[];const p=o(g,r,s),h=m(f,p)/a,E=m(i,p)/a;if(h>=0){if(E>=0||n.type===j.LINE)return[u(A,r,i,h)]}else if(t.type===j.LINE&&(E>=0||n.type===j.LINE))return[u(A,r,i,h)];return[]}function d(t,n,s){const c=[],i=o(x,t.end,t.start),f=o(M,t.start,n),a=e(i),p=2*r(i,f),m=p*p-4*a*(e(f)-s*s);if(0===m){const n=-p/(2*a);(t.type===j.LINE||n>=0)&&c.push(u(A,t.start,i,n))}else if(m>0){const n=Math.sqrt(m),r=(-p+n)/(2*a);(t.type===j.LINE||r>=0)&&c.push(u(A,t.start,i,r));const e=(-p-n)/(2*a);(t.type===j.LINE||e>=0)&&c.push(u(g,t.start,i,e))}return c}var j;!function(t){t[t.RAY=0]=\"RAY\",t[t.LINE=1]=\"LINE\"}(j||(j={}));const v=1e-6,x=p(),M=p(),g=p(),A=p();export{j as LineType,m as cross,y as intersectCircleAndPoint,l as intersectLineAndPoint,b as intersectLineAndRay,d as intersectLineLikeAndCircle,h as pointToLineDistance,E as projectPoint,N as projectPointToCircle,I as projectPointToLine,L as projectPointToRay};\n"],"names":["v","f","n","vertex","u","fragment","m","t","include","o","attributes","add","c","POSITION","UV0","perspectiveInterpolation","PERSPECTIVEDIVIDE","varyings","multipassEnabled","code","d","_templateObject","_taggedTemplateLiteral","r","i","uniforms","p","e","texture","l","opacity","transparencyPassType","g","ColorAlpha","outputs","a","_templateObject2","float","s","_templateObject3","output","ObjectAndLayerIdColor","_templateObject4","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","Q","b","E","LoadableMixin","constructor","super","this","type","nodePages","materialDefinitions","textureSetDefinitions","geometryDefinitions","indexInfo","serviceUpdateTimeStamp","store","attributeStorageInfo","fields","associatedLayer","outFields","listMode","renderer","definitionExpression","popupEnabled","popupTemplate","layerType","parsedUrl","_this$layer$parsedUrl","_this$layer$parsedUrl2","layer","path","concat","id","query","fieldsIndex","L","readAssociatedLayer","associatedFeatureServiceItem","associatedLayerID","portalItem","customParameters","layerId","objectIdField","name","displayField","apiKey","fullExtent","spatialReference","version","elevationInfo","minScale","maxScale","effectiveScaleRange","defaultPopupTemplate","createPopupTemplate","load","signal","_fetchService","then","S","rootNode","getLogger","addResolvingPromise","Promise","resolve","q","token","responseType","data","read","origin","url","getField","get","getFieldDomain","_this$getFeatureType","_this$getField$domain","_this$getField","getFeatureType","feature","domains","domain","types","_this$associatedLayer","typeIdField","geometryType","profile","capabilities","j","supportsZ","supportsM","isVersioned","createQuery","P","returnGeometry","returnZ","where","sqlFormat","queryExtent","_getAssociatedLayerForQuery","queryFeatureCount","queryFeatures","features","sourceLayer","queryObjectIds","queryCachedAttributes","I","U","D","R","queryCachedFeature","length","getFieldUsageInfo","has","supportsLabelingInfo","supportsRenderer","supportsPopupTemplate","supportsLayerQuery","loaded","_loadAssociatedLayerForQuery","error","readOnly","prototype","F","w","O","x","String","json","source","y","h","T","Number","write","origins","service","enabled","allowNull","target","Point","A","title","modelName","isEmpty","legendEnabled","visible","readTitle","alias","readIdOnlyOnce","ignoreOrigin","Boolean","nonNullable","arguments","parent","_userInteractive","_interactiveViewModelCount","interactive","updating","suspended","_overrideIfSome","forceInteractiveForViewModel","constructOnly","_internalChange","_currentSlicePlane","initialize","addHandles","analysis","excludedLayers","on","item","preventDefault","includes","_f$get","set","all","activeController","push","V","view","analysisViewData","plane","_updateSlicePlaneFromBoundedPlane","_updateLayerViews","sync","excludeGroundSurface","active","_updateActiveController","_updateViewSlicePlane","_allLayerAndSubLayerViews","shape","_updateBoundedPlaneFromSlicePlane","destroy","slicePlane","_a$all$lastIndexOf","Error","lastIndexOf","splice","delete","allLayerViews","items","filter","flatMap","_ref","sublayerViews","equals","position","tiltEnabled","heading","tilt","width","height","_","layers","forEach","destroyed","slicePlaneEnabled","sublayer","basemapTerrain","Map","Vt","bt","gt","_clock","_previewPlaneOpacity","removeIncompleteOnCancel","_layersMode","shiftManipulator","rotateHeadingManipulator","rotateTiltManipulator","resizeManipulators","_frameTask","_pointerMoveTimerMs","W","_prevPointerMoveTimeout","_previewPlaneGridVisualElement","_previewPlaneOutlineVisualElement","_startPlane","k","_previewPlane","_activeKeyModifiers","_lastCursorPosition","_resizeHandles","direction","_intersector","Mt","state","viewingMode","_this$view$_stage","_updateManipulatorsInteractive","grabbing","inputState","Z","CENTER_ON_ARROW","manipulators","_createShiftDragPipeline","events","_onShiftGrab","_stage","renderView","renderingContext","driverTest","svgPremultipliesAlpha","result","B","textures","accentColor","contrastColor","preMultiplyAlpha","_createRotateHeadingDragPipeline","_onRotateHeadingGrab","_createRotateTiltDragPipeline","_onRotateTiltGrab","map","K","_createResizeDragPipeline","_onResizeGrab","addMany","et","it","J","_updateManipulators","finishToolCreation","camera","_onCameraChange","_removeFrameTask","_clearPointerMoveTimeout","cursor","_isPlacingSlicePlane","layersMode","_creatingPointerId","removeHandles","_set","_get","showGrid","_updateMaterials","creatingPointerId","enterExcludeLayerMode","activeTool","exitExcludeLayerMode","onDeactivate","_updatePreviewPlane","onShow","_updateVisibility","onHide","onInputEvent","kt","_onClickPlacePlane","stopPropagation","_onPointerDrag","_onPointerMove","_onPointerUp","_onClickExcludeLayer","_onKeyDown","_onKeyUp","onEditableChange","editable","internallyEditable","pointerId","Dt","emit","action","hasBeenDragged","pointerType","start","screenPoint","_resetPointerMoveTimeout","_pickPlane","wt","xt","Et","at","created","hitTest","results","graphic","ground","key","X","renderLocation","ft","next","mt","shiftPlane","_shiftDragAdjustSensitivity","_shiftDragUpdatePlane","_updateBoundedPlane","Math","min","abs","ray","H","renderEnd","startPoint","depth","z","basis1","basis2","st","renderCoordsHelper","nt","HEADING","C","rotatePlane","_rotateDragRenderPlaneToRotate","_rotateDragUpdatePlaneFromRotate","TILT","yt","rotateAxis","rotateAngle","G","activeHandleIdx","_resizeDragUpdatePlane","rt","undefined","St","Y","M","update","deltaTime","$","_pickMinResult","sceneIntersectionHelper","intersectToolIntersectorScreen","getIntersectionPoint","getTransformedNormal","viewForward","lt","tt","ot","TILTED","HORIZONTAL_OR_VERTICAL","VERTICAL","HORIZONTAL","ht","pt","setTimeout","disableEngineLayers","available","ut","attached","ct","dt","_t","vt","transform","effectiveTheme","N","color","backgroundColor","gridColor","testData","setPointerMoveTimerMs","Tt","Pt","button","_gridVisualElement","_outlineVisualElement","preview","outlineColor","_updatePlane","stipplePattern","tool","analysisVisualization","analysisController","_this$analysisVisuali","_this$analysisVisuali2","cos","Image","src","XMLSerializer","serializeToString","btoa","split","atob","DOMParser","parseFromString","size","toHex","getElementsByTagNameNS","namedItem","innerHTML","fromData","mipmap","reloadable","_e","hasZ","warnOnce","wkid","screenStart","screenEnd","renderStart","intersectElevationFromScreen","mapStart","mapEnd","toMap","worldUpAtPosition","eye","sign","execute","fromRenderCoords","disableDisplay","remove","options","selectionMode","MIN","hud","requiresGroundFeedback","enableDraped","exclude","Set","intersectIntersectorScreen","intersector","TERRAIN","GROUND","OTHER","location","surfaceType","initializeProgram","rctx","shader","configuration","_setPipelineState","NONE","FrontFace","blending","Color","transparent","culling","cullFace","depthTest","func","depthWrite","writeDepth","drawBuffers","colorWrite","stencilWrite","hasOccludees","stencilTest","polygonOffset","enableOffset","initializePipeline","_occludeePipelineState","getPipeline","ONE","ONE_MINUS_SRC_ALPHA","None","hasSlicePlane","cullAboveGround","count","COUNT","constValue","supportsEdges","produces","OPAQUE_MATERIAL","parameters","TRANSPARENT_MATERIAL","TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL","DRAPED_MATERIAL","_vertexAttributeLocations","_configuration","getConfiguration","relativeElevation","multipassTerrain","createGLMaterial","createBufferWriter","clone","f32","material","_updateParameters","updateTexture","_material","textureId","setParameters","textureBindParameters","ensureTechnique","_updateOccludeeState","beginSlot","_output","vertexBufferLayout","keys","initTextureTransparent","async","tools","deactivate","clear","resetCreated","end","LINE","sqrt","RAY"],"sourceRoot":""}