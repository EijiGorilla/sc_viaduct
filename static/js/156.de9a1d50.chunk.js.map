{"version":3,"file":"static/js/156.de9a1d50.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/rest/support/meshFeatureAttributes.js","../node_modules/@arcgis/core/rest/support/meshFeatureSet.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import t from\"../../geometry/support/MeshTransform.js\";import o from\"../../geometry/Point.js\";function n(t,n,i=r){return new o({x:t[i.originX],y:t[i.originY],z:t[i.originZ],spatialReference:n})}function i(o,n=r){return new t({translation:[o[n.translationX],-o[n.translationZ],o[n.translationY]],rotationAxis:[o[n.rotationX],-o[n.rotationZ],o[n.rotationY]],rotationAngle:o[n.rotationDeg],scale:[o[n.scaleX],o[n.scaleZ],o[n.scaleY]]})}const r={originX:\"originX\",originY:\"originY\",originZ:\"originZ\",translationX:\"translationX\",translationY:\"translationY\",translationZ:\"translationZ\",scaleX:\"scaleX\",scaleY:\"scaleY\",scaleZ:\"scaleZ\",rotationX:\"rotationX\",rotationY:\"rotationY\",rotationZ:\"rotationZ\",rotationDeg:\"rotationDeg\"};export{n as extractMeshFeatureOrigin,i as extractMeshFeatureTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Logger.js\";import{getOrCreateMapValue as r}from\"../../core/MapUtils.js\";import s from\"../../geometry/Extent.js\";import o from\"../../geometry/Mesh.js\";import n from\"../../geometry/SpatialReference.js\";import{ServiceAssetPart as a,ServiceAsset as u}from\"../../geometry/support/meshUtils/External.js\";import{getFormatIdMimeType as i}from\"../../layers/support/infoFor3D.js\";import f from\"./FeatureSet.js\";import{extractMeshFeatureOrigin as m,extractMeshFeatureTransform as c}from\"./meshFeatureAttributes.js\";const p=()=>t.getLogger(\"esri.rest.support.meshFeatureSet\");function l(t,r,s){const o=s.features;s.features=[],delete s.geometryType;const a=f.fromJSON(s);if(a.geometryType=\"mesh\",!s.assetMaps)return a;const u=g(r,s.assetMaps),i=t.sourceSpatialReference??n.WGS84,m=s.globalIdFieldName,{outFields:c}=t,p=null!=c&&c.length>0?y(c.includes(\"*\")?null:new Set(c)):()=>({});for(const n of o){const t=E(n,m,i,r,u);a.features.push(new e({geometry:t,attributes:p(n)}))}return a}function y(e){return({attributes:t})=>{if(!t)return{};if(!e)return t;for(const r in t)e.has(r)||delete t[r];return t}}function E(e,t,r,n,a){const u=e.attributes[t],i=a.get(u);if(null==i||!e.geometry)return null;const f=m(e.attributes,r,n.transformFieldRoles),p=s.fromJSON(e.geometry);p.spatialReference=r;const l=c(e.attributes,n.transformFieldRoles),y=r.isGeographic?\"local\":\"georeferenced\",E=d(i);return E?o.createWithExternalSource(f,E,{extent:p,transform:l,vertexSpace:y,unitConversionDisabled:!0}):o.createIncomplete(f,{extent:p,transform:l,vertexSpace:y})}var h;function g(e,t){const s=new Map;for(const o of t){const t=o.parentGlobalId;if(null==t)continue;const n=o.assetName,a=o.assetType,u=o.assetHash,f=o.assetURL,m=o.conversionStatus,c=o.seqNo,l=i(a,e.supportedFormats);if(!l){p().error(\"mesh-feature-set:unknown-format\",`Service returned an asset of type ${a}, but it does not list it as a supported type`);continue}const y=r(s,t,(()=>({files:new Map})));r(y.files,n,(()=>({name:n,type:a,mimeType:l,status:S(m),parts:[]}))).parts[c]={hash:u,url:f}}return s}function d(e){const t=Array.from(e.files.values()),r=new Array;for(const s of t){if(s.status!==h.COMPLETED)return null;const e=new Array;for(const t of s.parts){if(!t)return null;e.push(new a(t.url,t.hash))}r.push(new u(s.name,s.mimeType,e))}return r}function S(e){switch(e){case\"COMPLETED\":case\"SUBMITTED\":return h.COMPLETED;case\"INPROGRESS\":return h.PENDING;default:return h.FAILED}}!function(e){e[e.FAILED=0]=\"FAILED\",e[e.PENDING=1]=\"PENDING\",e[e.COMPLETED=2]=\"COMPLETED\"}(h||(h={}));export{g as assetMapFromAssetMapsJSON,E as extractMesh,l as meshFeatureSetFromJSON};\n"],"names":["n","t","i","arguments","length","undefined","r","o","x","originX","y","originY","z","originZ","spatialReference","translation","translationX","translationZ","translationY","rotationAxis","rotationX","rotationZ","rotationY","rotationAngle","rotationDeg","scale","scaleX","scaleZ","scaleY","p","getLogger","l","s","_t$sourceSpatialRefer","features","geometryType","a","f","fromJSON","assetMaps","u","g","sourceSpatialReference","WGS84","m","globalIdFieldName","outFields","c","e","includes","Set","_ref","attributes","has","E","push","geometry","get","transformFieldRoles","isGeographic","Array","from","files","values","status","h","COMPLETED","parts","url","hash","name","mimeType","d","createWithExternalSource","extent","transform","vertexSpace","unitConversionDisabled","createIncomplete","Map","parentGlobalId","assetName","assetType","assetHash","assetURL","conversionStatus","seqNo","supportedFormats","error","concat","type","S","PENDING","FAILED"],"sourceRoot":""}