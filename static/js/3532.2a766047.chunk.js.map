{"version":3,"file":"static/js/3532.2a766047.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/MeasurementArrow.glsl.js","../node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/DirectLineMeasurementController.js","../node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/interfaces.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/MeasurementArrowTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/MeasurementArrowMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/MeasurementArrowVisualElement.js","../node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/DirectLineMeasurementVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurementAnalysisView3D.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/EngineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/RightAngleQuadVisualElement.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{addProjViewLocalOrigin as e}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float4PassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as i}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as d}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function n(n){const s=new i,{vertex:a,fragment:l}=s;e(a,n),a.uniforms.add(new t(\"width\",(e=>e.width))),s.attributes.add(d.POSITION,\"vec3\"),s.attributes.add(d.NORMAL,\"vec3\"),s.attributes.add(d.UV0,\"vec2\"),s.attributes.add(d.AUXPOS1,\"float\"),s.varyings.add(\"vtc\",\"vec2\"),s.varyings.add(\"vlength\",\"float\"),s.varyings.add(\"vradius\",\"float\"),a.code.add(r`void main(void) {\nvec3 bitangent = normal;\nvtc = uv0;\nvlength = auxpos1;\nvradius = 0.5 * width;\nvec4 pos = view * vec4(position + vradius * bitangent * uv0.y, 1.0);\ngl_Position = proj * pos;\n}`),l.uniforms.add(new t(\"outlineSize\",(e=>e.outlineSize)),new o(\"outlineColor\",(e=>e.outlineColor)),new t(\"stripeLength\",(e=>e.stripeLength)),new o(\"stripeEvenColor\",(e=>e.stripeEvenColor)),new o(\"stripeOddColor\",(e=>e.stripeOddColor)));const v=1/Math.sqrt(2);return l.code.add(r`\n    const float INV_SQRT2 = ${r.float(v)};\n\n    vec4 arrowColor(vec2 tc, float len) {\n      float d = INV_SQRT2 * (tc.x - abs(tc.y));\n      d = min(d, INV_SQRT2 * (len - tc.x - abs(tc.y)));\n      d = min(d, 1.0 - abs(tc.y));\n\n      if (d < 0.0) {\n        return vec4(0.0);\n      } else if (d < outlineSize) {\n        return outlineColor;\n      } else {\n        return fract(0.5 / stripeLength * tc.x * vradius) >= 0.5 ? stripeOddColor : stripeEvenColor;\n      }\n    }\n\n    void main(void) {\n      vec2 ntc = vec2(vtc.x / vradius, vtc.y);\n      vec4 color = arrowColor(ntc, vlength / vradius);\n      if (color.a == 0.0) {\n        discard;\n      }\n      fragColor = color;\n    }\n  `),s}const s=Object.freeze(Object.defineProperty({__proto__:null,build:n},Symbol.toStringTag,{value:\"Module\"}));export{s as M,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import i from\"../../../../core/Logger.js\";import{createQuantity as o}from\"../../../../core/quantityUtils.js\";import{watch as r,syncAndInitial as s}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{o as c}from\"../../../../chunks/vec3.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import{geodesicLength as p}from\"../../../../geometry/geometryEngine.js\";import m from\"../../../../geometry/Polyline.js\";import{canProjectWithoutEngine as u}from\"../../../../geometry/projection.js\";import{getSphericalPCPF as d,SphericalECEFSpatialReference as h,WGS84ECEFSpatialReference as v}from\"../../../../geometry/spatialReferenceEllipsoidUtils.js\";import{projectPointToVector as f}from\"../../../../geometry/projection/projectPointToVector.js\";import{projectPointToWGS84ComparableLonLat as j}from\"../../../../geometry/projection/projectPointToWGS84ComparableLonLat.js\";import{isSupported as g,geodesicLengths as P,InverseGeodeticSolverResult as y,inverseGeodeticSolver as D}from\"../../../../geometry/support/geodesicUtils.js\";import{MeasurementMode as _}from\"../interfaces.js\";import{applyProjectionAndElevationAlignment as w,logFailedGeometryProjectionError as z}from\"../support/projectionUtils.js\";import{UnitNormalizer as A}from\"../support/UnitNormalizer.js\";const R=\"esri.views.3d.analysis.DirectLineMeasurement.DirectLineMeasurementController\",E=i.getLogger(R),S=1e5;let b=class extends t{constructor(e){super(e),this._unitNormalizer=new A,this._tempStartPosition=l(),this._tempEndPosition=l(),this._tempCornerPosition=l()}initialize(){const e=this.view.spatialReference,t=d(e),i=t===h?v:t;this._sphericalPCPF=i;const o=u(e,i);this._unitNormalizer.spatialReference=o?i:e,this.addHandles([r((()=>({viewData:this.viewData,startPoint:this.analysis.startPoint})),(({viewData:e,startPoint:t})=>{e.elevationAlignedStartPoint=this._applyProjectionAndElevationAlignment(t)}),s),r((()=>({viewData:this.viewData,endPoint:this.analysis.endPoint})),(({viewData:e,endPoint:t})=>{e.elevationAlignedEndPoint=this._applyProjectionAndElevationAlignment(t)}),s),r((()=>({result:this._computedResult,viewData:this.viewData})),(({result:e,viewData:t})=>{t.result=e}),s)])}_applyProjectionAndElevationAlignment(e){if(null==e)return e;const{spatialReference:t,elevationProvider:i}=this.view,o=w(e,t,i);return o??(z(this.analysis,e.spatialReference,E),null)}get _computedResult(){const{elevationAlignedStartPoint:e,elevationAlignedEndPoint:t,measurementMode:i}=this.viewData;if(null==e||null==t)return null;const o=this._euclideanDistances(e,t),r=this._geodesicDistance(e,t,o.horizontal.value),s=i===_.Geodesic||i===_.Auto&&o.horizontal.value>S?\"geodesic\":\"euclidean\";return{mode:s,distance:\"euclidean\"===s?o.direct:r,directDistance:o.direct,horizontalDistance:o.horizontal,verticalDistance:o.vertical,geodesicDistance:r}}_euclideanDistances(e,t){const i=e.clone();i.z=t.z;const r=this._tempStartPosition,s=this._tempEndPosition,n=this._tempCornerPosition,a=this.view.spatialReference,l=this._sphericalPCPF,p=u(a,l)?l:a;f(e,r,p),f(t,s,p),f(i,n,p);const m=c(r,s),d=c(n,s),h=Math.abs(t.z-e.z),v=e=>this._unitNormalizer.normalizeDistance(e),j=v(m),g=v(d),P=v(h);return{direct:o(j,\"meters\"),horizontal:o(g,\"meters\"),vertical:o(P,\"meters\")}}_geodesicDistance(e,t,i){const r=e.spatialReference,s=new m({spatialReference:r});s.addPath([e,t]);const n=r.isGeographic&&g(r)?P([s],\"meters\")[0]:r.isWebMercator?p(s,\"meters\"):null,a=null!=n?n:this._fallbackGeodesicDistance(e,t,i);return o(a,\"meters\")}_fallbackGeodesicDistance(e,t,i){if(j(e,U)&&j(t,C)){const e=new y;return D(e,U,C),e.distance}return i}};e([n()],b.prototype,\"view\",void 0),e([n()],b.prototype,\"analysis\",void 0),e([n()],b.prototype,\"viewData\",void 0),e([n()],b.prototype,\"_computedResult\",null),b=e([a(R)],b);const U=l(),C=l();export{b as DirectLineMeasurementController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nvar e,o;!function(e){e[e.None=0]=\"None\",e[e.Direct=1]=\"Direct\",e[e.Triangle=2]=\"Triangle\",e[e.ProjectedGeodesic=3]=\"ProjectedGeodesic\"}(e||(e={})),function(e){e[e.Auto=0]=\"Auto\",e[e.AboveSegment=1]=\"AboveSegment\",e[e.BelowSegment=2]=\"BelowSegment\"}(o||(o={}));export{e as ViewMode,o as VisualElementOrientation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as n}from\"../lib/DefaultVertexAttributeLocations.js\";import{blendingDefault as s,oitBlending as i}from\"../lib/OrderIndependentTransparency.js\";import{Program as a}from\"../lib/Program.js\";import{TransparencyPassType as p}from\"../lib/TransparencyPassType.js\";import{DefaultTechniqueConfiguration as l}from\"../materials/DefaultTechniqueConfiguration.js\";import{M as u}from\"../../../../chunks/MeasurementArrow.glsl.js\";import{CompareFunction as c,PrimitiveType as m}from\"../../../webgl/enums.js\";import{makePipelineState as f,defaultDepthWriteParams as d,defaultColorWriteParams as h}from\"../../../webgl/renderState.js\";class g extends t{constructor(e,r,t){super(e,r,t)}initializeProgram(e){return new a(e.rctx,g.shader.get().build(this.configuration),n)}_setPipelineState(e){const r=e===p.NONE,t=this.configuration;return f({blending:t.transparent?r?s:i(e):null,polygonOffset:this.configuration.polygonOffsetEnabled?{factor:0,units:-4}:null,depthTest:{func:c.LESS},depthWrite:d,colorWrite:h})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}get primitiveType(){return m.TRIANGLE_STRIP}}g.shader=new r(u,(()=>import(\"./MeasurementArrow.glsl.js\")));class y extends l{constructor(){super(...arguments),this.polygonOffsetEnabled=!1,this.transparent=!1,this.transparencyPassType=p.NONE}}e([o()],y.prototype,\"polygonOffsetEnabled\",void 0),e([o()],y.prototype,\"transparent\",void 0),e([o({count:p.COUNT})],y.prototype,\"transparencyPassType\",void 0);export{g as MeasurementArrowTechnique,y as MeasurementArrowTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{s as t,n as e,f as r,b as s,o,e as n}from\"../../../../chunks/vec3.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{f as a}from\"../../../../chunks/vec4f64.js\";import{newLayout as c}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as u}from\"../core/shaderLibrary/ShaderOutput.js\";import f from\"../lib/GLMaterial.js\";import{Material as p,MaterialParameters as l}from\"../lib/Material.js\";import{RenderSlot as h}from\"../lib/RenderSlot.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{MeasurementArrowTechniqueConfiguration as d,MeasurementArrowTechnique as g}from\"../shaders/MeasurementArrowTechnique.js\";class O extends p{constructor(t){super(t,new b),this._configuration=new d}getConfiguration(t,e){return this._configuration.polygonOffsetEnabled=this.parameters.polygonOffset,this._configuration.transparent=this._transparent,this._configuration.transparencyPassType=e.transparencyPassType,this._configuration}intersect(){}produces(t,e){if(e===u.Color||e===u.Alpha){return t===(this._transparent?h.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:h.OPAQUE_MATERIAL)}return!1}createGLMaterial(t){return new A(t)}createBufferWriter(){return new y}get _transparent(){const{parameters:t}=this;return t.outlineColor[3]<1||t.stripeEvenColor[3]<1||t.stripeOddColor[3]<1}}class A extends f{beginSlot(t){return this.ensureTechnique(g,t)}}class b extends l{constructor(){super(...arguments),this.width=32,this.outlineSize=.2,this.outlineColor=a(1,.5,0,1),this.stripeEvenColor=a(1,1,1,1),this.stripeOddColor=a(1,.5,0,1),this.stripeLength=1,this.polygonOffset=!1}}const T=c().vec3f(m.POSITION).vec3f(m.NORMAL).vec2f(m.UV0).f32(m.AUXPOS1),_=i(),v=i(),I=i(),L=i(),j=i();class y{constructor(){this.vertexBufferLayout=T}elementCount(t){return 2*(t.attributes.get(m.POSITION).indices.length/2+1)}write(i,a,c,u,f){const{data:p,indices:l}=c.attributes.get(m.POSITION),h=c.attributes.get(m.NORMAL).data,d=p.length/3;l&&l.length!==2*(d-1)&&console.warn(\"MeasurementArrowMaterial does not support indices\");const g=_,O=v,A=I,b=L,T=j,y=u.position,E=u.normal,M=u.uv0;let S=0;for(let m=0;m<d;++m){const c=3*m;if(t(g,p[c],p[c+1],p[c+2]),m<d-1){const o=3*(m+1);t(O,p[o],p[o+1],p[o+2]),t(T,h[o],h[o+1],h[o+2]),e(T,T),r(A,O,g),e(A,A),s(b,T,A),e(b,b)}const u=o(g,O);i&&a&&(n(g,g,i),n(O,O,i),n(b,b,a));const l=f+2*m,_=l+1;y.setVec(l,g),y.setVec(_,g),E.setVec(l,b),E.setVec(_,b),M.set(l,0,S),M.set(l,1,-1),M.set(_,0,S),M.set(_,1,1),m<d-1&&(S+=u)}const w=u.auxpos1;for(let t=0;t<2*d;++t)w.set(f+t,S)}}export{O as MeasurementArrowMaterial,b as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{colorVectorEquals as e}from\"../../../../core/colorUtils.js\";import t from\"../../../../core/Handles.js\";import{destroyMaybe as r}from\"../../../../core/maybe.js\";import{watch as s}from\"../../../../core/reactiveUtils.js\";import{a as o}from\"../../../../chunks/mat4f64.js\";import{f as i}from\"../../../../chunks/vec3.js\";import{c as a}from\"../../../../chunks/vec3f64.js\";import{c as n}from\"../../../../chunks/vec4.js\";import{c as h}from\"../../../../chunks/vec4f64.js\";import{sv3d as l}from\"../../../../geometry/support/vectorStacks.js\";import{Object3DVisualElement as c}from\"./Object3DVisualElement.js\";import{createPolylineGeometry as d}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as _}from\"../../webgl-engine/lib/Material.js\";import{MeasurementArrowMaterial as m}from\"../../webgl-engine/materials/MeasurementArrowMaterial.js\";class p extends c{constructor(e){super(e),this._arrowWidth=16,this._arrowSubdivisions=128,this._origin=a(),this._originTransform=o(),this._arrowCenter=a(),this._renderOccluded=_.OccludeAndTransparent,this._geometry=null,this._stripeLength=1,this._stripesEnabled=!0,this._color=h(),this._contrastColor=h(),this.applyProperties(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._arrowMaterial&&this._arrowMaterial.setParameters({renderOccluded:e}))}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this._geometryChanged()}get stripeLength(){return this._stripeLength}set stripeLength(e){this._stripeLength=e,this.attached&&this._arrowMaterial.setParameters({stripeLength:this._stripeLength})}get stripesEnabled(){return this._stripesEnabled}set stripesEnabled(e){if(this._stripesEnabled=e,this.attached){const e=this._stripesEnabled?this._contrastColor:this._color;this._arrowMaterial.setParameters({stripeEvenColor:e})}}get color(){return this._color}set color(t){e(t,this._color)||(n(this._color,t),this._updateArrowColor())}get contrastColor(){return this._contrastColor}set contrastColor(t){e(t,this._color)||(n(this._contrastColor,t),this._updateArrowColor())}createExternalResources(){const e=this._color,r=this._contrastColor,o=this._stripesEnabled?r:e;this._arrowMaterial=new m({outlineColor:e,stripeEvenColor:o,stripeOddColor:e,renderOccluded:this.renderOccluded,polygonOffset:!0,isDecoration:this.isDecoration}),this._handles=new t,this._handles.add(s((()=>this.view.state.camera),(()=>{this._viewChanged()})))}destroyExternalResources(){this._arrowMaterial=null,this._handles=r(this._handles)}forEachExternalMaterial(e){e(this._arrowMaterial)}createGeometries(e){if(null==this._geometry?.startRenderSpace||null==this._geometry.endRenderSpace)return;const t=this._createArrowGeometry(this._geometry.startRenderSpace,this._geometry.endRenderSpace,this._origin,this._geometry);t.transformation=this._originTransform,e.addGeometry(t),this._viewChanged()}_createArrowGeometry(e,t,r,s){const o=this.view.renderCoordsHelper,a=[],n=[],h=(e,t)=>{const s=l.get();i(s,e,r),a.push(s),n.push(t)};if(\"euclidean\"===s.type){s.eval(.5,this._arrowCenter);const r=l.get();o.worldUpAtPosition(this._arrowCenter,r),h(e,r),h(t,r)}else{s.eval(.5,this._arrowCenter);const e=this._arrowSubdivisions+1&-2;for(let t=0;t<e;++t){const r=t/(e-1),i=l.get(),a=l.get();s.eval(r,i),o.worldUpAtPosition(i,a),h(i,a)}}return d(this._arrowMaterial,a,n)}_geometryChanged(){this.recreateGeometry()}_viewChanged(){if(this.view.ready&&this.attached&&null!=this._geometry){const e=this.view.state.camera.computeScreenPixelSizeAt(this._arrowCenter);this._arrowMaterial.setParameters({width:this._arrowWidth*e})}}_updateArrowColor(){if(!this.attached)return;const e=this._color,t=this._contrastColor,r=this._stripesEnabled?t:e,s=e,o=e;this._arrowMaterial.setParameters({stripeEvenColor:r,outlineColor:s,stripeOddColor:o})}}export{p as MeasurementArrowVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../intl.js\";import t from\"../../../../core/Accessor.js\";import{unitRGBAFromColor as i,multiplyOpacityToUnitRGBA as s,getContrast as n,BrightnessThreshold as o,multiplyOpacity as l}from\"../../../../core/colorUtils.js\";import{nextHighestPowerOfTen as a,deg2rad as r}from\"../../../../core/mathUtils.js\";import{destroyMaybe as c}from\"../../../../core/maybe.js\";import{formatDecimal as d,formatImperialLength as u,formatImperialVerticalLength as h,formatMetricLength as m,formatMetricVerticalLength as g}from\"../../../../core/quantityFormatUtils.js\";import{toUnit as p}from\"../../../../core/quantityUtils.js\";import{watch as _,syncAndInitial as v,initial as b}from\"../../../../core/reactiveUtils.js\";import{createRenderScreenPointArray3 as L,createRenderScreenPointArray as w}from\"../../../../core/screenUtils.js\";import{adaptiveImperialLengthUnit as S,convertUnit as y}from\"../../../../core/unitUtils.js\";import{property as f}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as A}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{g as E}from\"../../../../chunks/vec2.js\";import{i as V,g as P}from\"../../../../chunks/vec3.js\";import{c as j}from\"../../../../chunks/vec3f64.js\";import{MeasurementMode as z}from\"../interfaces.js\";import{ViewMode as M,VisualElementOrientation as C}from\"./interfaces.js\";import{screenSpaceTangent as D}from\"../support/viewUtils.js\";import{LabelVisualElement as O,mirrorPosition as x}from\"../../interactive/visualElements/LabelVisualElement.js\";import{LineVisualElement as G}from\"../../interactive/visualElements/LineVisualElement.js\";import{MeasurementArrowVisualElement as T}from\"../../interactive/visualElements/MeasurementArrowVisualElement.js\";import{RightAngleQuadVisualElement as H}from\"../../interactive/visualElements/RightAngleQuadVisualElement.js\";import{GeodesicSegment as k,EuclideanSegment as U}from\"../../interactive/visualElements/support/Segment.js\";import{RenderOccludedFlag as F}from\"../../webgl-engine/lib/Material.js\";import{createStipplePatternSimple as R}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{onLocaleChange as Q}from\"../../../../intl/locale.js\";import{fetchMessageBundle as q}from\"../../../../intl/messages.js\";let B=class extends t{get _parameters(){const e=this.view.effectiveTheme,{accentColor:t,textColor:a}=e,r=i(t),c=s(t,.75),d=i(n(t)),u=n(a,o.Low);return{accentColor:r,contrastColor:d,translucentAccentColor:c,triangleLineWidth:3,geodesicProjectionLineWidth:2,guideLineWidth:2,guideStippleLengthPixels:3,directLabelFontSize:16,horizontalLabelFontSize:12,verticalLabelFontSize:12,textColor:a,textBackgroundColor:l(u,.6),textCalloutColor:l(u,.5)}}get visible(){return this.analysisView.visible}get viewMode(){const{elevationAlignedStartPoint:e,elevationAlignedEndPoint:t}=this.analysisView;if(null==e||null==t||e.equals(t))return M.None;const i=this.analysisView.result;if(null==i)return M.Direct;if(\"geodesic\"===i.mode)return this._requiresGeodesicGuideAt(this._startPosition)||this._requiresGeodesicGuideAt(this._endPosition)?M.ProjectedGeodesic:M.Direct;const{verticalDistance:s,horizontalDistance:n}=i,o=s.value,l=n.value;return Math.min(o/l,l/o)<this.triangleCollapseRatioThreshold?M.Direct:M.Triangle}get actualVisualizedMeasurement(){if(null==this.analysisView.result)switch(this.analysisView.measurementMode){case z.Auto:case z.Euclidean:default:return\"euclidean\";case z.Geodesic:return\"geodesic\"}return this.analysisView.result.mode}get allowVisualElementsOrientationChange(){return null==this._triangleOrientationOverride}set allowVisualElementsOrientationChange(e){null==this._triangleOrientationOverride!==e&&(null==this._triangleOrientationOverride?this._triangleOrientationOverride=this._actualVisualElementsOrientation:this._triangleOrientationOverride=null)}get labels(){const e=\"geodesic\"===this.actualVisualizedMeasurement;return{direct:this._segmentLabel,horizontal:e?this._segmentLabel:this._horizontalLabel,vertical:this._verticalLabel}}constructor(e){super(e),this._segmentVisualElement=null,this._triangleVisualElement=null,this._rightAngleQuad=null,this._projectedGeodesicLine=null,this._geodesicStartHint=null,this._geodesicEndHint=null,this._segmentLabel=null,this._verticalLabel=null,this._horizontalLabel=null,this._startPosition=j(),this._endPosition=j(),this._cornerPosition=j(),this._startPositionAtSeaLevel=j(),this._endPositionAtSeaLevel=j(),this._triangleOrientationOverride=null,this.messages=null,this.loadingMessages=!0,this.visualElementOrientation=C.Auto,this.triangleCollapseRatioThreshold=.03}initialize(){const e=this._parameters,t={attached:!0,view:this.view,isDecoration:!0},{guideLineWidth:i,guideStippleLengthPixels:s,triangleLineWidth:n,geodesicProjectionLineWidth:o,directLabelFontSize:l,verticalLabelFontSize:a,horizontalLabelFontSize:r}=e;this._segmentVisualElement=new T({...t,geometry:null,renderOccluded:F.OccludeAndTransparent}),this._triangleVisualElement=new G({...t,width:n,renderOccluded:F.OccludeAndTransparent}),this._rightAngleQuad=new H({...t,renderOccluded:F.OccludeAndTransparent});const c={...t,polygonOffset:!0,renderOccluded:F.OccludeAndTransparent};this._projectedGeodesicLine=new G({...c,width:o,stipplePattern:R(s)}),this._geodesicStartHint=new G({...c,width:i,stipplePattern:R(s)}),this._geodesicEndHint=new G({...c,width:i,stipplePattern:R(s)}),this._segmentLabel=new O({...t,fontSize:l}),this._verticalLabel=new O({...t,fontSize:a}),this._horizontalLabel=new O({...t,fontSize:r}),this.addHandles([_((()=>{const{elevationAlignedStartPoint:e,elevationAlignedEndPoint:t}=this.analysisView,i=this.view;return{view:i,camera:i.state.camera,viewMode:this.viewMode,elevationAlignedStartPoint:e,elevationAlignedEndPoint:t,orientation:this._actualVisualElementsOrientation,visualizedMeasurement:this.actualVisualizedMeasurement,stripeLength:this._measurementArrowStripeLength}}),(e=>this._updateGeometryAndViewMode(e)),v),_((()=>({visible:this.visible,viewMode:this.viewMode})),(e=>this._updateVisualElementVisibility(e)),v),_((()=>({text:this._labelsText,visualizedMeasurement:this.actualVisualizedMeasurement})),(e=>this._updateLabelText(e)),v),_((()=>({visible:this.visible,viewMode:this.viewMode})),(e=>this._updateLabelVisibility(e)),v),_((()=>this._measurementArrowStripeLength),(e=>this._updateSegmentStripeLength(e)),v),Q((async()=>this._updateMessageBundle())),_((()=>this._parameters),(({textBackgroundColor:e,textCalloutColor:t,textColor:i,translucentAccentColor:s,accentColor:n,contrastColor:o})=>{const{_segmentLabel:l,_verticalLabel:a,_horizontalLabel:r,_triangleVisualElement:c,_rightAngleQuad:d,_projectedGeodesicLine:u,_geodesicStartHint:h,_geodesicEndHint:m,_segmentVisualElement:g}=this;l.backgroundColor=e,l.calloutColor=t,l.textColor=i,a.backgroundColor=e,a.calloutColor=t,a.textColor=i,r.backgroundColor=e,r.calloutColor=t,r.textColor=i,c.color=s,d.color=s,u.color=s,h.color=s,m.color=s,g.color=n,g.contrastColor=o}),b)]),this._updateMessageBundle()}destroy(){this._segmentVisualElement=c(this._segmentVisualElement),this._triangleVisualElement=c(this._triangleVisualElement),this._rightAngleQuad=c(this._rightAngleQuad),this._projectedGeodesicLine=c(this._projectedGeodesicLine),this._geodesicStartHint=c(this._geodesicStartHint),this._geodesicEndHint=c(this._geodesicEndHint),this._segmentLabel=c(this._segmentLabel),this._verticalLabel=c(this._verticalLabel),this._horizontalLabel=c(this._horizontalLabel),this.set(\"view\",null)}_updateVisualElementVisibility({visible:e,viewMode:t}){if(this._segmentVisualElement.visible=!1,this._triangleVisualElement.visible=!1,this._rightAngleQuad.visible=!1,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1,e)switch(t){case M.None:break;case M.Direct:this._segmentVisualElement.visible=!0;break;case M.Triangle:this._segmentVisualElement.visible=!0,this._triangleVisualElement.visible=!0,this._rightAngleQuad.visible=!0;break;case M.ProjectedGeodesic:this._segmentVisualElement.visible=!0,this._projectedGeodesicLine.visible=!0,this._geodesicStartHint.visible=!0,this._geodesicEndHint.visible=!0}}_updateGeometryAndViewMode({view:e,camera:t,viewMode:i,elevationAlignedStartPoint:s,elevationAlignedEndPoint:n,orientation:o,visualizedMeasurement:l,stripeLength:a}){const r=e.renderCoordsHelper;if(null==r||null==s||null==n||s.equals(n))return;let c=this._startPosition,d=this._endPosition;r.toRenderCoords(s,c),r.toRenderCoords(n,d);const u=o===C.AboveSegment?1:-1,h=u*(r.getAltitude(d)-r.getAltitude(c));h<0&&(c=this._endPosition,d=this._startPosition);const m=\"geodesic\"===l?new k(this._startPosition,this._endPosition,r.spatialReference):new U(this._startPosition,this._endPosition);switch(this._segmentVisualElement.geometry=m,this._updateSegmentStripeLength(a),i){case M.Direct:this._updateSegment(m,o);break;case M.Triangle:this._updateSegmentAndTriangle({view:e,camera:t,segment:m,orientation:o,startPosition:c,endPosition:d,deltaSign:u,altitudeDelta:h});break;case M.ProjectedGeodesic:this._updateSegmentAndProjection({view:e,orientation:o,startPosition:c,endPosition:d})}}_updateSegment(e,t){this._segmentLabel.anchor=t===C.AboveSegment?\"top\":\"bottom\",this._segmentLabel.geometry={type:\"segment\",segment:e,sampleLocation:\"center\"}}_updateSegmentAndTriangle({view:{renderCoordsHelper:e},camera:t,segment:i,orientation:s,startPosition:n,endPosition:o,deltaSign:l,altitudeDelta:a}){const r=this._cornerPosition;e.worldUpAtPosition(n,r),V(r,r,l*Math.abs(a)),P(r,r,n),this._triangleVisualElement.geometry=[[[n[0],n[1],n[2]],[r[0],r[1],r[2]],[o[0],o[1],o[2]]]],this._rightAngleQuad.geometry={previous:n,center:r,next:o};const c=new U(n,r),d=new U(r,o),u=W(n,o,r,s,t);this._segmentLabel.anchor=u.segment,this._segmentLabel.geometry={type:\"segment\",segment:i,sampleLocation:\"center\"},this._verticalLabel.geometry={type:\"segment\",segment:c,sampleLocation:\"center\"},this._verticalLabel.anchor=u.vertical,this._horizontalLabel.geometry={type:\"segment\",segment:d,sampleLocation:\"center\"},this._horizontalLabel.anchor=u.horizontal}_updateSegmentAndProjection({view:{renderCoordsHelper:e},orientation:t,startPosition:i,endPosition:s}){e.setAltitude(this._startPositionAtSeaLevel,0,i),e.setAltitude(this._endPositionAtSeaLevel,0,s);const n=new k(this._startPositionAtSeaLevel,this._endPositionAtSeaLevel,e.spatialReference);this._projectedGeodesicLine.setGeometryFromSegment(n),this._geodesicStartHint.setGeometryFromSegment(new U(this._startPositionAtSeaLevel,i)),this._geodesicEndHint.setGeometryFromSegment(new U(this._endPositionAtSeaLevel,s)),this._segmentLabel.geometry={type:\"segment\",segment:n,sampleLocation:\"center\"},this._segmentLabel.anchor=t===C.AboveSegment?\"top\":\"bottom\"}_updateLabelText({text:e,visualizedMeasurement:t}){null!=e?(this._segmentLabel.text=\"euclidean\"===t?e.euclideanDistance:e.geodesicDistance,this._horizontalLabel.text=e.horizontalDistance,this._verticalLabel.text=e.verticalDistance):(this._segmentLabel.text=null,this._horizontalLabel.text=null,this._verticalLabel.text=null),this.notifyChange(\"labels\")}_updateLabelVisibility({visible:e,viewMode:t}){const i=this._segmentLabel,s=this._horizontalLabel,n=this._verticalLabel;if(i.visible=!1,s.visible=!1,n.visible=!1,e)switch(t){case M.Direct:i.visible=!0;break;case M.Triangle:i.visible=!0,s.visible=!0,n.visible=!0;break;case M.ProjectedGeodesic:i.visible=!0;case M.None:}}get _labelsText(){if(this.destroyed)return null;const e=this.messages,t=this.analysisView.result;if(null==t||null==e)return null;const{directDistance:i,horizontalDistance:s,verticalDistance:n,geodesicDistance:o}=t,l=this.analysisView.unit,a=e=>({euclideanDistance:\"\",geodesicDistance:\"\",horizontalDistance:\"\",verticalDistance:\"\",...e});switch(l){case\"metric\":return a({euclideanDistance:i&&m(e,i),geodesicDistance:o&&m(e,o),horizontalDistance:s&&m(e,s),verticalDistance:n&&g(e,n)});case\"imperial\":return a({euclideanDistance:i&&u(e,i),geodesicDistance:o&&u(e,o),horizontalDistance:s&&u(e,s),verticalDistance:n&&h(e,n)});default:return a({euclideanDistance:i&&d(e,i,l),geodesicDistance:o&&d(e,o,l),horizontalDistance:s&&d(e,s,l),verticalDistance:n&&d(e,n,l)})}}_updateSegmentStripeLength(e){const t=this._segmentVisualElement;null!=e?(t.stripeLength=e,t.stripesEnabled=!0):t.stripesEnabled=!1}get _actualVisualElementsOrientation(){if(null!=this._triangleOrientationOverride)return this._triangleOrientationOverride;const e=this.visualElementOrientation;return e===C.Auto?this.view.state.camera.aboveGround?C.AboveSegment:C.BelowSegment:e}_requiresGeodesicGuideAt(e){const t=this.view;if(!t?.state)return!1;const i=t.state.camera,s=t.renderCoordsHelper;if(!s)return!1;const n=i.computeScreenPixelSizeAt(e);return s.getAltitude(e)/n>=10}get _measurementArrowStripeLength(){const{result:e,unit:t}=this.analysisView;if(null==e)return null;let i=null;const s=e.directDistance;switch(t){case\"metric\":i=s&&p(s,\"meters\");break;case\"imperial\":i=s&&p(s,S(s.value,s.unit));break;default:i=s&&p(s,t)}if(null==i)return null;return a(i.value/30)*y(1,i.unit,\"meters\")}_updateMessageBundle(){this.loadingMessages=!0,q(\"esri/core/t9n/Units\").then((e=>{this.messages=e})).finally((()=>{this.loadingMessages=!1}))}get testData(){return{labels:this.labels,stripeLength:this._segmentVisualElement?.stripeLength}}};function W(e,t,i,s,n){const o=I,l=J;n.projectToRenderScreen(i,o),n.projectToRenderScreen(t,l);const a={segment:\"bottom\",horizontal:\"top\",vertical:o[0]<l[0]?\"left\":\"right\"};{const s=K,o=X;if(D(e,i,s,n),D(e,t,o,n),E(s,o)>=N){const e=Math.sign(s[1])===Math.sign(o[1]);a.segment=e?x(a.vertical):a.vertical}else{const e=Y;D(i,t,e,n),E(e,o)>=N&&(a.segment=Math.sign(e[0])===Math.sign(o[0])?x(a.horizontal):a.horizontal)}}if(s===C.BelowSegment){const e=e=>\"top\"===e?\"bottom\":\"top\";a.segment=e(a.segment),a.horizontal=e(a.horizontal),a.vertical=e(a.vertical)}return a}e([f()],B.prototype,\"_parameters\",null),e([f()],B.prototype,\"_triangleOrientationOverride\",void 0),e([f()],B.prototype,\"messages\",void 0),e([f()],B.prototype,\"view\",void 0),e([f()],B.prototype,\"analysis\",void 0),e([f()],B.prototype,\"analysisView\",void 0),e([f()],B.prototype,\"loadingMessages\",void 0),e([f()],B.prototype,\"visible\",null),e([f()],B.prototype,\"viewMode\",null),e([f()],B.prototype,\"actualVisualizedMeasurement\",null),e([f()],B.prototype,\"visualElementOrientation\",void 0),e([f()],B.prototype,\"triangleCollapseRatioThreshold\",void 0),e([f()],B.prototype,\"allowVisualElementsOrientationChange\",null),e([f()],B.prototype,\"labels\",null),e([f()],B.prototype,\"_labelsText\",null),e([f()],B.prototype,\"_actualVisualElementsOrientation\",null),e([f()],B.prototype,\"_measurementArrowStripeLength\",null),B=e([A(\"esri.views.3d.analysis.DirectLineMeasurement.DirectLineMeasurementVisualization\")],B);const N=Math.cos(r(12)),I=L(),J=L(),K=w(),X=w(),Y=w();export{B as DirectLineMeasurementVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import{destroyMaybe as e}from\"../../../core/maybe.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{defaultUnitPropertyMetadata as l}from\"../../../properties/defaultUnit.js\";import{AnalysisView3D as n}from\"./AnalysisView3D.js\";import{MeasurementMode as o}from\"./interfaces.js\";import{DirectLineMeasurementController as r}from\"./DirectLineMeasurement/DirectLineMeasurementController.js\";import{DirectLineMeasurementVisualization as u}from\"./DirectLineMeasurement/DirectLineMeasurementVisualization.js\";let p=class extends(n(i)){constructor(t){super(t),this.type=\"direct-line-measurement-view-3d\",this.analysis=null,this.result=null,this.measurementMode=o.Auto,this.elevationAlignedStartPoint=null,this.elevationAlignedEndPoint=null}initialize(){const t=this.view,i=this.analysis;this._analysisVisualization=new u({view:t,analysis:i,analysisView:this}),this._analysisController=new r({view:t,analysis:i,viewData:this})}destroy(){this._analysisController=e(this._analysisController),this._analysisVisualization=e(this._analysisVisualization)}get updating(){return!!this._analysisVisualization?.loadingMessages}get viewMode(){return this._analysisVisualization.viewMode}get actualVisualizedMeasurement(){return this._analysisVisualization.actualVisualizedMeasurement}get visualElementOrientation(){return this._analysisVisualization.visualElementOrientation}set visualElementOrientation(t){this._analysisVisualization.visualElementOrientation=t}get allowVisualElementsOrientationChange(){return this._analysisVisualization.allowVisualElementsOrientationChange}set allowVisualElementsOrientationChange(t){this._analysisVisualization.allowVisualElementsOrientationChange=t}get triangleCollapseRatioThreshold(){return this._analysisVisualization.triangleCollapseRatioThreshold}set triangleCollapseRatioThreshold(t){this._analysisVisualization.triangleCollapseRatioThreshold=t}get directLabelText(){return this._analysisVisualization.labels.direct?.text??\"\"}get horizontalLabelText(){return this._analysisVisualization.labels.horizontal?.text??\"\"}get verticalLabelText(){return this._analysisVisualization.labels.vertical?.text??\"\"}get unit(){return this.analysis.unit??this._defaultUnit}get testData(){return this.destroyed?{labels:null,stripeLength:null,visualization:null,controller:null}:{...this._analysisVisualization?.testData,visualization:this._analysisVisualization,controller:this._analysisController}}};t([a()],p.prototype,\"updating\",null),t([a({readOnly:!0})],p.prototype,\"type\",void 0),t([a({constructOnly:!0,nonNullable:!0})],p.prototype,\"analysis\",void 0),t([a()],p.prototype,\"result\",void 0),t([a()],p.prototype,\"measurementMode\",void 0),t([a()],p.prototype,\"elevationAlignedStartPoint\",void 0),t([a()],p.prototype,\"elevationAlignedEndPoint\",void 0),t([a({readOnly:!0})],p.prototype,\"viewMode\",null),t([a({readOnly:!0})],p.prototype,\"actualVisualizedMeasurement\",null),t([a()],p.prototype,\"visualElementOrientation\",null),t([a()],p.prototype,\"allowVisualElementsOrientationChange\",null),t([a()],p.prototype,\"triangleCollapseRatioThreshold\",null),t([a({readOnly:!0})],p.prototype,\"directLabelText\",null),t([a({readOnly:!0})],p.prototype,\"horizontalLabelText\",null),t([a({readOnly:!0})],p.prototype,\"verticalLabelText\",null),t([a()],p.prototype,\"_analysisVisualization\",void 0),t([a()],p.prototype,\"_analysisController\",void 0),t([a()],p.prototype,\"unit\",null),t([a(l)],p.prototype,\"_defaultUnit\",void 0),p=t([s(\"esri.views.3d.analysis.DirectLineMeasurementAnalysisView3D\")],p);const y=p;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{IdentifiableMixin as s}from\"../../../../core/Identifiable.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{DrapeSourceType as i,DrapedRenderGroup as c}from\"../../layers/interfaces.js\";import{DirtyOperation as u}from\"../../webgl-engine/lib/ModelDirtyTypes.js\";import{UpdatePolicy as a}from\"../../webgl-engine/lib/UpdatePolicy.js\";class n{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1,this._renderGroup=c.Outline}destroy(){this._destroyResources()}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}get renderGroup(){return this._renderGroup}set renderGroup(e){this._renderGroup=e;const r=this._resources?.layerView;r&&(r.renderGroup=e)}recreate(){this.attached&&this._createResources()}recreateGeometry(){this._resourceFactory.recreateGeometry?null!=this._resources&&(this._ensureRenderGeometriesRemoved(),this._resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?null==this._resources&&this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this._resourceFactory.createResources(),r=new d({view:this._resourceFactory.view,renderGroup:this._renderGroup}),s=this._resourceFactory.view.basemapTerrain?.overlayManager;this._resources={layerView:new d({view:this._resourceFactory.view,renderGroup:this._renderGroup}),external:e,geometriesAdded:!1},s&&(this._resources.drapeSourceRenderer=s.registerGeometryDrapeSource(r)),this._syncGeometriesToRenderer()}_destroyResources(){if(null==this._resources)return;this._ensureRenderGeometriesRemoved();const e=this._resourceFactory.view.basemapTerrain?.overlayManager;e&&e.unregisterDrapeSource(this._resources.layerView),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncGeometriesToRenderer(){this._visible?this._ensureRenderGeometriesAdded():this._ensureRenderGeometriesRemoved()}_ensureRenderGeometriesRemoved(){if(null==this._resources?.drapeSourceRenderer)return;if(!this._resources.geometriesAdded)return;this._resources.drapeSourceRenderer.removeGeometries(this._resources.external.geometries,u.UPDATE),this._resources.geometriesAdded=!1}_ensureRenderGeometriesAdded(){if(null==this._resources?.drapeSourceRenderer)return;if(this._resources.geometriesAdded)return;this._resources.drapeSourceRenderer.addGeometries(this._resources.external.geometries,u.UPDATE),this._resources.geometriesAdded=!0}}let d=class extends(s(r)){constructor(e){super(e),this.drapeSourceType=i.Features,this.updatePolicy=a.SYNC,this.renderGroup=c.Outline}};e([t({constructOnly:!0})],d.prototype,\"view\",void 0),e([t({readOnly:!0})],d.prototype,\"drapeSourceType\",void 0),e([t()],d.prototype,\"renderGroup\",void 0),d=e([o(\"DrapedVisualElementLayerView\")],d);export{n as DrapedVisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{watch as e,initial as s}from\"../../../../core/reactiveUtils.js\";import{ContentObjectType as r}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Object3D as t}from\"../../webgl-engine/lib/Object3D.js\";import{UpdatePolicy as o}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{WebGLLayer as i}from\"../../webgl-engine/lib/WebGLLayer.js\";class c{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get object(){return null!=this._resources?this._resources.object:null}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncVisible())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){if(!this._resourceFactory.recreateGeometry)return void this.recreate();const e=this._resourceFactory.view._stage;if(null==this._resources||!e)return;const s=this._resources.object;this._resources.external.forEach((s=>{s.type!==r.Mesh&&s.type!==r.Line&&s.type!==r.Point||e.remove(s)})),s.removeAllGeometries(),this._resourceFactory.recreateGeometry(this._resources.external,s,this._resources.layer),this._resources.external.forEach((s=>{s.type!==r.Mesh&&s.type!==r.Line&&s.type!==r.Point||e.add(s)}))}_createOrDestroyResources(){this._attached?this._resources||this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const c=this._resourceFactory,a=c.view,h=a._stage;if(!h)return;const u=new i(h,{pickable:!1,updatePolicy:o.SYNC}),l=new t({castShadow:!1}),n=c.createResources(l,u);n.forEach((e=>{h.add(e),e.type===r.Texture&&e.load(h.renderView.renderingContext)})),h.add(l),u.add(l);const _=c.cameraChanged,y=_?e((()=>a.state.camera),(e=>_(e)),s):null;this._resources={layer:u,object:l,external:n,cameraHandle:y},this._syncVisible()}_destroyResources(){if(null==this._resources)return;const e=this._resourceFactory.view._stage;e&&(e.remove(this._resources.object),this._resources.layer.destroy(),this._resources.external.forEach((s=>{e.remove(s),s.type===r.Texture&&s.unload()}))),this._resources.object.dispose(),this._resources.cameraHandle?.remove(),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncVisible(){null!=this._resources&&(this._resources.object.visible=this._visible)}}export{c as VisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{DrapedVisualElementResources as e}from\"./DrapedVisualElementResources.js\";import{VisualElement as s}from\"./VisualElement.js\";import{VisualElementResources as r}from\"./VisualElementResources.js\";class t extends s{constructor(s){super(s),this._isDraped=!1,this.object3dResources=new r(this.createObject3DResourceFactory(s.view)),this.drapedResources=new e(this.createDrapedResourceFactory(s.view)),this.isDraped=s.isDraped??!1}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.object3dResources.attached=this.attached&&!e,this.drapedResources.attached=this.attached&&e)}get renderGroup(){return this.drapedResources.renderGroup}set renderGroup(e){this.drapedResources.renderGroup=e}createResources(){this.object3dResources.attached=!this._isDraped,this.drapedResources.attached=this._isDraped}destroyResources(){this.object3dResources.attached=!1,this.drapedResources.attached=!1}recreate(){this.object3dResources.recreate(),this.drapedResources.recreate()}recreateGeometry(){this.object3dResources.recreateGeometry(),this.drapedResources.recreateGeometry()}destroy(){this.object3dResources.destroy(),this.drapedResources.destroy(),super.destroy()}updateVisibility(e){this.object3dResources.visible=e,this.drapedResources.visible=e}}export{t as EngineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{watch as e}from\"../../../../core/reactiveUtils.js\";import{d as t,b as r}from\"../../../../chunks/mat4.js\";import{a as i}from\"../../../../chunks/mat4f64.js\";import{o as s,n as a,f as o,c as n,h as c,g as u}from\"../../../../chunks/vec3.js\";import{c as l,Z as d}from\"../../../../chunks/vec3f64.js\";import{c as h}from\"../../../../chunks/vec4.js\";import{f as m}from\"../../../../chunks/vec4f64.js\";import{sv3d as _}from\"../../../../geometry/support/vectorStacks.js\";import{makeDehydratedPoint as p}from\"../../../../layers/graphics/dehydratedPoint.js\";import{EngineVisualElement as f}from\"./EngineVisualElement.js\";import{drapedZ as g}from\"../../terrain/OverlayRenderer.js\";import{Attribute as M}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as O}from\"../../webgl-engine/lib/Geometry.js\";import{createPolylineGeometry as R}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as b}from\"../../webgl-engine/lib/Material.js\";import{RenderGeometry as j}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as y}from\"../../webgl-engine/lib/VertexAttribute.js\";import{ColorMaterial as D}from\"../../webgl-engine/materials/ColorMaterial.js\";import{RibbonLineMaterial as w}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class z extends f{constructor(e){super(e),this._maxSize=0,this._position=l(),this._up=l(),this._right=l(),this._renderOccluded=b.OccludeAndTransparent,this._color=m(1,0,0,1),this._outlineColor=m(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=b.Opaque,this.applyProperties(e)}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:()=>{},cameraChanged:()=>this._updateTransformObject3D()}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:e=>this._destroyDrapedResources(e)}}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}get color(){return this._color}set color(e){h(this._color,e),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(e){h(this._outlineColor,e),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(e){const t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}set geometry({previous:e,center:t,next:r}){this._maxSize=Math.min(s(t,e),s(t,r))/3,a(this._up,o(this._up,e,t)),a(this._right,o(this._right,r,t)),n(this._position,t),this.recreateGeometry()}_createObject3DResources(e){const t=new D(this._quadMaterialParameters),r=0===this._outlineSize?void 0:new w(this._outlineMaterialParameters);return this._createObject3DGeometries(e,t,r),{quadMaterial:t,outlineMaterial:r,forEach:e=>{e(t),r&&e(r)}}}_createObject3DGeometries(e,t,r){if(c(this._up,d)&&c(this._right,d))return;const i=this._createGeometries(t,r);for(const s of i)e.addGeometry(s);this._updateTransformObject3D(e)}_createDrapedResources(){const t=new D(this._quadMaterialParameters),r=0===this._outlineSize?void 0:new w(this._outlineMaterialParameters),i=this._createGeometries(t,r).map((e=>new j(e)));this._setTransformDraped(i);return{quadMaterial:t,outlineMaterial:r,geometries:i,pixelRatioHandle:e((()=>this.view.state.contentPixelRatio),(()=>{this.drapedResources.recreateGeometry()}))}}_destroyDrapedResources(e){e.pixelRatioHandle.remove(),e.geometries=[]}_createGeometries(e,t){const{up:r,right:i,corner:s}=this._getVertices(),a=this._quadGeometryData(r,i,s,e);if(!t)return[a];return[a,R(t,[r,s,i])]}_getVertices(){let e=this._up,t=this._right;const r=u(_.get(),e,t);return this.isDraped&&(e=n(_.get(),e),t=n(_.get(),t),e[2]=0,t[2]=0,r[2]=0),{up:e,right:t,corner:r}}_updateTransform(){this.isDraped?this.drapedResources.recreateGeometry():this._updateTransformObject3D()}_updateTransformObject3D(e=this.object3dResources.object){if(!e)return;const i=this.view.state.camera,s=this._size*i.computeScreenPixelSizeAt(this._position),a=Math.min(this._maxSize,s);t(P,this._position),r(P,P,[a,a,a]),e.transformation=P}_setTransformDraped(e){if(0===e.length)return;const{view:{basemapTerrain:{overlayManager:i},state:{contentPixelRatio:s}}}=this,{_position:a,_size:o}=this,c=n(_.get(),a);c[2]=g;const u=v;u.spatialReference=i.renderer.spatialReference,u.x=c[0],u.y=c[1];const l=o*(this.view.overlayPixelSizeInMapUnits(u)*s),d=Math.min(this._maxSize,l);t(P,c),r(P,P,[d,d,1]);for(const t of e)t.transformation=P}_quadGeometryData(e,t,r,i){return new O(i,[[y.POSITION,new M([0,0,0,...t,...e,...r],[0,1,2,1,2,3],3,!0)]])}get _quadMaterialParameters(){return{color:this._color,forceTransparentMode:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateQuadMaterial(){this.object3dResources.resources?.quadMaterial.setParameters(this._quadMaterialParameters),this.drapedResources.resources?.quadMaterial.setParameters(this._quadMaterialParameters)}get _outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded,isDecoration:this.isDecoration}}_updateOutlineMaterial(){this.object3dResources.resources?.outlineMaterial?.setParameters(this._outlineMaterialParameters),this.drapedResources.resources?.outlineMaterial?.setParameters(this._outlineMaterialParameters)}}const P=i(),v=p(0,0,void 0,null);export{z as RightAngleQuadVisualElement};\n"],"names":["n","s","i","vertex","a","fragment","l","e","uniforms","add","t","width","attributes","d","POSITION","NORMAL","UV0","AUXPOS1","varyings","code","r","_templateObject","_taggedTemplateLiteral","outlineSize","o","outlineColor","stripeLength","stripeEvenColor","stripeOddColor","v","Math","sqrt","_templateObject2","float","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","R","E","getLogger","b","constructor","super","this","_unitNormalizer","A","_tempStartPosition","_tempEndPosition","_tempCornerPosition","initialize","view","spatialReference","h","_sphericalPCPF","u","addHandles","viewData","startPoint","analysis","_ref","elevationAlignedStartPoint","_applyProjectionAndElevationAlignment","endPoint","_ref2","elevationAlignedEndPoint","result","_computedResult","_ref3","elevationProvider","w","z","measurementMode","_euclideanDistances","_geodesicDistance","horizontal","_","Geodesic","Auto","mode","distance","direct","directDistance","horizontalDistance","verticalDistance","vertical","geodesicDistance","clone","p","f","m","c","abs","normalizeDistance","j","g","P","addPath","isGeographic","isWebMercator","_fallbackGeodesicDistance","U","C","y","D","prototype","None","Direct","Triangle","ProjectedGeodesic","AboveSegment","BelowSegment","initializeProgram","rctx","shader","get","configuration","_setPipelineState","NONE","blending","transparent","polygonOffset","polygonOffsetEnabled","factor","units","depthTest","func","LESS","depthWrite","colorWrite","initializePipeline","transparencyPassType","primitiveType","TRIANGLE_STRIP","arguments","count","COUNT","O","_configuration","getConfiguration","parameters","_transparent","intersect","produces","Color","Alpha","TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL","OPAQUE_MATERIAL","createGLMaterial","createBufferWriter","beginSlot","ensureTechnique","T","vec3f","vec2f","f32","I","L","vertexBufferLayout","elementCount","indices","length","write","data","console","warn","position","normal","M","uv0","S","setVec","set","auxpos1","_arrowWidth","_arrowSubdivisions","_origin","_originTransform","_arrowCenter","_renderOccluded","OccludeAndTransparent","_geometry","_stripeLength","_stripesEnabled","_color","_contrastColor","applyProperties","renderOccluded","_arrowMaterial","setParameters","geometry","_geometryChanged","attached","stripesEnabled","color","_updateArrowColor","contrastColor","createExternalResources","isDecoration","_handles","state","camera","_viewChanged","destroyExternalResources","forEachExternalMaterial","createGeometries","_this$_geometry","startRenderSpace","endRenderSpace","_createArrowGeometry","transformation","addGeometry","renderCoordsHelper","push","type","eval","worldUpAtPosition","recreateGeometry","ready","computeScreenPixelSizeAt","B","_parameters","effectiveTheme","accentColor","textColor","Low","translucentAccentColor","triangleLineWidth","geodesicProjectionLineWidth","guideLineWidth","guideStippleLengthPixels","directLabelFontSize","horizontalLabelFontSize","verticalLabelFontSize","textBackgroundColor","textCalloutColor","visible","analysisView","viewMode","equals","_requiresGeodesicGuideAt","_startPosition","_endPosition","min","triangleCollapseRatioThreshold","actualVisualizedMeasurement","Euclidean","allowVisualElementsOrientationChange","_triangleOrientationOverride","_actualVisualElementsOrientation","labels","_segmentLabel","_horizontalLabel","_verticalLabel","_segmentVisualElement","_triangleVisualElement","_rightAngleQuad","_projectedGeodesicLine","_geodesicStartHint","_geodesicEndHint","_cornerPosition","_startPositionAtSeaLevel","_endPositionAtSeaLevel","messages","loadingMessages","visualElementOrientation","F","G","H","stipplePattern","fontSize","orientation","visualizedMeasurement","_measurementArrowStripeLength","_updateGeometryAndViewMode","_updateVisualElementVisibility","text","_labelsText","_updateLabelText","_updateLabelVisibility","_updateSegmentStripeLength","Q","async","_updateMessageBundle","backgroundColor","calloutColor","destroy","toRenderCoords","getAltitude","k","_updateSegment","_updateSegmentAndTriangle","segment","startPosition","endPosition","deltaSign","altitudeDelta","_updateSegmentAndProjection","anchor","sampleLocation","_ref4","V","previous","center","next","J","projectToRenderScreen","K","X","N","sign","x","Y","W","_ref5","setAltitude","setGeometryFromSegment","_ref6","euclideanDistance","notifyChange","_ref7","destroyed","unit","aboveGround","q","then","finally","testData","_this$_segmentVisualE","cos","_analysisVisualization","_analysisController","updating","_this$_analysisVisual","directLabelText","_this$_analysisVisual2","_this$_analysisVisual3","horizontalLabelText","_this$_analysisVisual4","_this$_analysisVisual5","verticalLabelText","_this$_analysisVisual6","_this$_analysisVisual7","_this$analysis$unit","_defaultUnit","_this$_analysisVisual8","visualization","controller","readOnly","constructOnly","nonNullable","_resourceFactory","_resources","_visible","_attached","_renderGroup","Outline","_destroyResources","resources","external","_syncGeometriesToRenderer","_createOrDestroyResources","renderGroup","_this$_resources","layerView","recreate","_createResources","_ensureRenderGeometriesRemoved","_this$_resourceFactor","createResources","basemapTerrain","overlayManager","geometriesAdded","drapeSourceRenderer","registerGeometryDrapeSource","_this$_resourceFactor2","unregisterDrapeSource","destroyResources","_ensureRenderGeometriesAdded","_this$_resources2","removeGeometries","geometries","UPDATE","_this$_resources3","addGeometries","drapeSourceType","Features","updatePolicy","SYNC","object","_syncVisible","_stage","forEach","Mesh","Line","Point","remove","removeAllGeometries","layer","pickable","castShadow","Texture","load","renderView","renderingContext","cameraChanged","cameraHandle","_this$_resources$came","unload","dispose","_s$isDraped","_isDraped","object3dResources","createObject3DResourceFactory","drapedResources","createDrapedResourceFactory","isDraped","updateVisibility","_maxSize","_position","_up","_right","_outlineColor","_outlineSize","_size","_outlineRenderOccluded","Opaque","_createObject3DResources","_updateTransformObject3D","_createDrapedResources","_destroyDrapedResources","_updateQuadMaterial","_updateOutlineMaterial","size","_updateTransform","outlineRenderOccluded","_quadMaterialParameters","_outlineMaterialParameters","_createObject3DGeometries","quadMaterial","outlineMaterial","_createGeometries","map","_setTransformDraped","pixelRatioHandle","contentPixelRatio","up","right","corner","_getVertices","_quadGeometryData","undefined","renderer","overlayPixelSizeInMapUnits","forceTransparentMode","writeDepth","_this$object3dResourc","_this$drapedResources","_this$object3dResourc2","_this$drapedResources2"],"sourceRoot":""}