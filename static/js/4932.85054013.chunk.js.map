{"version":3,"file":"static/js/4932.85054013.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/graphics/controllers/StreamController.js","../node_modules/@arcgis/core/views/layers/StreamLayerView.js","../node_modules/@arcgis/core/views/3d/layers/StreamLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import s from\"../../../core/Accessor.js\";import{destroyMaybe as r}from\"../../../core/maybe.js\";import{EsriPromiseMixin as o}from\"../../../core/Promise.js\";import{watch as i}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import{StreamFeatureManager as c}from\"../data/StreamFeatureManager.js\";import{createConnection as p}from\"../sources/connections/createConnection.js\";import{EventedSet as d}from\"../../../views/3d/support/EventedSet.js\";import{featureGeometryTypeKebabDictionary as h}from\"../../../geometry/support/typeUtils.js\";const l=2500;let u=class extends t{getObjectId(){return this.objectId}};e([a({type:Number,json:{read:!0}})],u.prototype,\"objectId\",void 0),u=e([n(\"esri.layers.graphics.controllers.StreamGraphic\")],u);class m{constructor(e){this.onUpdate=e,this._idToGraphic=new Map}destroy(){this._idToGraphic.clear()}add(e){this._idToGraphic.set(e.objectId,e)}get(e){return this._idToGraphic.get(e)}forEach(e){this._idToGraphic.forEach(e)}removeById(e){const t=this._idToGraphic.get(e);return t?(t.sourceLayer=t.layer=null,this._idToGraphic.delete(e),t):null}update(e,t){this.onUpdate(e,t)}get size(){return this._idToGraphic.size}}let y=class extends(o(s)){constructor(){super(...arguments),this.isPaused=!1,this.graphics=new d,this._updateInfo={websocket:0,client:0},this._updateIntervalId=null,this._outSpatialReference=null}initialize(){this.addResolvingPromise(this.layer.when((()=>this._startup())))}destroy(){this.clear()}_clearInterval(){null!==this._updateIntervalId&&(clearInterval(this._updateIntervalId),this._updateIntervalId=null)}clear(){this._clearInterval(),this.connection=r(this.connection),this.store=r(this.store),this.graphics.clear(),this.removeAllHandles()}get updating(){return!this.connection||\"connected\"===this.connection.connectionStatus}_startup(){const{layer:e,layerView:t}=this,{spatialReference:s,definitionExpression:r,geometryDefinition:o,objectIdField:a,timeInfo:n,purgeOptions:d,maxReconnectionAttempts:l,maxReconnectionInterval:u,customParameters:y}=e,f=e.geometryType?h.toJSON(e.geometryType):null,g=s,I=t.view.spatialReference,_={geometry:o,where:r};this.clear(),this._set(\"connection\",p(e.parsedUrl,g,I,f,_,l,u,y??void 0)),this._outSpatialReference=I.toJSON(),this.store=new m(this._onUpdate.bind(this)),this.featuresManager=new c(this.store,a,n.toJSON(),d);const v=\"startup-watches\";this.removeHandles(v),this.addHandles([e.on(\"send-message-to-socket\",(e=>this.connection.sendMessageToSocket(e))),e.on(\"send-message-to-client\",(e=>this.connection.sendMessageToClient(e))),this.connection.on(\"data-received\",(e=>this._onFeature(e))),this.connection.on(\"message-received\",(e=>this._onWebSocketMessage(e))),i((()=>[e.definitionExpression,e.geometryDefinition,e.purgeOptions]),(()=>this._startup()))],v),this.isPaused||this._initUpdateInterval()}_onWebSocketMessage(e){if(this.layerView.emit(\"message-received\",e),\"type\"in e)switch(e.type){case\"delete\":if(e.objectIds)for(const t of e.objectIds)this.featuresManager.removeById(t);if(e.trackIds)for(const t of e.trackIds)this.featuresManager.removeByTrackId(t);break;case\"clear\":this.store.forEach((e=>this.featuresManager.removeById(e.objectId)))}}_onFeature(e){this._updateInfo.websocket++,this.layerView.hasEventListener(\"data-received\")&&this.layerView.emit(\"data-received\",{attributes:e.attributes,centroid:e.centroid,geometry:e.geometry});try{null==e.geometry||e.geometry.spatialReference||(e.geometry.spatialReference=this._outSpatialReference);const t=u.fromJSON(e);t.sourceLayer=t.layer=this.layer,this.featuresManager.add(t)}catch{}}_onUpdate(e,t){null!=t&&this.graphics.removeMany(t),null!=e&&(this._updateInfo.client+=e.length,this.graphics.addMany(e))}_initUpdateInterval(){this._clearInterval();const{updateInterval:e}=this.layer;let t=performance.now();this._updateIntervalId=setInterval((()=>{const e=performance.now(),s=e-t;if(s>l){t=e;const r=Math.round(this._updateInfo.client/(s/1e3)),o=Math.round(this._updateInfo.websocket/(s/1e3));this._updateInfo.client=0,this._updateInfo.websocket=0,this.layerView.emit(\"update-rate\",{client:r,websocket:o})}this.featuresManager.checkForUpdates()}),e)}pauseStream(){this.isPaused=!0,this._clearInterval()}resumeStream(){this.isPaused=!1,this._initUpdateInterval()}};e([a()],y.prototype,\"isPaused\",void 0),e([a({constructOnly:!0})],y.prototype,\"layer\",void 0),e([a({constructOnly:!0})],y.prototype,\"layerView\",void 0),e([a()],y.prototype,\"connection\",void 0),e([a({readOnly:!0})],y.prototype,\"updating\",null),y=e([n(\"esri.layers.graphics.controllers.StreamController\")],y);export{y as StreamController,u as StreamGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import t from\"../../layers/support/FeatureFilter.js\";const o=o=>{let i=class extends o{resume(){this._isUserPaused=!1,this.suspended||this._doResume()}pause(){this._isUserPaused=!0,this.suspended||this._doPause()}constructor(...s){super(...s),this._isUserPaused=!1,this.filter=null}get connectionStatus(){return this._isUserPaused?\"paused\":this._streamConnectionStatus}_onSuspendedChange(s){s?this._doPause():this._isUserPaused||this._doResume()}};return s([e()],i.prototype,\"_isUserPaused\",void 0),s([e({readOnly:!0})],i.prototype,\"connectionStatus\",null),s([e({type:t})],i.prototype,\"filter\",void 0),i=s([r(\"esri.layers.mixins.StreamLayerView\")],i),i};export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import{watch as t}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{StreamController as i}from\"../../../layers/graphics/controllers/StreamController.js\";import n from\"../../../rest/support/Query.js\";import{FeatureLikeLayerView3D as a}from\"./FeatureLikeLayerView3D.js\";import{LayerView3D as l}from\"./LayerView3D.js\";import{UpdatePolicy as c}from\"../webgl-engine/lib/UpdatePolicy.js\";import p from\"../../layers/LayerView.js\";import u from\"../../layers/StreamLayerView.js\";let m=class extends(u(a(l(p)))){constructor(){super(...arguments),this.type=\"stream-3d\",this.updatePolicy=c.ASYNC,this.hasZ=!0,this.hasM=!1}initialize(){this.addHandles(t((()=>this.suspended),(e=>{this.controller&&this._onSuspendedChange(e)})))}get connectionError(){const e=this.controller?.connection?.errorString;return e?new r(\"stream-controller\",e):null}createQuery(){return new n({outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference})}queryLatestObservations(e,r){return this.queryEngine.executeQueryForLatestObservations(this._ensureQuery(e),r?.signal)}get _streamConnectionStatus(){return this.controller?.connection?.connectionStatus??\"disconnected\"}createController(){return new i({layer:this.layer,layerView:this})}beforeSetController(){}_doPause(){this.controller?.pauseStream()}_doResume(){this.controller?.resumeStream()}};e([o({readOnly:!0})],m.prototype,\"updatePolicy\",void 0),e([o({readOnly:!0})],m.prototype,\"connectionError\",null),e([o()],m.prototype,\"controller\",void 0),e([o({readOnly:!0})],m.prototype,\"hasZ\",void 0),e([o({readOnly:!0})],m.prototype,\"hasM\",void 0),e([o({readOnly:!0})],m.prototype,\"_streamConnectionStatus\",null),m=e([s(\"esri.views.3d.layers.StreamLayerView3D\")],m);const y=m;export{y as default};\n"],"names":["u","t","getObjectId","this","objectId","e","a","type","Number","json","read","prototype","n","m","constructor","onUpdate","_idToGraphic","Map","destroy","clear","add","set","get","forEach","removeById","sourceLayer","layer","delete","update","size","y","o","s","super","arguments","isPaused","graphics","d","_updateInfo","websocket","client","_updateIntervalId","_outSpatialReference","initialize","addResolvingPromise","when","_startup","_clearInterval","clearInterval","connection","r","store","removeAllHandles","updating","connectionStatus","layerView","spatialReference","definitionExpression","geometryDefinition","objectIdField","timeInfo","purgeOptions","maxReconnectionAttempts","l","maxReconnectionInterval","customParameters","f","geometryType","h","toJSON","g","I","view","_","geometry","where","_set","p","parsedUrl","_onUpdate","bind","featuresManager","c","v","removeHandles","addHandles","on","sendMessageToSocket","sendMessageToClient","_onFeature","_onWebSocketMessage","i","_initUpdateInterval","emit","objectIds","trackIds","removeByTrackId","hasEventListener","attributes","centroid","fromJSON","removeMany","length","addMany","updateInterval","performance","now","setInterval","Math","round","checkForUpdates","pauseStream","resumeStream","constructOnly","readOnly","resume","_isUserPaused","suspended","_doResume","pause","_doPause","filter","_streamConnectionStatus","_onSuspendedChange","updatePolicy","ASYNC","hasZ","hasM","controller","connectionError","_this$controller","errorString","createQuery","outFields","returnGeometry","outSpatialReference","queryLatestObservations","queryEngine","executeQueryForLatestObservations","_ensureQuery","signal","_this$controller$conn","_this$controller2","createController","beforeSetController","_this$controller3","_this$controller4"],"sourceRoot":""}