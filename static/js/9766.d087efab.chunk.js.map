{"version":3,"file":"static/js/9766.d087efab.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/geometry/projection/localLinearScaleFactors.js","../node_modules/@arcgis/core/geometry/projection/projectBoundingSphere.js","../node_modules/@arcgis/core/layers/ILyr3DWasmPerSceneView.js","../node_modules/@arcgis/core/views/3d/layers/IntegratedMesh3DTilesViewPerformanceInfo.js","../node_modules/@arcgis/core/views/3d/layers/support/lyr3dTypeConversions.js","../node_modules/@arcgis/core/views/3d/layers/support/Tiles3DIntersectionHandler.js","../node_modules/@arcgis/core/views/3d/layers/IntegratedMesh3DTilesLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/i3s/LayerElevationProvider.js","../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/ObjectParameters.js","../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/Transform.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/material/RenderTexture.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{l as r}from\"../../chunks/vec32.js\";import{classifySpatialReference as t,sourceClassificationCache as s,destClassificationCache as o,ProjectionID as i,invPlateCarreeScale as n}from\"./projectors.js\";import{earth as e}from\"../support/Ellipsoid.js\";import{equals as u}from\"../support/spatialReferenceUtils.js\";function f(f,p,E,c){if(null==p||null==c)return!1;const l=t(p,s),C=t(c,o);if(l===C&&l!==i.UNKNOWN||u(p,c))return E[0]=1,E[1]=1,E[2]=1,!0;if(l===i.SPHERICAL_ECEF){const t=r(f),s=t/Math.sqrt(f[0]*f[0]+f[1]*f[1]),o=t/e.radius;if(C===i.WEB_MERCATOR)return E[0]=s*o,E[1]=s*o,E[2]=1,!0;if(C===i.WGS84||C===i.CGCS2000){const r=n;return E[0]=r*s*o,E[1]=r*o,E[2]=1,!0}}else if(l===i.PLATE_CARREE){if(C===i.WGS84||C===i.CGCS2000)return E[0]=n,E[1]=n,E[2]=1,!0;if(C===i.WEB_MERCATOR){const r=f[1]/e.radius;return E[0]=1,E[1]=1/Math.cos(r),E[2]=1,!0}}return!1}export{f as localLinearScaleFactors};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../../core/mathUtils.js\";import{create as r}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{createEmptyProjectorCache as t,populateProjectorCache as o,copy3 as n,ProjectionID as s,projectionTable as i,wgs84ToWebMercator as c}from\"./projectors.js\";import{earth as l}from\"../support/Ellipsoid.js\";function a(e,r,t,a){if(null==r||null==a)return!1;const E=o(r,a,p);if(E.projector===n)return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],!0;if(null==E.projector)return!1;const{source:m,dest:R}=E;if(R.spatialReferenceId===s.WEB_MERCATOR){const r=i[m.spatialReferenceId][s.WGS84];return null!=r&&(r(e,0,f,0),c(f,0,t,0),t[3]=u(f[1],e[2],e[3],l.radius),!0)}if(m.spatialReferenceId!==s.WGS84&&m.spatialReferenceId!==s.CGCS2000||R.spatialReferenceId!==s.PLATE_CARREE){E.projector(e,0,t,0);const r=m.metersPerUnit??1,o=R.metersPerUnit??1;t[3]=e[3]*r/o}else{const r=i[m.spatialReferenceId][s.SPHERICAL_ECEF],o=i[s.SPHERICAL_ECEF][s.PLATE_CARREE];let n=e[3];null!=r&&null!=o&&(n=u(e[1],e[2],e[3],l.radius)),E.projector(e,0,t,0),t[3]=n}return!0}function u(e,r,t,o){const n=o+r;if(n<o/2||t>n)return Number.MAX_VALUE;const s=Math.abs(E*e)+Math.asin(t/n);return s>=Math.PI/2?Number.MAX_VALUE:t/Math.cos(s)}const f=r(),p=t(),E=e(1);export{a as projectBoundingSphere};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nvar e,t,n,i,a,o,r,N,p,s,c,l,S,g,u;!function(e){e.U8=\"U8\",e.I8=\"I8\",e.U16=\"U16\",e.I16=\"I16\",e.U32=\"U32\",e.I32=\"I32\",e.F32=\"F32\",e.F64=\"F64\",e.Utf8String=\"Utf8String\",e.NotSet=\"NotSet\"}(e||(e={})),function(e){e.Png=\"Png\",e.Jpeg=\"Jpeg\",e.Dds=\"Dds\",e.Raw=\"Raw\",e.Dxt1=\"Dxt1\",e.Dxt5=\"Dxt5\",e.Etc2=\"Etc2\",e.Astc=\"Astc\",e.Pvrtc=\"Pvrtc\",e.NotSet=\"NotSet\"}(t||(t={})),function(e){e.Rgb8=\"Rgb8\",e.Rgba8=\"Rgba8\",e.R8=\"R8\",e.Bgr8=\"Bgr8\",e.Bgra8=\"Bgra8\",e.Rg8=\"Rg8\",e.Dxt1=\"Dxt1\",e.Dxt5=\"Dxt5\",e.NotSet=\"NotSet\"}(n||(n={})),function(e){e.Position=\"Position\",e.Normal=\"Normal\",e.TexCoord=\"TexCoord\",e.Color=\"Color\",e.Tangent=\"Tangent\",e.FeatureIndex=\"FeatureIndex\",e.UvRegion=\"UvRegion\",e.NotSet=\"NotSet\"}(i||(i={})),function(e){e.Opaque=\"Opaque\",e.Mask=\"Mask\",e.Blend=\"Blend\"}(a||(a={})),function(e){e.None=\"None\",e.Mask=\"Mask\",e.Alpha=\"Alpha\",e.PreMultAlpha=\"PreMultAlpha\",e.NotSet=\"NotSet\"}(o||(o={})),function(e){e.Points=\"Points\",e.Lines=\"Lines\",e.LineStrip=\"LineStrip\",e.Triangles=\"Triangles\",e.TriangleStrip=\"TriangleStrip\",e.NotSet=\"NotSet\"}(r||(r={})),function(e){e.None=\"None\",e.WrapXBit=\"WrapXBit\",e.WrapYBit=\"WrapYBit\",e.WrapXy=\"WrapXy\",e.NotSet=\"NotSet\"}(N||(N={})),function(e){e.Linear=\"Linear\",e.Nearest=\"Nearest\",e.NotSet=\"NotSet\"}(p||(p={})),function(e){e.Linear=\"Linear\",e.Nearest=\"Nearest\",e.NearestMipmapNearest=\"NearestMipmapNearest\",e.LinearMipmapNearest=\"LinearMipmapNearest\",e.NearestMipmapLinear=\"NearestMipmapLinear\",e.LinearMipmapLinear=\"LinearMipmapLinear\",e.NotSet=\"NotSet\"}(s||(s={})),function(e){e.FeatureId=\"FeatureId\",e.GlobalUid=\"GlobalUid\",e.UnspecifiedDateTime=\"UnspecifiedDateTime\",e.EcmaIso8601DateTime=\"EcmaIso8601DateTime\",e.EcmaIso8601DateOnly=\"EcmaIso8601DateOnly\",e.TimeOnly=\"TimeOnly\",e.TimeStamp=\"TimeStamp\",e.ColorRgb=\"ColorRgb\",e.ColorRgba=\"ColorRgba\",e.Unrecognized=\"Unrecognized\",e.NotSet=\"NotSet\"}(c||(c={})),function(e){e.Texture=\"Texture\",e.VertexAtrb=\"VertexAtrb\",e.Implicit=\"Implicit\",e.NotSet=\"NotSet\"}(l||(l={})),function(e){e.Front=\"Front\",e.Back=\"Back\",e.None=\"None\",e.NotSet=\"NotSet\"}(S||(S={})),function(e){e.Pbr=\"Pbr\",e.Unlit=\"Unlit\"}(g||(g={})),function(e){e[e.Succeeded=0]=\"Succeeded\",e[e.Failed=1]=\"Failed\",e[e.MissingInputs=2]=\"MissingInputs\"}(u||(u={}));const m=-1,d=-2;export{a as Lyr3DAlphaMode,S as Lyr3DFaceCullingMode,l as Lyr3DFeatureIndexSource,t as Lyr3DImageFormat,g as Lyr3DLightingModel,p as Lyr3DMagFilterMode,s as Lyr3DMinFilterMode,n as Lyr3DPixelFormat,r as Lyr3DPrimitiveType,c as Lyr3DSchemaPropertySemantic,o as Lyr3DTransparency,e as Lyr3DType,N as Lyr3DUvWrapMode,i as Lyr3DVtxAtrbSemantic,u as Lyr3DWasmWorkerOutputStatus,m as invalidLayerView,d as wasmFailedToInit};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{LayerViewPerformanceInfo as e}from\"./support/LayerViewPerformanceInfo.js\";class t extends e{constructor(e,t,s,r,o,h,c){super(e,0,0,0,t),this.nodesCached=s,this.vboMB=r,this.textureMB=o,this.vboMBCached=h,this.textureMBCached=c}}export{t as IntegratedMesh3DTilesViewPerformanceInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{Lyr3DPrimitiveType as e,Lyr3DAlphaMode as t,Lyr3DFaceCullingMode as n,Lyr3DUvWrapMode as E,Lyr3DType as r}from\"../../../../layers/ILyr3DWasmPerSceneView.js\";import{AlphaDiscardMode as s,CullFaceOptions as o}from\"../../webgl-engine/lib/basicInterfaces.js\";import{PrimitiveType as i,TextureWrapMode as a}from\"../../../webgl/enums.js\";const l={[e.Points]:null,[e.Lines]:null,[e.LineStrip]:null,[e.Triangles]:i.TRIANGLES,[e.TriangleStrip]:i.TRIANGLE_STRIP,[e.NotSet]:null},T={[t.Opaque]:s.Opaque,[t.Mask]:s.Mask,[t.Blend]:s.Blend},P={[n.Back]:o.Back,[n.Front]:o.Front,[n.None]:o.None,[n.NotSet]:o.Back},_={[E.WrapYBit]:{s:a.CLAMP_TO_EDGE,t:a.REPEAT},[E.WrapXBit]:{s:a.REPEAT,t:a.CLAMP_TO_EDGE},[E.WrapXy]:{s:a.REPEAT,t:a.REPEAT},[E.None]:{s:a.CLAMP_TO_EDGE,t:a.CLAMP_TO_EDGE},[E.NotSet]:{s:a.CLAMP_TO_EDGE,t:a.CLAMP_TO_EDGE}},A={[r.U8]:1,[r.I8]:1,[r.U16]:2,[r.I16]:2,[r.U32]:4,[r.I32]:4,[r.F32]:4,[r.F64]:8,[r.Utf8String]:1,[r.NotSet]:1};export{T as alphaModeConversion,P as faceCullingConversion,A as lyr3DTypeToByteSize,l as primTypeConversion,_ as wrapModeConversion};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Graphic.js\";import{Tiles3DTarget as i}from\"../i3s/Intersector.js\";import{newIntersectorResult as t}from\"../../webgl-engine/lib/Intersector.js\";import{IntersectorType as r,StoreResults as s}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{MeshIntersectionOptions as n}from\"../../webgl-engine/lib/RayIntersections.js\";class l{constructor(e){this.layerUid=[],this.type=r.TILES3D,this.slicePlaneEnabled=!1,this.isGround=!0,this.layerView=e,this.layerUid.push(e.layer.uid)}intersect(e,r,l,o,a,c){const u=e.results,d=e.options.store===s.ALL;if(e.options.filteredLayerUids.includes(this.layerView.layer.uid))return;const h=this.layerView.view._stage.renderView.componentObjectCollection,y=new n(c??!1,e.options.normalRequired);this.layerView.objects.forEach((s=>{s.visible&&s.intersectionGeometry&&h.intersect(s,l,o,e.tolerance,null,y,((s,n,a,c)=>{if(n>=0){if(null!=r&&!r(l,o,n))return;const s=e=>{const t=new i(this.layerView.layer.uid,(()=>this._createTiles3DGraphic(this.layerView.layer,{})));e.set(this.type,t,n,a)};if(this.isGround&&(null==u.ground.dist||n<u.ground.dist)&&s(u.ground),e.options.isFiltered)return;if((null==u.min.dist||n<u.min.dist)&&s(u.min),(null==u.max.dist||n>u.max.dist)&&s(u.max),d){const i=t(e.ray);s(i),e.results.all.push(i)}}}))}))}_createTiles3DGraphic(i,t){return new e({layer:i,sourceLayer:i,attributes:t})}}export{l as Tiles3DIntersectionHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import has from\"../../../core/has.js\";import r from\"../../../core/Logger.js\";import{destroyMaybe as i}from\"../../../core/maybe.js\";import{watch as s,initial as o}from\"../../../core/reactiveUtils.js\";import{schedule as a}from\"../../../core/scheduling.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/RandomLCG.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{fromMat4 as c,invert as m}from\"../../../core/libs/gl-matrix-2/math/mat3.js\";import{IDENTITY as d,create as h}from\"../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{translate as u,getTranslation as p}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as f}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{fromValues as g}from\"../../../core/libs/gl-matrix-2/factories/quatf64.js\";import{g as b,q as y}from\"../../../chunks/vec32.js\";import{fromArray as w,create as _}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as v}from\"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{SphericalECEFSpatialReferenceLike as x}from\"../../../geometry/ellipsoidUtils.js\";import{computeTranslationToOriginAndRotation as j}from\"../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{localLinearScaleFactors as C}from\"../../../geometry/projection/localLinearScaleFactors.js\";import{projectVectorToVector as T}from\"../../../geometry/projection/projectVectorToVector.js\";import{BufferViewVec4f as M,BufferViewVec4u8 as P,BufferViewVec4u16 as O,BufferViewVec3f as U,BufferViewVec3u8 as E,BufferViewVec3u16 as V,BufferViewVec2f as I,BufferViewInt16 as A,BufferViewUint32 as H,BufferViewUint16 as S}from\"../../../geometry/support/buffer/BufferView.js\";import{invalidLayerView as R,wasmFailedToInit as F,Lyr3DLightingModel as L,Lyr3DUvWrapMode as D,Lyr3DImageFormat as k,Lyr3DPixelFormat as B,Lyr3DVtxAtrbSemantic as N,Lyr3DType as G}from\"../../../layers/ILyr3DWasmPerSceneView.js\";import{getElevationOffsetInMeters as z}from\"../../../support/elevationInfoUtils.js\";import{ViewingMode as W}from\"../../ViewingMode.js\";import{IntegratedMesh3DTilesViewPerformanceInfo as $}from\"./IntegratedMesh3DTilesViewPerformanceInfo.js\";import{DrapeTargetType as q}from\"./interfaces.js\";import{LayerView3D as J}from\"./LayerView3D.js\";import{addLayerViewToWasm as K,removeLayerViewFromWasm as Q,getLyr3DWasm as X}from\"./Lyr3DWasm.js\";import{LayerElevationProvider as Y}from\"./i3s/LayerElevationProvider.js\";import{primTypeConversion as Z,alphaModeConversion as ee,faceCullingConversion as te,wrapModeConversion as re,lyr3DTypeToByteSize as ie}from\"./support/lyr3dTypeConversions.js\";import{Tiles3DIntersectionHandler as se}from\"./support/Tiles3DIntersectionHandler.js\";import{ElevationRange as oe}from\"../support/ElevationRange.js\";import{Obb as ae,compute as ne}from\"../support/orientedBoundingBox.js\";import{ObjectParameters as le}from\"../webgl-engine/collections/Component/ObjectParameters.js\";import{GeometryParameters as ce,createVertexBufferLayout as me}from\"../webgl-engine/collections/Component/SourceGeometry.js\";import{Transform as de}from\"../webgl-engine/collections/Component/Transform.js\";import{ComponentParameterSummary as he}from\"../webgl-engine/collections/Component/Material/ComponentMaterial.js\";import{RenderTexture as ue}from\"../webgl-engine/core/material/RenderTexture.js\";import{TextureCoordinateType as pe}from\"../webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{alphaCutoff as fe}from\"../webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{getEllipsoidMode as ge}from\"../webgl-engine/core/shaderLibrary/util/EllipsoidMode.js\";import{Attribute as be}from\"../webgl-engine/lib/Attribute.js\";import{CullFaceOptions as ye,AlphaDiscardMode as we,TextureEncodingMimeType as _e}from\"../webgl-engine/lib/basicInterfaces.js\";import{compressAndTransformNormals as ve}from\"../webgl-engine/lib/Normals.js\";import{Texture as xe}from\"../webgl-engine/lib/Texture.js\";import{VertexAttribute as je}from\"../webgl-engine/lib/VertexAttribute.js\";import{writeDefaultAttribute as Ce}from\"../webgl-engine/materials/internal/bufferWriterUtils.js\";import Te from\"../../layers/LayerView.js\";import{isInEffectiveScaleRange as Me}from\"../../support/layerViewUtils.js\";var Pe;!function(e){e[e.API=1]=\"API\",e[e.VerboseAPI=2]=\"VerboseAPI\",e[e.Error=3]=\"Error\"}(Pe||(Pe={}));class Oe{constructor(){this.handle=0,this.isVisible=!1,this.components=[],this.texMemoryUsage=0,this.vboMemoryUsage=0,this.cpuMemoryUsage=0,this.textures=[]}totalMemory(){return this.texMemoryUsage+this.vboMemoryUsage+this.cpuMemoryUsage}}function Ue(e){return Math.round(e/1048.576)/1e3}let Ee=class extends(J(Te)){constructor(){super(...arguments),this.type=\"integrated-mesh-3dtiles\",this._visibleGeometryChangedSchedulerHandle=null,this._wasmLayerId=-1,this.ignoresMemoryFactor=!1,this.drapeTargetType=q.WithoutRasterImage,this._applySSAO=!has(\"disable-feature:im-ssao\"),this._shadeNormals=!!has(\"enable-feature:im-shading\"),this._lyrHandleToObjects=new Map,this._initialCullFace=new Map,this._suspendedHandle=null,this._dbgFlags=new Set}initialize(){if(this._dbgFlags.add(Pe.Error),this._dbg(Pe.VerboseAPI,\"Tiles3DLayerView3D initialize() called\"),!this._canProjectWithoutEngine())throw new t(\"layerview:spatial-reference-incompatible\",\"The spatial reference of this scene layer is incompatible with the spatial reference of the view\",{});const e=K(this).then((e=>{this._intersectionHandler=new se(this),this.view.sceneIntersectionHelper.addIntersectionHandler(this._intersectionHandler),this._updatingHandles.add((()=>this.slicePlaneEnabled),(e=>this._slicePlaneEnabledChange(e))),this._elevationProvider=new Y({view:this.view,layerElevationSource:this,intersectionHandler:this._intersectionHandler}),this.view.elevationProvider.register(\"im\",this._elevationProvider),this.view.basemapTerrain.overlayManager.registerDrapeTarget(this),this._wasmLayerId=e;const t=this.view.resourceController.memoryController.newCache(`t3d-${this.uid}`,(e=>this._onRemoveFromCache(e)));this._memCache=t,this.addHandles([s((()=>this.layer.elevationInfo),(e=>this._elevationInfoChanged(e)))]),this._suspendedHandle=s((()=>this.suspended),(e=>this._wasm?.setEnabled(this,!e)),o)})).catch((e=>{if(Q(this),this._wasmLayerId=-1,e===R)throw new t(\"tiles3d:addLayer-failure\",\"The 3d tiles layer description was invalid.\",{});if(e===F)throw new t(\"tiles3d:addLayer-failure\",\"The 3d tiles layer web assembly module failed to download.\",{})}));this.addResolvingPromise(e)}destroy(){this._dbg(Pe.VerboseAPI,\"Tiles3DLayerView3D destroy() called\"),Q(this),this._suspendedHandle&&(this._suspendedHandle.remove(),this._suspendedHandle=null),this._intersectionHandler&&(this.view.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler),this._intersectionHandler=null),this._elevationProvider&&(this._elevationProvider.objectsChanged(this._obbs),this.view.elevationProvider.unregister(this._elevationProvider),this._elevationProvider=null),this.view.basemapTerrain.overlayManager.unregisterDrapeTarget(this),this._lyrHandleToObjects.forEach((e=>this.freeObject(e))),this._lyrHandleToObjects.clear(),this._initialCullFace.clear(),this._memCache=i(this._memCache),this._updatingHandles=i(this._updatingHandles),this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle.remove(),this._visibleGeometryChangedSchedulerHandle=null)}_visibleGeometryChanged(){this._visibleGeometryChangedSchedulerHandle??=a((()=>{this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle=null}))}_slicePlaneEnabledChange(e){this._intersectionHandler&&(this._intersectionHandler.slicePlaneEnabled=e),this.objects.forEach((t=>{const r=this._collection.getMaterial(t);r.commonMaterialParameters.hasSlicePlane=e,r.commonMaterialParameters.cullFace=e?ye.None:this._initialCullFace.get(t)}))}_elevationInfoChanged(e){this._wasm?.setLayerOffset(this,z(e))}get _obbs(){return this.objects.map((e=>this._collection.getComponentObb(e)))}get _wasm(){return X(this.view)}get wasmLayerId(){return this._wasmLayerId}get usedMemory(){let e=0;return this._lyrHandleToObjects.forEach((t=>{t.isVisible&&(e+=t.totalMemory())})),e}get unloadedMemory(){return 0}get cachedMemory(){let e=0;return this._lyrHandleToObjects.forEach((t=>{t.isVisible||(e+=t.totalMemory())})),e}get visibleAtCurrentScale(){return Me(this.layer.effectiveScaleRange,this.view.scale)}get performanceInfo(){let e=0,t=0,r=0,i=0,s=0,o=0;return this._lyrHandleToObjects.forEach((a=>{a.isVisible?(e+=a.texMemoryUsage,t+=a.vboMemoryUsage,s++):(r+=a.texMemoryUsage,i+=a.vboMemoryUsage,o++)})),new $(this.usedMemory,s,o,Ue(t),Ue(e),Ue(i),Ue(r))}_canProjectWithoutEngine(){if(this.view.state.viewingMode===W.Local){const e=this.view.renderSpatialReference?.isWebMercator?3857:this.view.renderSpatialReference?.wkid??-1;if(3857!==e&&32662!==e)return!1}return!0}get _stage(){return this.view._stage}get _collection(){return this._stage.renderView.componentObjectCollection}get elevationOffset(){return z(this.layer.elevationInfo)}get elevationRange(){const e=this.fullExtent;return e?.zmin&&e?.zmax?new oe(e.zmin,e.zmax):null}getElevationRange(e){return null}get fullExtent(){return this.layer.fullExtent}get objects(){return Array.from(this._lyrHandleToObjects.values()).reduce(((e,t)=>e.concat(t.components)),new Array)}isUpdating(){const e=this._wasm;return!(this._wasmLayerId<0||null==e)&&e.isUpdating(this._wasmLayerId)}updatingFlagChanged(){this.notifyChange(\"updating\")}async createRenderable(e){const t=e.meshData;if(null==t.data)throw new Error(\"meshData.data undefined\");if(t.desc=JSON.parse(t.desc),null==t.desc)throw new Error(\"meshData.desc undefined\");const r=w(t.desc.origin),i=new Array,s=new Map,o=new Oe;o.handle=e.handle,this._lyrHandleToObjects.set(e.handle,o);const a=this.view.basemapTerrain.spatialReference;let n,l;if(\"global\"===this.view.viewingMode){const e=f();j(x,r,e,a),n=c(h(),e),l=m(h(),n)}else n=d,l=d;const M=f();u(M,M,r);const P=p(_(),M);let O=null;const U=_();if(t.desc.obb){const e=t.desc.obb.quaternion;O=new ae(t.desc.obb.center,t.desc.obb.halfSize,g(e[0],e[1],e[2],e[3]))}for(let c=0;c<t.desc.prims.length;c++){const e=t.desc.prims[c];this._dbg(Pe.VerboseAPI,JSON.stringify(e));if(null==Z[e.ptype]||null==t.data){this._dbg(Pe.VerboseAPI,\"[Unsupported Feature] Unsupported primitive mode (\"+e.ptype+\"). Skipping primitive.\");continue}const m=t.desc?.materials&&null!=e.materialId?t.desc.materials[e.materialId]:null,h=null!=m?m.lightingModel:L.Unlit,{positionView:u,positionAttr:p,normalsView:f,normalsAttr:g,colorAttr:w,texCoord0Attr:x,indicesView:j}=this.getBufferViews(e,t.data.buffer,n);if(null==p||null==u||null==j)continue;const M=new ce(null!=w,null!=x?pe.Default:pe.None,null!=f,this._shadeNormals,this._applySSAO),E=p.data.length/p.size,V=(e,t)=>!e||e.data.length/e.size===E||(this._dbg(Pe.Error,`${t} !== numPos. Skipping primitive.`),!1);if(!V(x,\"numTexcoord\")||!V(w,\"numColors\")||!V(g,\"normals\"))continue;const I=me(M);if(null!=O?O=O.clone():(O=ne(p),b(U,O.center,r),O.center=U),n!==d)for(let t=0;t<u.count;t++)u.getVec(t,U),y(U,U,n),u.setVec(t,U);const A=I.createBuffer(p.data.length),H=new Map([[je.POSITION,p]]);null!=x&&H.set(je.UV0,x),null!=w&&H.set(je.COLOR,w),null!=g&&H.set(je.NORMALCOMPRESSED,g),H.forEach(((e,t)=>{null!=e&&Ce(t,e,null,null,A,0)}));const S=new Uint32Array([0,j.typedBuffer.length]),R={vertices:{data:A.buffer,count:A.byteLength/I.stride,layoutParameters:M},positionData:{positions:u.typedBuffer,indices:j.typedBuffer},indices:j.typedBuffer,componentOffsets:S};o.cpuMemoryUsage+=u.count,o.cpuMemoryUsage+=j.count;const F=this.view.renderSpatialReference,D=_(),k=[1,1,1];C(P,F,k,a)||this._dbg(Pe.Error,\"Unsupported coordinate system for IM overlay\"),T(P,F,D,a);const B=this._collection.createObject(new le(v(D[0],D[1],k[0],k[1]),new de(P,l),O,R));m&&this._collection.updateMaterial(B,(e=>{e.baseColor=m.baseColorFactor,e.usePBR=h===L.Pbr,e.hasParametersFromSource=!1,e.baseColorTexture=this._getTexture(m.baseColorTex,t,s),e.usePBR&&(e.mrrFactors=[m.metallicFactor,m.roughnessFactor,0],e.emissiveFactor=m.emissiveFactor??[0,0,0],e.metallicRoughnessTexture=this._getTexture(m.metalTex,t,s),e.emissionTexture=this._getTexture(m.emissiveTex,t,s),e.occlusionTexture=this._getTexture(m.occlusionTex,t,s),e.normalTexture=this._getTexture(m.normalTex,t,s)),e.objectOpacity=0,e.alphaDiscardMode=we.Mask;const r=[];e.baseColorTexture&&r.push(e.baseColorTexture.loadPromise),e.usePBR&&e.metallicRoughnessTexture&&r.push(e.metallicRoughnessTexture.loadPromise),e.usePBR&&e.emissionTexture&&r.push(e.emissionTexture.loadPromise),e.usePBR&&e.occlusionTexture&&r.push(e.occlusionTexture.loadPromise),e.usePBR&&e.normalTexture&&r.push(e.normalTexture.loadPromise);const a=Promise.all(r);i.push(a),a.then((()=>{e.alphaDiscardMode=ee[m.alphaMode],e.objectOpacity=1,o.texMemoryUsage+=e.baseColorTexture?.glTexture?.usedMemory||0,e.usePBR&&(o.texMemoryUsage+=e.metallicRoughnessTexture?.glTexture?.usedMemory||0,o.texMemoryUsage+=e.emissionTexture?.glTexture?.usedMemory||0,o.texMemoryUsage+=e.occlusionTexture?.glTexture?.usedMemory||0,o.texMemoryUsage+=e.normalTexture?.glTexture?.usedMemory||0)})),e.commonMaterialParameters.doubleSided=m.isDoubleSided,e.commonMaterialParameters.cullFace=m.faceCulling?te[m.faceCulling]:ye.Back,this._initialCullFace.set(B,e.commonMaterialParameters.cullFace),e.commonMaterialParameters.hasSlicePlane=this.slicePlaneEnabled,e.componentParameters.castShadows=he.All,e.textureAlphaCutoff=m.alphaCutoff??fe,e.alphaDiscardMode=ee[m.alphaMode],e.isIntegratedMesh=!0,e.polygonOffsetEnabled=!1,e.hasOccludees=!1,e.ellipsoidMode=ge(this.view.spatialReference)})),o.components.push(B),o.vboMemoryUsage+=this._collection.getObjectGPUMemoryUsage(B)}if(await Promise.all(i),s.forEach((e=>{o.textures.push(e)})),!this._memCache)throw new Error(\"no memCache\");return this._memCache.put(`${o.handle}`,o,o.totalMemory()),{memUsageBytes:o.totalMemory()}}freeRenderable(e){const t=this._lyrHandleToObjects.get(e);t&&(this.freeObject(t),this._lyrHandleToObjects.delete(e))}freeObject(e){this._memCache&&this._memCache.pop(`${e.handle}`),e.components.forEach((t=>{e.textures.forEach((e=>{this._stage.remove(e)})),this._collection.destroyObject(t),this._initialCullFace.delete(t)}))}setRenderableVisibility(e,t,r){if(this._memCache){for(let i=0;i<r;++i){const r=e[i],s=t[i];if(!s)continue;const o=this._lyrHandleToObjects.get(r);o&&(this._visibleGeometryChanged(),o.isVisible=s,o.components.forEach((e=>{this._collection.setObjectVisibility(e,s),this._elevationProvider.objectChanged(this._collection.getComponentObb(e))})),this._memCache.pop(`${r}`))}for(let i=0;i<r;++i){const r=e[i],s=t[i];if(s)continue;const o=this._lyrHandleToObjects.get(r);o&&(this._visibleGeometryChanged(),o.isVisible=s,o.components.forEach((e=>{this._collection.setObjectVisibility(e,s),this._elevationProvider.objectChanged(this._collection.getComponentObb(e))})),this._memCache.put(`${r}`,o,o.totalMemory()))}}}_getTexture(e,t,r){let i=null;if(e&&t.desc?.images&&t.data?.buffer){const s=t.desc.images[e?.imageId];if(i=r.get(s),!i&&s){const o=this._stage.renderView.renderingContext.parameters.maxMaxAnisotropy,a=!!s.mipCount||o>1,n=re[e.wrapMode??D.None];let l=s.alpha?4:3;const c=new Uint8Array(t.data.buffer,s.data.byteOffset,s.data.byteCount);let m=null,d=null,h=null;switch(s.format){case k.Raw:s.pixelFormat===B.R8?(m=c,l=1,d=\"\"):s.pixelFormat===B.Rgb8?(m=c,l=3,d=\"\"):s.pixelFormat===B.Rgba8&&(m=c,l=4,d=\"\");break;case k.Dxt1:m=c,l=3,d=_e.DDS_ENCODING;break;case k.Dxt5:m=c,l=4,d=_e.DDS_ENCODING;break;case k.Png:d=\"image/png\",h=document.createElement(\"img\");break;case k.Jpeg:d=\"image/jpeg\",h=document.createElement(\"img\");break;case k.Etc2:d=\"image/ktx\",h=document.createElement(\"img\");break;case k.Astc:this._dbg(Pe.Error,\"Astc texture not supported\");break;case k.Pvrtc:this._dbg(Pe.Error,\"Pvrtc texture not supported\")}if(h&&d){const e=new Blob([c],{type:d});h.src=URL.createObjectURL(e),m=h}m&&null!=d&&(i=new xe(m,{mipmap:a,maxAnisotropy:o,encoding:d,wrap:n,components:l,noUnpackFlip:!0,width:s.mip0Width,height:s.mip0Height}),this._stage.add(i),r.set(s,i))}}return i?new ue(this.view._stage.renderView.textures,i.id):null}getBufferViews(e,t,r){let i,s,o,a,n,l,c,m=null;for(let h=0;h<e.atrbs.length;h++){const c=e.atrbs[h],u=c.view,p=void 0,f=u.byteOffset+u.byteCount,g=u.byteCount/ie[u.type],b=[...Array(g).keys()].map((e=>e));try{switch(c.sem){case N.Position:3!==u.ncomp||u.type!==G.F32?this._dbg(Pe.Error,\"[Unsupported Feature] Unsupported view for Position (\"+u+\")\"):(i=new U(t,u.byteOffset,p,f),s=new be(i.typedBuffer,b,3));break;case N.Normal:if(3!==u.ncomp||u.type!==G.F32)this._dbg(Pe.Error,\"[Unsupported Feature] Unsupported view for Normal (\"+u+\")\");else{const e=new U(t,u.byteOffset,p,f),i=ve(e.typedBuffer,r);n=new A(i),l=new be(n.typedBuffer,b,2)}break;case N.TexCoord:2!==u.ncomp||u.type!==G.F32?this._dbg(Pe.Error,\"[Unsupported Feature] Unsupported view for Texcoord (\"+u+\")\"):void 0===a&&(a=new be(new I(t,u.byteOffset,p,f).typedBuffer,b,2));break;case N.Color:4===u.ncomp?(u.type===G.F32&&(m=new M(t,u.byteOffset,p,f)),u.type===G.U8&&(m=new P(t,u.byteOffset,p,f)),u.type===G.U16&&(m=new O(t,u.byteOffset,p,f))):3===u.ncomp&&(u.type===G.F32&&(m=new U(t,u.byteOffset,p,f)),u.type===G.U8&&(m=new E(t,u.byteOffset,p,f)),u.type===G.U16&&(m=new V(t,u.byteOffset,p,f))),null==m?this._dbg(Pe.VerboseAPI,\"[Unsupported Feature] Unsupported view for Color (\"+u+\")\"):o=new be(m.typedBuffer,b,u.ncomp);break;case N.FeatureIndex:break;default:this._dbg(Pe.VerboseAPI,\"[Unsupported Feature] Unsupported semantic (\"+c.sem+\"). Skipping vertex attribute.\")}}catch(d){this._dbg(Pe.VerboseAPI,\"Error Creating buffer (\"+d+\"). Skipping vertex attribute.\")}}if(e.index){const r=e.index.view,i=void 0,s=r.byteOffset+r.byteCount;switch(e.index.view.type){case G.U16:c=new S(t,r.byteOffset,i,s);break;case G.U32:c=new H(t,r.byteOffset,i,s);break;case G.U8:default:this._dbg(Pe.Error,\"[Unsupported Feature] index type not supported (\"+r.type+\").\")}}if(null==c&&null!=i){const e=i.count;if(e<65535){const t=new Uint16Array(e);c=new S(t)}else{const t=new Uint32Array(e);c=new H(t)}for(let t=0;t<e;t++)c.set(t,t)}return{positionView:i,positionAttr:s,colorAttr:o,texCoord0Attr:a,indicesView:c,normalsView:n,normalsAttr:l}}_onRemoveFromCache(e){this._wasm?.onRenderableEvicted(this,e.handle,e.totalMemory()),this.freeRenderable(e.handle)}_dbg(e,t){this._dbgFlags.has(e)&&(e===Pe.Error?r.getLogger(this).error(t):r.getLogger(this).warn(t))}};e([n()],Ee.prototype,\"_visibleGeometryChangedSchedulerHandle\",void 0),e([n()],Ee.prototype,\"layer\",void 0),e([n({readOnly:!0})],Ee.prototype,\"visibleAtCurrentScale\",null),e([n()],Ee.prototype,\"elevationOffset\",null),Ee=e([l(\"esri.views.3d.layers.IntegratedMesh3DTilesLayerView3D\")],Ee);const Ve=Ee;export{Ve as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import o from\"../../../../core/Logger.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromQuat as s}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{i as l,t as c}from\"../../../../chunks/vec32.js\";import{create as p}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectBoundingSphere as m}from\"../../../../geometry/projection/projectBoundingSphere.js\";import{empty as u,expand as h}from\"../../../../geometry/support/aaBoundingRect.js\";import{f as d}from\"../../../../chunks/sphere.js\";import{ElevationRange as f}from\"../../support/ElevationRange.js\";import{ElevationUpdateEvent as v}from\"../../support/ElevationUpdateEvent.js\";import{newIntersector as g}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as E}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";let x=class extends(r.EventedMixin(t)){constructor(e){super(e),this._tmpEvent=new v,this._renderCoordsHelper=e.view.renderCoordsHelper,this._renderSR=this._renderCoordsHelper.spatialReference,this._layerElevationSource=e.layerElevationSource}initialize(){this._intersector=g(this.view.state.viewingMode),this._intersector.options.store=E.MIN,this._intersector.options.normalRequired=!1,this._tmpEvent.context=this.intersectionHandler.isGround?\"ground\":\"scene\"}get spatialReference(){return this.view?.elevationProvider?.spatialReference}getElevation(e,t,r,n){const i=this._renderCoordsHelper,s=l(R,e,t,r);if(!i.toRenderCoords(s,n,s))return o.getLogger(this).error(\"could not project point to compute elevation\"),null;const{layerElevationSource:a,_intersector:c,intersectionHandler:p}=this,m=a.fullExtent,u=null!=m&&Number.isFinite(m.xmin)&&Number.isFinite(m.xmax)&&Number.isFinite(m.ymin)&&Number.isFinite(m.ymax)&&Number.isFinite(m.zmin)&&Number.isFinite(m.zmax)?new f(m.zmin,m.zmax):a.elevationRange;if(null==u)return null;const h=a.elevationOffset,d=u.elevationRangeMin+h,v=u.elevationRangeMax+h,g=i.setAltitude(y,v,s),E=i.setAltitude(b,d,s);return c.reset(g,E,null),p.intersect(c,null,g,E,null,!0),c.results.min.getIntersectionPoint(s)?i.getAltitude(s):null}getSphereElevationBounds(e,t){return m(e,t,j,this._renderSR),this._layerElevationSource.getElevationRange(j)}getRootElevationBounds(){const e=this.layerElevationSource.fullExtent;return e?.hasZ?new f(e.zmin,e.zmax):null}objectsChanged(e){this.spatialReference&&(this._computeLayerExtent(e,this._tmpEvent.extent),this._tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this._tmpEvent))}objectChanged(e){this.spatialReference&&(this._computeObjectExtent(e,this._tmpEvent.extent),this._tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this._tmpEvent))}_computeObjectExtent(e,t){u(t),this._expandExtent(e,t)}_computeLayerExtent(e,t){u(t);for(const r of e)this._expandExtent(r,t)}_expandExtent(e,t){const r=this.spatialReference;if(null==r)return;if(null==e)return;s(_,e.quaternion),_[12]=e.center[0],_[13]=e.center[1],_[14]=e.center[2];const o=e.halfSize;for(let n=0;n<8;++n)R[0]=1&n?o[0]:-o[0],R[1]=2&n?o[1]:-o[1],R[2]=4&n?o[2]:-o[2],c(R,R,_),this._renderCoordsHelper.fromRenderCoords(R,R,r),h(t,R,t)}};e([n({constructOnly:!0})],x.prototype,\"layerElevationSource\",void 0),e([n({constructOnly:!0})],x.prototype,\"intersectionHandler\",void 0),e([n({constructOnly:!0})],x.prototype,\"view\",void 0),e([n()],x.prototype,\"spatialReference\",null),x=e([i(\"esri.views.3d.layers.i3s.LayerElevationProvider\")],x);const _=a(),j=d(0,0,0,0),R=p(),y=p(),b=p();export{x as LayerElevationProvider};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nclass t{constructor(t,s,o,r){this.toMapSpace=t,this.transform=s,this.obb=o,this.geometry=r}}export{t as ObjectParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nclass i{constructor(i,o){this.position=i,this.rotationScale=o,this.origin=void 0}}export{i as Transform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as e}from\"../../../../../core/maybe.js\";import{isPromiseLike as t}from\"../../../../../core/promiseUtils.js\";class s{constructor(s,r){this._textures=s,this.loadPromise=null,this._disposed=!1;const i=this._textures.acquire(r);t(i)?(i.then((t=>{this._disposed?e(t):this._textureRef=t})),this.loadPromise=i):this._textureRef=i}dispose(){this._textureRef=e(this._textureRef),this._disposed=!0}get glTexture(){return null!=this._textureRef?this._textureRef.glTexture:null}}export{s as RenderTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i(l(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n"],"names":["f","p","E","c","l","t","s","C","o","i","UNKNOWN","u","SPHERICAL_ECEF","r","Math","sqrt","e","radius","WEB_MERCATOR","WGS84","CGCS2000","n","PLATE_CARREE","cos","a","projector","source","m","dest","R","spatialReferenceId","_m$metersPerUnit","_R$metersPerUnit","metersPerUnit","Number","MAX_VALUE","abs","asin","PI","N","S","g","U8","I8","U16","I16","U32","I32","F32","F64","Utf8String","NotSet","Png","Jpeg","Dds","Raw","Dxt1","Dxt5","Etc2","Astc","Pvrtc","Rgb8","Rgba8","R8","Bgr8","Bgra8","Rg8","Position","Normal","TexCoord","Color","Tangent","FeatureIndex","UvRegion","Opaque","Mask","Blend","None","Alpha","PreMultAlpha","Points","Lines","LineStrip","Triangles","TriangleStrip","WrapXBit","WrapYBit","WrapXy","Linear","Nearest","NearestMipmapNearest","LinearMipmapNearest","NearestMipmapLinear","LinearMipmapLinear","FeatureId","GlobalUid","UnspecifiedDateTime","EcmaIso8601DateTime","EcmaIso8601DateOnly","TimeOnly","TimeStamp","ColorRgb","ColorRgba","Unrecognized","Texture","VertexAtrb","Implicit","Front","Back","Pbr","Unlit","Succeeded","Failed","MissingInputs","d","constructor","h","super","this","nodesCached","vboMB","textureMB","vboMBCached","textureMBCached","TRIANGLES","TRIANGLE_STRIP","T","P","_","CLAMP_TO_EDGE","REPEAT","A","layerUid","type","TILES3D","slicePlaneEnabled","isGround","layerView","push","layer","uid","intersect","results","options","store","ALL","filteredLayerUids","includes","view","_stage","renderView","componentObjectCollection","y","normalRequired","objects","forEach","visible","intersectionGeometry","tolerance","_createTiles3DGraphic","set","ground","dist","isFiltered","min","max","ray","all","sourceLayer","attributes","Pe","API","VerboseAPI","Error","Oe","handle","isVisible","components","texMemoryUsage","vboMemoryUsage","cpuMemoryUsage","textures","totalMemory","Ue","round","Ee","J","Te","arguments","_visibleGeometryChangedSchedulerHandle","_wasmLayerId","ignoresMemoryFactor","drapeTargetType","q","WithoutRasterImage","_applySSAO","has","_shadeNormals","_lyrHandleToObjects","Map","_initialCullFace","_suspendedHandle","_dbgFlags","Set","initialize","add","_dbg","_canProjectWithoutEngine","K","then","_intersectionHandler","se","sceneIntersectionHelper","addIntersectionHandler","_updatingHandles","_slicePlaneEnabledChange","_elevationProvider","Y","layerElevationSource","intersectionHandler","elevationProvider","register","basemapTerrain","overlayManager","registerDrapeTarget","resourceController","memoryController","newCache","concat","_onRemoveFromCache","_memCache","addHandles","elevationInfo","_elevationInfoChanged","suspended","_this$_wasm","_wasm","setEnabled","catch","Q","F","addResolvingPromise","destroy","remove","removeIntersectionHandler","objectsChanged","_obbs","unregister","unregisterDrapeTarget","freeObject","clear","emit","_visibleGeometryChanged","_this$_visibleGeometr","_collection","getMaterial","commonMaterialParameters","hasSlicePlane","cullFace","ye","get","_this$_wasm2","setLayerOffset","z","map","getComponentObb","X","wasmLayerId","usedMemory","unloadedMemory","cachedMemory","visibleAtCurrentScale","Me","effectiveScaleRange","scale","performanceInfo","$","state","viewingMode","W","Local","_this$view$renderSpat","_this$view$renderSpat2","_this$view$renderSpat3","renderSpatialReference","isWebMercator","wkid","elevationOffset","elevationRange","fullExtent","zmin","zmax","oe","getElevationRange","Array","from","values","reduce","isUpdating","updatingFlagChanged","notifyChange","createRenderable","meshData","data","desc","JSON","parse","w","origin","spatialReference","j","x","M","O","U","obb","quaternion","ae","center","halfSize","prims","length","_t$desc","stringify","Z","ptype","materials","materialId","lightingModel","L","positionView","positionAttr","normalsView","normalsAttr","colorAttr","texCoord0Attr","indicesView","getBufferViews","buffer","ce","pe","Default","size","V","I","me","clone","ne","b","count","getVec","setVec","createBuffer","H","je","POSITION","UV0","COLOR","NORMALCOMPRESSED","Ce","Uint32Array","typedBuffer","vertices","byteLength","stride","layoutParameters","positionData","positions","indices","componentOffsets","D","k","B","createObject","le","v","de","updateMaterial","_m$emissiveFactor","_m$alphaCutoff","baseColor","baseColorFactor","usePBR","hasParametersFromSource","baseColorTexture","_getTexture","baseColorTex","mrrFactors","metallicFactor","roughnessFactor","emissiveFactor","metallicRoughnessTexture","metalTex","emissionTexture","emissiveTex","occlusionTexture","occlusionTex","normalTexture","normalTex","objectOpacity","alphaDiscardMode","we","loadPromise","Promise","_e$baseColorTexture","_e$metallicRoughnessT","_e$emissionTexture","_e$occlusionTexture","_e$normalTexture","ee","alphaMode","glTexture","doubleSided","isDoubleSided","faceCulling","te","componentParameters","castShadows","he","All","textureAlphaCutoff","alphaCutoff","fe","isIntegratedMesh","polygonOffsetEnabled","hasOccludees","ellipsoidMode","ge","getObjectGPUMemoryUsage","put","memUsageBytes","freeRenderable","delete","pop","destroyObject","setRenderableVisibility","setObjectVisibility","objectChanged","_t$desc2","_t$data","images","imageId","_e$wrapMode","renderingContext","parameters","maxMaxAnisotropy","mipCount","re","wrapMode","alpha","Uint8Array","byteOffset","byteCount","format","pixelFormat","_e","DDS_ENCODING","document","createElement","Blob","src","URL","createObjectURL","xe","mipmap","maxAnisotropy","encoding","wrap","noUnpackFlip","width","mip0Width","height","mip0Height","ue","id","atrbs","ie","keys","sem","ncomp","G","be","ve","index","Uint16Array","_this$_wasm3","onRenderableEvicted","getLogger","error","warn","prototype","readOnly","Ve","supportsHeightUnitConversion","postscript","_validateHeightModelInfo","AbortController","signal","abort","_this$view$defaultsFr","defaultsFromMap","heightModelInfoReady","heightModelInfo","EventedMixin","_tmpEvent","_renderCoordsHelper","renderCoordsHelper","_renderSR","_layerElevationSource","_intersector","MIN","context","_this$view","getElevation","toRenderCoords","isFinite","xmin","xmax","ymin","ymax","elevationRangeMin","elevationRangeMax","setAltitude","reset","getIntersectionPoint","getAltitude","getSphereElevationBounds","getRootElevationBounds","hasZ","_computeLayerExtent","extent","_computeObjectExtent","_expandExtent","fromRenderCoords","constructOnly","toMapSpace","transform","geometry","position","rotationScale","_textures","_disposed","acquire","_textureRef","dispose","parent","when","name","_this$layer","title","fullOpacity","_this$layer$opacity","_this$layer2","_this$parent$fullOpac","_this$parent","opacity","destroyed","canResume","suspendInfo","getSuspendInfo","legendEnabled","_this$layer3","updating","_this$_updatingHandle","updatingProgress","updateSuspended","_this$layer4","_overrideIfSome","visibleAtCurrentTimeExtent","_this$layer5","timeExtent","visibilityTimeExtent","intersection","isEmpty","_this$layer6","_this$parent2","loaded","ready","_this$parent3","_t$view","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","Boolean"],"sourceRoot":""}