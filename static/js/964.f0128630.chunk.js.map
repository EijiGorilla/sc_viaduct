{"version":3,"file":"static/js/964.f0128630.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/save/imageryUtils.js","../node_modules/@arcgis/core/layers/save/utils.js","../node_modules/@arcgis/core/portal/support/jsonContext.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as t}from\"./utils.js\";import{getWGS84ExtentForItem as r,addTypeKeyword as a,TypeKeyword as i}from\"../../portal/support/portalItemUtils.js\";const s=\"Image Service\",l=\"imagery-layer-save\",y=\"imagery-layer-save-as\",n=\"imagery-tile-layer-save\",o=\"imagery-tile-layer-save-as\";function m(e){if(\"imagery\"===e.type)return{isValid:!0};const{raster:t}=e,r=\"Function\"===t?.datasetFormat?t.primaryRasters?.rasters[0]:t;return{isValid:\"RasterTileServer\"===r?.datasetFormat&&(\"Raster\"===r.tileType||\"Map\"===r.tileType),errorMessage:\"imagery tile layer should be created from a tiled image service.\"}}function c(e){const t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}async function p(e,t){const{parsedUrl:s,title:l,fullExtent:y}=e;t.url=s.path,t.title||=l,t.extent=await r(y),\"imagery-tile\"===e.type&&a(t,i.TILED_IMAGERY)}async function u(t,r){const a=\"imagery\"===t.type?l:n;return e({layer:t,itemType:s,validateLayer:m,createItemData:c,errorNamePrefix:a},r)}async function g(e,r,a){const i=\"imagery\"===e.type?y:o;return t({layer:e,itemType:s,validateLayer:m,createItemData:c,errorNamePrefix:i,newItem:r,setItemProperties:p},a)}export{u as save,g as saveAs};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{updateOrigins as t}from\"../../core/accessorSupport/originUtils.js\";import r from\"../../portal/Portal.js\";import o from\"../../portal/PortalItem.js\";import{createForItemWrite as a}from\"../../portal/support/jsonContext.js\";import{addTypeKeyword as i,TypeKeyword as n}from\"../../portal/support/portalItemUtils.js\";import{validateSaveAPIKey as s}from\"../../webdoc/saveAPIKeyUtils.js\";function l(t,r,o){const a=o(t);if(!a.isValid)throw new e(`${r}:invalid-parameters`,a.errorMessage,{layer:t})}async function p(e){const{layer:t,errorNamePrefix:r,validateLayer:o}=e;await t.load(),l(t,r,o)}function m(e,t){return`Layer (title: ${e.title}, id: ${e.id}) of type '${e.declaredClass}' ${t}`}function c(t){const{item:r,itemType:o,errorNamePrefix:a,layer:i,validateItem:n}=t;if(s(r),r.type!==o)throw new e(`${a}:portal-item-wrong-type`,`Portal item type should be \"${o}\"`,{item:r,layer:i});if(n){const t=n(r);if(!t.isValid)throw new e(`${a}:invalid-parameters`,t.errorMessage,{layer:i})}}function d(t){const{layer:r,errorNamePrefix:o}=t,{portalItem:a}=r;if(!a)throw new e(`${o}:portal-item-not-set`,m(r,\"requires the portalItem property to be set\"));if(!a.loaded)throw new e(`${o}:portal-item-not-loaded`,m(r,\"cannot be saved to a portal item that does not exist or is inaccessible\"));c({...t,item:a})}function u(e){const{newItem:t,itemType:a}=e;let i=o.from(t);return i.id&&(i=i.clone(),i.id=null),i.type??=a,i.portal??=r.getDefault(),c({...e,item:i}),i}function f(t,r){let o=(t.messages??[]).filter((({type:e})=>\"error\"===e)).map((({name:t,message:r,details:o})=>new e(t,r,o)));if(t.blockedRelativeUrls&&(o=o.concat(t.blockedRelativeUrls.map((t=>new e(\"url:unsupported\",`Relative url '${t}' is not supported`))))),r?.ignoreUnsupported&&(o=o.filter((({name:e})=>\"layer:unsupported\"!==e&&\"symbol:unsupported\"!==e&&\"symbol-layer:unsupported\"!==e&&\"property:unsupported\"!==e&&\"url:unsupported\"!==e))),o.length>0)throw new e(\"layer-write:unsupported\",\"Failed to save layer due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:o})}async function y(e,t,r){\"beforeSave\"in e&&\"function\"==typeof e.beforeSave&&await e.beforeSave();const o=e.write({},t);return await Promise.all(t.resources?.pendingOperations??[]),f(t,r),o}function w(e){i(e,n.JSAPI),e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)))}async function v(e,t,r){const o=e.portal;await o.signIn(),await(o.user?.addItem({item:e,data:t,folder:r?.folder}))}async function I(e,r){const{layer:o,createItemData:i,createJSONContext:n,saveResources:s}=e;await p(e),d(e);const l=o.portalItem,m=n?n(l):a(l),c=await y(o,m,r),u=await i({layer:o,layerJSON:c},l);return w(l),await l.update({data:u}),t(m),await(s?.(l,m)),l}async function b(e,r){const{layer:o,createItemData:i,createJSONContext:n,setItemProperties:s,saveResources:l}=e;await p(e);const m=u(e),c=n?n(m):a(m),d=await y(o,c,r),f=await i({layer:o,layerJSON:d},m);return await s(o,m),w(m),await v(m,f,r),o.portalItem=m,t(c),await(l?.(m,c)),m}export{v as addItem,m as createErrorMessage,d as ensureItemConfig,l as ensureLayerConfig,y as getLayerJSON,u as getPortalItem,I as save,b as saveAs,w as setCommonItemProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{urlToObject as t}from\"../../core/urlUtils.js\";import r from\"../Portal.js\";function e(e){return{origin:\"portal-item\",url:t(e.itemUrl),portal:e.portal||r.getDefault(),portalItem:e,readResourcePaths:[]}}function o(e){const o=t(e.itemUrl);return{origin:\"portal-item\",messages:[],writtenProperties:[],url:o,portal:e.portal||r.getDefault(),portalItem:e,verifyItemRelativeUrls:o?{rootPath:o.path,writtenUrls:[]}:null,blockedRelativeUrls:[]}}function l(e){return{origin:\"web-map\",url:t(e.itemUrl),portal:e.portal||r.getDefault(),portalItem:e,readResourcePaths:[]}}function a(e,o){const l=t(e.itemUrl);return{origin:\"web-map\",messages:[],writtenProperties:[],url:l,portal:e.portal||r.getDefault(),portalItem:e,initiator:o,verifyItemRelativeUrls:l?{rootPath:l.path,writtenUrls:[]}:null,blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}}}export{l as createForGroupLayerItemRead,a as createForGroupLayerItemWrite,e as createForItemRead,o as createForItemWrite};\n"],"names":["s","l","y","n","o","m","e","_t$primaryRasters","type","isValid","raster","t","r","datasetFormat","primaryRasters","rasters","tileType","errorMessage","c","layerJSON","Promise","resolve","Object","keys","length","async","p","parsedUrl","title","fullExtent","url","path","extent","a","i","TILED_IMAGERY","u","layer","itemType","validateLayer","createItemData","errorNamePrefix","g","newItem","setItemProperties","load","concat","id","declaredClass","item","validateItem","d","portalItem","loaded","_i","_i$type","_i2","_i2$portal","from","clone","portal","getDefault","_t$resources$pendingO","_t$resources","beforeSave","write","all","resources","pendingOperations","_t$messages","messages","filter","_ref","map","_ref2","name","message","details","blockedRelativeUrls","ignoreUnsupported","_ref3","errors","f","w","JSAPI","typeKeywords","indexOf","I","createJSONContext","saveResources","update","data","b","_o$user","signIn","user","addItem","folder","v","origin","itemUrl","readResourcePaths","writtenProperties","verifyItemRelativeUrls","rootPath","writtenUrls","initiator","toAdd","toUpdate","toKeep"],"sourceRoot":""}