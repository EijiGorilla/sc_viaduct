{"version":3,"file":"static/js/2745.5d363ebc.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Feature3DPipelineWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Feature3DPipeline.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{EsriPromise as t}from\"../../../../../core/Promise.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{WorkerHandle as n}from\"../../../../../core/workers/WorkerHandle.js\";import i from\"../../../../../geometry/Extent.js\";import s from\"../../../../../rest/support/FeatureSet.js\";let a=class extends t{constructor(e){super(e),this.schedule=null,this._workerUpdating=!0}get updating(){return this._workerUpdating}initialize(){this._workerHandle=new d(this.schedule,this);const{layer:e,viewSpatialReference:t,renderSpatialReference:r}=this;this.addResolvingPromise((async()=>await this._workerHandle.invokeMethod(\"setup\",{url:e.parsedUrl?.path??\"\",baseQuery:e.createQuery().toJSON(),viewSpatialReference:t.toJSON(),renderSpatialReference:r.toJSON(),viewingMode:this.viewingMode,objectIdField:e.objectIdField,capabilities:e.capabilities,timeInfo:e.timeInfo?.toJSON(),fieldsIndex:e.fieldsIndex.toJSON()}))()),this.addHandles(this._workerHandle.on(\"notify-updating\",(({updating:e})=>{this._workerUpdating=e})))}async onTileTreeChange({added:e,removed:t}){if(0===e.length&&0===t.length)return;const r=e.map(c),o=t.map(u);await this._workerHandle.invokeMethod(\"onTileTreeChange\",{added:r,removed:o})}async executeQuery(e,t){const r=await this._workerHandle.invokeMethod(\"executeQuery\",e?.toJSON(),t),o=s.fromJSON(r);return this._ensureLayerOnFeatures(o),o}async executeQueryForIds(e,t){return await this._workerHandle.invokeMethod(\"executeQueryForIds\",e?.toJSON(),t)}async executeQueryForCount(e,t){return await this._workerHandle.invokeMethod(\"executeQueryForCount\",e?.toJSON(),t)}async executeQueryForExtent(e,t){const{count:r,extent:o}=await this._workerHandle.invokeMethod(\"executeQueryForExtent\",e?.toJSON(),t);return{count:r,extent:i.fromJSON(o)}}async executeQueryForLatestObservations(e,t){const r=await this._workerHandle.invokeMethod(\"executeQueryForLatestObservations\",e?.toJSON(),t),o=s.fromJSON(r);return this._ensureLayerOnFeatures(o),o}_ensureLayerOnFeatures(e){const{layer:t}=this;for(const r of e.features)r.layer=t,r.sourceLayer=t}};e([r()],a.prototype,\"updating\",null),e([r({constructOnly:!0})],a.prototype,\"schedule\",void 0),e([r({constructOnly:!0})],a.prototype,\"layer\",void 0),e([r({constructOnly:!0})],a.prototype,\"viewSpatialReference\",void 0),e([r({constructOnly:!0})],a.prototype,\"renderSpatialReference\",void 0),e([r({constructOnly:!0})],a.prototype,\"viewingMode\",void 0),e([r({constructOnly:!0})],a.prototype,\"dispatchRenderCommands\",void 0),e([r()],a.prototype,\"_workerUpdating\",void 0),a=e([o(\"esri.views.3d.layers.graphics.pipeline.Feature3DPipelineWorkerHandle\")],a);class d extends n{constructor(e,t){super(\"Feature3DPipelineWorker\",\"setup\",{},e,{strategy:\"dedicated\",client:t})}}function c({id:e,lij:t,extent:r}){return{id:e,lij:t,extent:r}}function u({id:e}){return e}export{a as Feature3DPipelineWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import r from\"../../../../../core/Error.js\";import{makeHandle as t}from\"../../../../../core/handleUtils.js\";import{EsriPromise as n}from\"../../../../../core/Promise.js\";import{on as i}from\"../../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{FeatureLayerViewPerformanceInfo as a}from\"../../FeatureLayerViewPerformanceInfo.js\";import{Feature3DPipelineWorkerHandle as u}from\"./Feature3DPipelineWorkerHandle.js\";import{FeaturePipelineRenderManager as l}from\"./rendering/FeaturePipelineRenderManager.js\";import{emptyHighlightHandle as d}from\"../../support/highlightUtils.js\";import{LayerViewPerformanceInfo as p}from\"../../support/LayerViewPerformanceInfo.js\";import{UpdatePolicy as m}from\"../../../webgl-engine/lib/UpdatePolicy.js\";let c=class extends n{constructor(e){super(e),this._renderer=null,this.graphicsQuery={queryForSymbologySnapping:(e,t)=>{throw new r(\"unsupported-symbology-snapping\")},executeQuery:async(e,r)=>await this._workerHandle.executeQuery(e,r),executeQueryForIds:async(e,r)=>await this._workerHandle.executeQueryForIds(e,r),executeQueryForCount:async(e,r)=>await this._workerHandle.executeQueryForCount(e,r),executeQueryForExtent:async(e,r)=>await this._workerHandle.executeQueryForExtent(e,r),executeQueryForLatestObservations:async(e,r)=>await this._workerHandle.executeQueryForLatestObservations(e,r)},this.maximumNumberOfFeatures=1e3}initialize(){if(\"point\"!==this.layerView.layer.geometryType)throw new r(\"unsupported-geometry-type\",`${this.layerView.layer.geometryType} is not supported`);this.addResolvingPromise(this.setup())}async setup(){const{layer:e,view:r}=this.layerView,{spatialReference:t,renderSpatialReference:n,resourceController:o}=r,s=r.state.viewingMode;if(this._renderer=new l({view:r,layerUid:e.uid}),\"feature\"!==e.type)throw new Error(\"Only FeatureLayer is supported\");const a=new u({schedule:e=>o.immediate.schedule(e),layer:e,viewSpatialReference:t,renderSpatialReference:n,viewingMode:s,dispatchRenderCommands:e=>this._renderer.executeRenderCommands(e)});this._workerHandle=await a.when(),this.addHandles([this.layerView.view.featureTiles.addClient(),i((()=>this.layerView.view.featureTiles.tiles),\"change\",(e=>{this._workerHandle.onTileTreeChange(e)}),{onListenerAdd:e=>this._workerHandle.onTileTreeChange({added:e.toArray(),removed:[]}),onListenerRemove:e=>this._workerHandle.onTileTreeChange({added:[],removed:e.toArray()})})])}get legendEnabled(){return!1}get hasAllFeatures(){return!1}get hasAllFeaturesInView(){return!1}get hasFullGeometries(){return!1}get symbologySnappingSupported(){return!1}get scaleVisibilitySuspended(){return!1}get suspendInfo(){return{}}get updating(){return this._workerHandle.updating}get dataUpdating(){return!1}get updatePolicy(){return m.ASYNC}get maximumNumberOfFeaturesExceeded(){return!1}get updatingProgressValue(){return 1}get usedMemory(){return 100}get unloadedMemory(){return 0}get ignoresMemoryFactor(){return!0}get performanceInfo(){return new a(new p(this.usedMemory,0,0,this.maximumNumberOfFeatures,0,null),0,0,!0,\"tiles\",\"n/a\")}get suspendResumeExtentMode(){return\"computed\"}forEachGraphic(e){}findGraphic(e){return null}highlight(e){return d}maskOccludee(e){return t()}async whenGraphicBounds(e,r){return null}computeAttachmentOrigin(e,r){return null}elevationAlignPointsInFeatures(e,t){throw new r(\"unsupported-elevation-alignment\")}async doRefresh(e){}setVisibility(e,r){}getMissingAttributesForFeature(e){return null}getHydratedGeometry(e){return null}};e([o()],c.prototype,\"layerView\",void 0),e([o()],c.prototype,\"updating\",null),c=e([s(\"esri.views.3d.layers.graphics.pipeline.Feature3DPipeline\")],c);export{c as Feature3DPipeline};\n"],"names":["a","t","constructor","e","super","this","schedule","_workerUpdating","updating","initialize","_workerHandle","d","layer","viewSpatialReference","renderSpatialReference","r","addResolvingPromise","_e$parsedUrl$path","_e$parsedUrl","_e$timeInfo","invokeMethod","url","parsedUrl","path","baseQuery","createQuery","toJSON","viewingMode","objectIdField","capabilities","timeInfo","fieldsIndex","addHandles","on","_ref","onTileTreeChange","_ref2","added","removed","length","map","c","o","u","executeQuery","s","fromJSON","_ensureLayerOnFeatures","executeQueryForIds","executeQueryForCount","executeQueryForExtent","count","extent","i","executeQueryForLatestObservations","features","sourceLayer","prototype","constructOnly","n","strategy","client","_ref3","id","lij","_ref4","_renderer","graphicsQuery","queryForSymbologySnapping","async","maximumNumberOfFeatures","layerView","geometryType","concat","setup","view","spatialReference","resourceController","state","l","layerUid","uid","type","Error","immediate","dispatchRenderCommands","executeRenderCommands","when","featureTiles","addClient","tiles","onListenerAdd","toArray","onListenerRemove","legendEnabled","hasAllFeatures","hasAllFeaturesInView","hasFullGeometries","symbologySnappingSupported","scaleVisibilitySuspended","suspendInfo","dataUpdating","updatePolicy","m","ASYNC","maximumNumberOfFeaturesExceeded","updatingProgressValue","usedMemory","unloadedMemory","ignoresMemoryFactor","performanceInfo","p","suspendResumeExtentMode","forEachGraphic","findGraphic","highlight","maskOccludee","whenGraphicBounds","computeAttachmentOrigin","elevationAlignPointsInFeatures","doRefresh","setVisibility","getMissingAttributesForFeature","getHydratedGeometry"],"sourceRoot":""}