"use strict";(self.webpackChunksc_viaduct=self.webpackChunksc_viaduct||[]).push([[4956],{61196:(t,e,r)=>{function n(t,e,r,n,s){i(t,e,r||0,n||t.length-1,s||o)}function i(t,e,r,n,o){for(;n>r;){if(n-r>600){var a=n-r+1,l=e-r+1,u=Math.log(a),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(a-c)/a)*(l-a/2<0?-1:1);i(t,e,Math.max(r,Math.floor(e-l*c/a+h)),Math.min(n,Math.floor(e+(a-l)*c/a+h)),o)}var d=t[e],g=r,I=n;for(s(t,r,e),o(t[n],d)>0&&s(t,r,n);g<I;){for(s(t,g,I),g++,I--;o(t[g],d)<0;)g++;for(;o(t[I],d)>0;)I--}0===o(t[r],d)?s(t,r,I):s(t,++I,n),I<=e&&(r=I+1),e<=I&&(n=I-1)}}function s(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function o(t,e){return t<e?-1:t>e?1:0}r.d(e,{q:()=>n})},90321:(t,e,r)=>{function n(t,e){return t?e?4:3:e?3:2}function i(t,e,r,i){if(!e?.lengths.length)return null;t.lengths.length&&(t.lengths.length=0),t.coords.length&&(t.coords.length=0);const a=t.coords,l=[],u=r?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:c,coords:h}=e,d=n(r,i);let g=0;for(const n of c){const t=s(u,h,g,n,r,i);t&&l.push(t),g+=n*d}if(l.sort(((t,e)=>{let n=t[2]-e[2];return 0===n&&r&&(n=t[4]-e[4]),n})),l.length){let t=6*l[0][2];a[0]=l[0][0]/t,a[1]=l[0][1]/t,r&&(t=6*l[0][4],a[2]=0!==t?l[0][3]/t:0),(a[0]<u[0]||a[0]>u[1]||a[1]<u[2]||a[1]>u[3]||r&&(a[2]<u[4]||a[2]>u[5]))&&(a.length=0)}if(!a.length){const t=e.lengths[0]?o(h,0,c[0],r,i):null;if(!t)return null;a[0]=t[0],a[1]=t[1],r&&t.length>2&&(a[2]=t[2])}return t}function s(t,e,r,i,s,o){const a=n(s,o);let l=r,u=r+a,c=0,h=0,d=0,g=0,I=0;for(let n=0,p=i-1;n<p;n++,l+=a,u+=a){const r=e[l],n=e[l+1],i=e[l+2],o=e[u],a=e[u+1],f=e[u+2];let p=r*a-o*n;g+=p,c+=(r+o)*p,h+=(n+a)*p,s&&(p=r*f-o*i,d+=(i+f)*p,I+=p),r<t[0]&&(t[0]=r),r>t[1]&&(t[1]=r),n<t[2]&&(t[2]=n),n>t[3]&&(t[3]=n),s&&(i<t[4]&&(t[4]=i),i>t[5]&&(t[5]=i))}if(g>0&&(g*=-1),I>0&&(I*=-1),!g)return null;const f=[c,h,.5*g];return s&&(f[3]=d,f[4]=.5*I),f}function o(t,e,r,i,s){const o=n(i,s);let h=e,d=e+o,g=0,I=0,f=0,p=0;for(let n=0,N=r-1;n<N;n++,h+=o,d+=o){const e=t[h],r=t[h+1],n=t[h+2],s=t[d],o=t[d+1],N=t[d+2],_=i?l(e,r,n,s,o,N):a(e,r,s,o);if(_)if(g+=_,i){const t=c(e,r,n,s,o,N);I+=_*t[0],f+=_*t[1],p+=_*t[2]}else{const t=u(e,r,s,o);I+=_*t[0],f+=_*t[1]}}return g>0?i?[I/g,f/g,p/g]:[I/g,f/g]:r>0?i?[t[e],t[e+1],t[e+2]]:[t[e],t[e+1]]:null}function a(t,e,r,n){const i=r-t,s=n-e;return Math.sqrt(i*i+s*s)}function l(t,e,r,n,i,s){const o=n-t,a=i-e,l=s-r;return Math.sqrt(o*o+a*a+l*l)}function u(t,e,r,n){return[t+.5*(r-t),e+.5*(n-e)]}function c(t,e,r,n,i,s){return[t+.5*(n-t),e+.5*(i-e),r+.5*(s-r)]}r.d(e,{Q:()=>i})},47119:(t,e,r)=>{r.r(e),r.d(e,{default:()=>p});var n=r(35143),i=r(39356),s=r(81806),o=r(68134),a=r(46053),l=(r(76460),r(47249),r(85842)),u=r(57561),c=r(57662),h=r(83491),d=r(93938),g=r(91196),I=r(90992);let f=class extends((0,u.n)((0,h.w)(g.A))){constructor(){super(...arguments),this.type="integrated-mesh-3d",this._elevationContext="im",this._isIntegratedMesh=!0,this._supportsLabeling=!1,this._applySSAO=!(0,s.A)("disable-feature:im-ssao"),this._shadeNormals=!!(0,s.A)("enable-feature:im-shading"),this.drapeTargetType=c.sv.WithoutRasterImage}get i3slayer(){return this.layer}get updatingProgressValue(){return this._controller?.updatingProgress??0}get lodFactor(){return this.view?.qualitySettings?.sceneService?.integratedMesh?.lodFactor??1}get progressiveLoadFactor(){return this.lodFactor>=1?.2:1}get visibleAtCurrentScale(){return(0,I.E5)(this.i3slayer.effectiveScaleRange,this.view.scale)}get layerPopupEnabledAndHasTemplate(){return!1}initialize(){this._updatingHandles.add((()=>this.layer.modifications),(()=>this._loadModifications()),o.Vh),this.view.basemapTerrain.overlayManager.registerDrapeTarget(this)}destroy(){this.view.basemapTerrain.overlayManager.unregisterDrapeTarget(this)}_createLayerGraphic(){return new i.A({layer:this.layer,sourceLayer:this.layer})}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}_loadModifications(){if(this.removeHandles("modifications"),null==this.layer.modifications)return void(this._modifications=[]);const t=this.layer.modifications;this.addHandles(this._updatingHandles.addOnCollectionChange((()=>t),(()=>this._modifications=t.toArray()),o.Vh),"modifications")}};(0,n._)([(0,a.MZ)()],f.prototype,"layer",void 0),(0,n._)([(0,a.MZ)()],f.prototype,"i3slayer",null),(0,n._)([(0,a.MZ)(d.S)],f.prototype,"updatingProgress",void 0),(0,n._)([(0,a.MZ)()],f.prototype,"updatingProgressValue",null),(0,n._)([(0,a.MZ)()],f.prototype,"lodFactor",null),(0,n._)([(0,a.MZ)({readOnly:!0})],f.prototype,"progressiveLoadFactor",null),(0,n._)([(0,a.MZ)({readOnly:!0})],f.prototype,"visibleAtCurrentScale",null),f=(0,n._)([(0,l.$)("esri.views.3d.layers.IntegratedMeshLayerView3D")],f);const p=f}}]);
//# sourceMappingURL=4956.341ba477.chunk.js.map