{"version":3,"file":"static/js/225.bdbf2004.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat2df64.js","../node_modules/@arcgis/core/core/perspectiveUtils.js","../node_modules/@arcgis/core/geometry/support/normalizeUtilsCommon.js","../node_modules/@arcgis/core/geometry/support/normalizeUtilsSync.js","../node_modules/@arcgis/core/layers/support/MediaElementView.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/MediaLayerInteraction.js","../node_modules/@arcgis/core/views/3d/layers/support/MediaLayerInteractionOptions.js","../node_modules/@arcgis/core/views/layers/MediaLayerView.js","../node_modules/@arcgis/core/views/3d/layers/MediaLayerView3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,1,0,0]}function r(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function t(e,r,t,n,o,u){return[e,r,t,n,o,u]}function n(e,r){return new Float64Array(e,r,6)}const o=e(),u=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:r,create:e,createView:n,fromValues:t},Symbol.toStringTag,{value:\"Module\"}));export{o as IDENTITY,r as clone,e as create,n as createView,t as fromValues,u as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{transpose as t,multiply as r,adjoint as s,set as i}from\"./libs/gl-matrix-2/math/mat3.js\";import{create as m}from\"./libs/gl-matrix-2/factories/mat3f64.js\";import{set as o}from\"./libs/gl-matrix-2/math/vec2.js\";import{s as a,t as e}from\"../chunks/vec32.js\";import{create as c}from\"./libs/gl-matrix-2/factories/vec3f64.js\";const f=c(),n=m(),l=m(),u=m();function p(r,s,i){return a(f,s[0],s[1],1),e(f,f,t(n,i)),0===f[2]?o(r,f[0],f[1]):o(r,f[0]/f[2],f[1]/f[2])}function j(t,i,m){return x(l,i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]),x(u,m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7]),r(t,s(l,l),u),0!==t[8]&&(t[0]/=t[8],t[1]/=t[8],t[2]/=t[8],t[3]/=t[8],t[4]/=t[8],t[5]/=t[8],t[6]/=t[8],t[7]/=t[8],t[8]/=t[8]),t}function x(m,o,c,l,u,p,j,x,b){i(m,o,l,p,c,u,j,1,1,1),a(f,x,b,1),s(n,m);const[g,h,v]=e(f,f,t(n,n));return i(n,g,0,0,0,h,0,0,0,v),r(m,n,m)}export{j as getProjectiveTransform,p as transformProjective};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../Polyline.js\";import n from\"../SpatialReference.js\";import{isPolygon as t}from\"./jsonUtils.js\";const r={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new e({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:n.WebMercator}),minus180Line:new e({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:n.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new e({paths:[[[180,-180],[180,180]]],spatialReference:n.WGS84}),minus180Line:new e({paths:[[[-180,-180],[-180,180]]],spatialReference:n.WGS84})}};function i(e,n){return Math.ceil((e-n)/(2*n))}function s(e,n){const t=o(e);for(const r of t)for(const e of r)e[0]+=n;return e}function o(e){return t(e)?e.rings:e.paths}export{r as cutParams,o as getGeometryParts,i as offsetMagnitude,s as updatePolyGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{isSerializable as t}from\"../../core/JSONSupport.js\";import{create as i}from\"./aaBoundingRect.js\";import{getBoundsXY as s}from\"./boundsUtils.js\";import{closeRings as n}from\"./coordsUtils.js\";import{isPoint as e,isMultipoint as h,isExtent as o,isPolygon as u,isPolyline as r}from\"./jsonUtils.js\";import{cutParams as m,updatePolyGeometry as x,offsetMagnitude as _}from\"./normalizeUtilsCommon.js\";import{getInfo as l,isWebMercator as c}from\"./spatialReferenceUtils.js\";function p(t){return f(t,!0)}function a(t){return f(t,!1)}function f(i,n){if(null==i)return null;const p=i.spatialReference,a=l(p),f=t(i)?i.toJSON():i;if(!a)return f;const I=c(p)?102100:4326,g=m[I].maxX,v=m[I].minX;if(e(f))return y(f,g,v);if(h(f))return f.points=f.points.map((t=>y(t,g,v))),f;if(o(f))return d(f,a);if(u(f)||r(f)){const t=s(S,f),i={xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3]},e=_(i.xmin,v)*(2*g),h=0===e?f:x(f,e);return i.xmin+=e,i.xmax+=e,i.xmax>g?C(h,g,n):i.xmin<v?C(h,v,n):h}return f}function d(t,i){if(!i)return t;const s=I(t,i).map((t=>t.extent));return s.length<2?s[0]||t:s.length>2?(t.xmin=i.valid[0],t.xmax=i.valid[1],t):{rings:s.map((t=>[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]))}}function y(t,i,s){if(Array.isArray(t)){const n=t[0];if(n>i){const s=_(n,i);t[0]=n+s*(-2*i)}else if(n<s){const i=_(n,s);t[0]=n+i*(-2*s)}}else{const n=t.x;if(n>i){const s=_(n,i);t.x+=s*(-2*i)}else if(n<s){const i=_(n,s);t.x+=i*(-2*s)}}return t}function I(t,i){const s=[],{ymin:n,ymax:e,xmin:h,xmax:o}=t,u=t.xmax-t.xmin,[r,m]=i.valid,{x,frameId:_}=g(t.xmin,i),{x:l,frameId:c}=g(t.xmax,i),p=x===l&&u>0;if(u>2*m){const t={xmin:h<o?x:l,ymin:n,xmax:m,ymax:e},i={xmin:r,ymin:n,xmax:h<o?l:x,ymax:e},u={xmin:0,ymin:n,xmax:m,ymax:e},p={xmin:r,ymin:n,xmax:0,ymax:e},a=[],f=[];v(t,u)&&a.push(_),v(t,p)&&f.push(_),v(i,u)&&a.push(c),v(i,p)&&f.push(c);for(let s=_+1;s<c;s++)a.push(s),f.push(s);s.push(new P(t,[_]),new P(i,[c]),new P(u,a),new P(p,f))}else x>l||p?s.push(new P({xmin:x,ymin:n,xmax:m,ymax:e},[_]),new P({xmin:r,ymin:n,xmax:l,ymax:e},[c])):s.push(new P({xmin:x,ymin:n,xmax:l,ymax:e},[_]));return s}function g(t,i){const[s,n]=i.valid,e=2*n;let h,o=0;return t>n?(h=Math.ceil(Math.abs(t-n)/e),t-=h*e,o=h):t<s&&(h=Math.ceil(Math.abs(t-s)/e),t+=h*e,o=-h),{x:t,frameId:o}}function v(t,i){const{xmin:s,ymin:n,xmax:e,ymax:h}=i;return O(t,s,n)&&O(t,s,h)&&O(t,e,h)&&O(t,e,n)}function O(t,i,s){return i>=t.xmin&&i<=t.xmax&&s>=t.ymin&&s<=t.ymax}function C(t,i,s=!0){const e=!r(t);if(e&&n(t),s){return(new T).cut(t,i)}const h=e?t.rings:t.paths,o=e?4:2,u=h.length,m=-2*i;for(let n=0;n<u;n++){const t=h[n];if(t&&t.length>=o){const i=[];for(const s of t)i.push([s[0]+m,s[1]]);h.push(i)}}return e?t.rings=h:t.paths=h,t}class P{constructor(t,i){this.extent=t,this.frameIds=i}}const S=i();class T{constructor(){this._linesIn=[],this._linesOut=[]}cut(t,i){let s;if(this._xCut=i,t.rings)this._closed=!0,s=t.rings,this._minPts=4;else{if(!t.paths)return null;this._closed=!1,s=t.paths,this._minPts=2}for(const e of s){if(!e||e.length<this._minPts)continue;let t=!0;for(const i of e)t?(this.moveTo(i),t=!1):this.lineTo(i);this._closed&&this.close()}this._pushLineIn(),this._pushLineOut(),s=[];for(const e of this._linesIn)e&&e.length>=this._minPts&&s.push(e);const n=-2*this._xCut;for(const e of this._linesOut)if(e&&e.length>=this._minPts){for(const t of e)t[0]+=n;s.push(e)}return this._closed?t.rings=s:t.paths=s,t}moveTo(t){this._pushLineIn(),this._pushLineOut(),this._prevSide=this._side(t[0]),this._moveTo(t[0],t[1],this._prevSide),this._prevPt=t,this._firstPt=t}lineTo(t){const i=this._side(t[0]);if(i*this._prevSide==-1){const s=this._intersect(this._prevPt,t);this._lineTo(this._xCut,s,0),this._prevSide=0,this._lineTo(t[0],t[1],i)}else this._lineTo(t[0],t[1],i);this._prevSide=i,this._prevPt=t}close(){const t=this._firstPt,i=this._prevPt;t[0]===i[0]&&t[1]===i[1]||this.lineTo(t),this._checkClosingPt(this._lineIn),this._checkClosingPt(this._lineOut)}_moveTo(t,i,s){this._closed?(this._lineIn.push([s<=0?t:this._xCut,i]),this._lineOut.push([s>=0?t:this._xCut,i])):(s<=0&&this._lineIn.push([t,i]),s>=0&&this._lineOut.push([t,i]))}_lineTo(t,i,s){this._closed?(j(this._lineIn,s<=0?t:this._xCut,i),j(this._lineOut,s>=0?t:this._xCut,i)):s<0?(0===this._prevSide&&this._pushLineOut(),this._lineIn.push([t,i])):s>0?(0===this._prevSide&&this._pushLineIn(),this._lineOut.push([t,i])):this._prevSide<0?(this._lineIn.push([t,i]),this._lineOut.push([t,i])):this._prevSide>0&&(this._lineOut.push([t,i]),this._lineIn.push([t,i]))}_checkClosingPt(t){const i=t.length;i>3&&t[0][0]===this._xCut&&t[i-2][0]===this._xCut&&t[1][0]===this._xCut&&(t[0][1]=t[i-2][1],t.pop())}_side(t){return t<this._xCut?-1:t>this._xCut?1:0}_intersect(t,i){const s=(this._xCut-t[0])/(i[0]-t[0]);return t[1]+s*(i[1]-t[1])}_pushLineIn(){this._lineIn&&this._lineIn.length>=this._minPts&&this._linesIn.push(this._lineIn),this._lineIn=[]}_pushLineOut(){this._lineOut&&this._lineOut.length>=this._minPts&&this._linesOut.push(this._lineOut),this._lineOut=[]}}function j(t,i,s){const n=t.length;n>1&&t[n-1][0]===i&&t[n-2][0]===i?t[n-1][1]=s:t.push([i,s])}export{T as CutVertical,a as normalizeCentralMeridianForDisplay,p as normalizeCentralMeridianSync};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"../../geometry/Polygon.js\";import{projectOrLoad as n}from\"../../geometry/projection.js\";import{fromExtent as p}from\"../../geometry/support/aaBoundingRect.js\";import{normalizeCentralMeridianSync as l}from\"../../geometry/support/normalizeUtilsSync.js\";let m=class extends r{constructor(o){super(o)}get bounds(){const o=this.coords;return null==o?.extent?null:p(o.extent)}get coords(){const o=this.element.georeference?.coords;return n(o,this.spatialReference).geometry}get normalizedCoords(){return s.fromJSON(l(this.coords))}get normalizedBounds(){const o=null!=this.normalizedCoords?this.normalizedCoords.extent:null;return null!=o?p(o):null}};o([e()],m.prototype,\"spatialReference\",void 0),o([e()],m.prototype,\"element\",void 0),o([e()],m.prototype,\"bounds\",null),o([e()],m.prototype,\"coords\",null),o([e()],m.prototype,\"normalizedCoords\",null),o([e()],m.prototype,\"normalizedBounds\",null),m=o([t(\"esri.layers.support.MediaElementView\")],m);export{m as MediaElementView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{destroyHandle as o,makeHandle as i}from\"../../../../core/handleUtils.js\";import{deg2rad as s}from\"../../../../core/mathUtils.js\";import{abortMaybe as r,destroyMaybe as n}from\"../../../../core/maybe.js\";import{debounce as a}from\"../../../../core/promiseUtils.js\";import{initial as l}from\"../../../../core/reactiveUtils.js\";import{getMetersPerUnitForSR as d}from\"../../../../core/unitUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromRotation as h}from\"../../../../core/libs/gl-matrix-2/math/mat2d.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/mat2df64.js\";import{set as _,transformMat2d as g}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as u}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{UpdatingHandles as y}from\"../../../../core/support/UpdatingHandles.js\";import{ViewEventPriorities as f}from\"../../../input/InputManager.js\";import{mediaKeys as v,KeyBindings as b}from\"../../../interactive/keybindings.js\";import{acquire as T}from\"../../../interactive/snapping/SnappingManagerPool.js\";const j=Symbol(),w=Symbol(),E=1,M=10;let O=class extends t{get updating(){return this._updatingHandles.updating}get _preferredInteractionTool(){return this.options?.tool??\"transform\"}get _toolType(){switch(this._preferredInteractionTool){case\"transform\":return\"transform-3d\";case\"reshape\":return\"reshape-3d\"}}get _validatedSelectedElement(){const e=this.selectedElement;if(!e)return null;const{layer:{source:t}}=this;return t?\"hasElement\"in t?t.hasElement(e)?e:null:t===e?e:null:null}constructor(e){super(e),this.enabled=!1,this._updatingHandles=new y,this._isOpacityToggled=!1,this._factor=E,this._tool=null,this._object=null,this._createToolAbortController=null,this._onPointerMove=a((async e=>{const t=await this._updatingHandles.addPromise(this._findElementAtScreenPoint(e));this.destroyed||(this.removeHandles(w),t&&t!==this.selectedElement&&(this.view.cursor=\"pointer\",this.addHandles(i((()=>this.view.cursor=null)),w)))})),this._tmpMat2=m(),this._tmpVec2=u()}destroy(){this._createToolAbortController=r(this._createToolAbortController)}initialize(){this.addHandles([o(this._updatingHandles),this._updatingHandles.add((()=>this.enabled),(e=>this._enableDisable(e)),l),this._updatingHandles.add((()=>this._preferredInteractionTool),(e=>this._preferredInteractionToolChanged(e)))])}_enableDisable(e){if(!e)return void this.removeHandles(j);this._dynamicImports();const{view:t}=this,o=new b;o.add(v.undo,(()=>{this._object?.operations?.undo(),this._object?.emit(\"modified-externally\")})),o.add(v.redo,(()=>{this._object?.operations?.redo(),this._object?.emit(\"modified-externally\")})),o.addToggle(v.preserveAspectRatio,(e=>{\"transform-3d\"===this._tool?.type&&(this._tool.preserveAspectRatio=\"key-down\"===e.type)})),o.addToggle(v.rotateIncrements,(e=>{\"transform-3d\"===this._tool?.type&&(this._tool.snapRotation=\"key-down\"===e.type)})),o.add(v.toggleOpacity,(()=>{const e=this._object?.element;e&&(e.opacity*=this._isOpacityToggled?2:.5,this._isOpacityToggled=!this._isOpacityToggled)})),o.add(v.moveUp,(()=>this._move(0,this._factor))),o.add(v.moveDown,(()=>this._move(0,-this._factor))),o.add(v.moveRight,(()=>this._move(this._factor,0))),o.add(v.moveLeft,(()=>this._move(-this._factor,0))),o.addToggle(v.factorModifier,(e=>this._factor=\"key-down\"===e.type?M:E)),this._isOpacityToggled=!1,this.addHandles([o.register(t,f.TOOL),i((()=>{this._isOpacityToggled&&this.selectedElement&&(this.selectedElement.opacity*=2,this._isOpacityToggled=!1)})),t.on(\"immediate-click\",(e=>this._onClick(e)),f.TOOL),t.on(\"pointer-move\",(e=>this._onPointerMove(e).catch((()=>{}))),f.TOOL),this._updatingHandles.add((()=>this._validatedSelectedElement),((e,t)=>{t&&e!==t&&this._isOpacityToggled&&(t.opacity*=2,this._isOpacityToggled=!1),this._selectedElementChanged(e)}),l),i((()=>{t.cursor=null,this._removeTool()}))],j)}async _onClick(e){await this._updatingHandles.addPromise(e.async((async()=>{const t=await this._findElementAtScreenPoint(e);this.destroyed||(t&&e.stopPropagation(),this.selectedElement=t,this.selectedElement&&(this.view.cursor=null))})))}async _selectedElementChanged(e){e?.georeference?this._object?.element!==e&&await this._updatingHandles.addPromise(this._recreateTool()):this._removeTool()}async _recreateTool(){this._createToolAbortController=r(this._createToolAbortController),this._removeTool();const e=this._validatedSelectedElement;if(!e)return;const t=new AbortController;this._createToolAbortController=t;const{ManipulatedObject3DMediaElement:o,ExtentTransformTool:s,ReshapeTool3D:a}=await this._dynamicImports();if(t.signal.aborted)return;const{view:l,layer:d,_toolType:c}=this;switch(this._object=new o({view:l,layer:d,element:e,tool:this._preferredInteractionTool}),c){case\"transform-3d\":{this._tool=new s({view:l,object:this._object});const e=l.inputManager;e.isModifierKeyDown(v.rotateIncrements.key)&&(this._tool.snapRotation=!0),e.isModifierKeyDown(v.preserveAspectRatio.key)&&(this._tool.preserveAspectRatio=!0)}break;case\"reshape-3d\":{const e=T(l);this.addHandles(e,this._tool);const{snappingManager:t}=e;this._tool=new a({view:l,object:this._object,enableMidpoints:!1,enableZShape:!1,snappingManager:t,enableMoveObject:!1,autoHideManipulators:!0,enableDeleteVertices:!1})}}this.addHandles([i((()=>{this._object=n(this._object),this._tool&&(l.tools.remove(this._tool),this._tool=null)}))],this._tool),l.addAndActivateTool(this._tool)}_preferredInteractionToolChanged(e){const{_tool:t}=this;if(!t)return;if(this._toolType!==t.type)return void this._updatingHandles.addPromise(this._recreateTool());const{_object:o}=this;o&&(o.tool=e)}async _dynamicImports(){const[{ManipulatedObject3DMediaElement:e},{ExtentTransformTool:t,ReshapeTool3D:o}]=await Promise.all([import(\"../../interactive/editingTools/ManipulatedObject3DMediaElement.js\"),import(\"../../interactive/editingTools.js\")]);return{ManipulatedObject3DMediaElement:e,ExtentTransformTool:t,ReshapeTool3D:o}}async _findElementAtScreenPoint(e){const t=(await this.view.hitTest(e,{include:[this.layer]})).results[0];return\"media\"===t?.type?t.element:null}_removeTool(){this._tool&&this.removeHandles(this._tool)}_move(e,t){const{view:o,_object:i}=this,r=i?.operations;if(!r)return;const n=o.overlayPixelSizeInMapUnits(o.pointsOfInterest.focus.location)*d(o.spatialReference)/d(r.data.spatialReference),{_tmpMat2:a,_tmpVec2:l}=this,c=h(a,s(360-this.view.camera.heading)),p=_(l,n*e,n*t);g(p,p,c),r.move(p[0],p[1],0),i.emit(\"modified-externally\")}};e([c({constructOnly:!0})],O.prototype,\"view\",void 0),e([c({constructOnly:!0})],O.prototype,\"layer\",void 0),e([c()],O.prototype,\"selectedElement\",void 0),e([c()],O.prototype,\"enabled\",void 0),e([c()],O.prototype,\"options\",void 0),e([c()],O.prototype,\"updating\",null),e([c()],O.prototype,\"_preferredInteractionTool\",null),e([c()],O.prototype,\"_validatedSelectedElement\",null),O=e([p(\"esri.views.3d.layers.support.MediaLayerInteraction\")],O);export{O as MediaLayerInteraction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";let e=class extends r{constructor(){super(...arguments),this.tool=\"transform\"}};o([s()],e.prototype,\"tool\",void 0),e=o([t(\"esri.views.3d.layers.support.MediaLayerInteractionOptions\")],e);export{e as MediaLayerInteractionOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{MediaLayerInteractionOptions as r}from\"../3d/layers/support/MediaLayerInteractionOptions.js\";const s=s=>{let i=class extends s{constructor(...e){super(...e),this.layer=null,this.interactive=!1,this.interactionOptions=new r,this.selectedElement=null}};return e([t()],i.prototype,\"layer\",void 0),e([t()],i.prototype,\"interactive\",void 0),e([t()],i.prototype,\"interactionOptions\",void 0),e([t()],i.prototype,\"selectedElement\",void 0),i=e([o(\"esri.views.layers.MediaLayerView\")],i),i};export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import{makeHandle as r,handlesGroup as i,destroyHandle as n}from\"../../../core/handleUtils.js\";import\"../../../core/has.js\";import{getProjectiveTransform as a}from\"../../../core/perspectiveUtils.js\";import{debounce as s,isPromiseLike as o}from\"../../../core/promiseUtils.js\";import{watch as l,on as d,syncAndInitial as m}from\"../../../core/reactiveUtils.js\";import{property as c}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import{create as h}from\"../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{toExtent as u}from\"../../../geometry/support/aaBoundingRect.js\";import{MediaElementView as y}from\"../../../layers/support/MediaElementView.js\";import{DrapeSourceType as g}from\"./interfaces.js\";import{LayerView3D as _}from\"./LayerView3D.js\";import{MediaLayerInteraction as f}from\"./support/MediaLayerInteraction.js\";import{drapedZ as E}from\"../terrain/OverlayRenderer.js\";import{Attribute as D}from\"../webgl-engine/lib/Attribute.js\";import{Geometry as w}from\"../webgl-engine/lib/Geometry.js\";import{DirtyOperation as v,DirtyState as b}from\"../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as R}from\"../webgl-engine/lib/RenderGeometry.js\";import{Texture as j}from\"../webgl-engine/lib/Texture.js\";import{UpdatePolicy as A}from\"../webgl-engine/lib/UpdatePolicy.js\";import{VertexAttribute as T}from\"../webgl-engine/lib/VertexAttribute.js\";import{ImageMaterial as x}from\"../webgl-engine/materials/ImageMaterial.js\";import P from\"../../layers/LayerView.js\";import M from\"../../layers/MediaLayerView.js\";import{isInEffectiveScaleRange as S}from\"../../support/layerViewUtils.js\";import{TextureWrapMode as G}from\"../../webgl/enums.js\";let I=class extends(_(M(P))){get interactive(){return this._interaction.enabled}set interactive(e){this._interaction&&(this._interaction.enabled=e)}get selectedElement(){return this._interaction.selectedElement}set selectedElement(e){this._interaction&&(this._interaction.selectedElement=e)}get visibleAtCurrentScale(){return S(this.layer.effectiveScaleRange,this.view.terrainScale)}constructor(e){super(e),this.type=\"media-3d\",this.drapeSourceType=g.RasterImage,this.updatePolicy=A.ASYNC,this._uidToElement=new Map,this._renderedElements=new Map,this._lastDrapingExtent=null,this._update=s((async(e,t,r)=>{const i=await this._collectMediaElements(e,t,r);this._synchronizeRenderElements(i)}),0);const{view:t,layer:r}=e;this._interaction=new f({view:t,layer:r}),this.addHandles(l((()=>this.interactionOptions),(e=>this._interaction.options=e),m))}initialize(){const{view:e,layer:t}=this;this._renderer=e.basemapTerrain.overlayManager.registerGeometryDrapeSource(this);const i=()=>this._updateWithLastDrapingExtent();this.addHandles([r((()=>e.basemapTerrain.overlayManager.unregisterDrapeSource(this))),d((()=>t.effectiveSource),\"change\",i),d((()=>t.effectiveSource),\"refresh\",i)]),this._updatingHandles.add((()=>this.suspended),i)}setDrapingExtent(e,t){this._lastDrapingExtent={overlays:e,spatialReference:t},this._updateWithLastDrapingExtent()}getHit(e){const t=this._uidToElement.get(e);return t?{type:\"media\",element:t,layer:this.layer}:null}isUpdating(){return super.isUpdating()||this._interaction.updating}_updateWithLastDrapingExtent(){if(null==this._lastDrapingExtent||this.suspended)return void(this._renderer&&this._synchronizeRenderElements(new Set));const{overlays:e,spatialReference:t}=this._lastDrapingExtent;this._updatingHandles.addPromise(this._update(e,t).catch((()=>{})))}async _collectMediaElements(e,t,r){const i=this.layer.effectiveSource;return null==i?new Set:new Set((await Promise.all(e.map((e=>i.queryElements(u(e.extent,t),{signal:r}))))).flat())}_synchronizeRenderElements(e){this._synchronizeRenderElementsRemove(e),this._synchronizeRenderElementsAdd(e)}_synchronizeRenderElementsRemove(e){const t=[];this._renderedElements.forEach(((r,i)=>{e.has(i)||(null!=r.renderData&&t.push(r.renderData.renderGeometry),this._removeElement(i,r),this.emit(\"element-render-changed\",{element:i}))}))}_synchronizeRenderElementsAdd(e){for(const t of e)this._renderedElements.has(t)||this._createRenderElement(t)}_removeElement(e,{renderData:t,handle:r}){this._destroyRenderData(e,t),this._renderedElements.delete(e),this._uidToElement.delete(e.uid),r.remove()}async _createRenderElement(e){const t=new y({spatialReference:this.view.spatialReference,element:e}),r={renderData:null,handle:i([this._updatingHandles.add((()=>e.opacity),(e=>{null!=r.renderData&&r.renderData.material.setParameters({opacity:e})})),this._updatingHandles.add((()=>t.coords),(()=>{null!=r.renderData?this._updateGeometry(t,r,r.renderData):this._initializeRenderData(t,r)})),this._updatingHandles.add((()=>e.content),(()=>this._initializeRenderData(t,r))),n(t)])};this._renderedElements.set(e,r),this._uidToElement.set(e.uid,e),this._updatingHandles.addPromise(e.load().catch((()=>{}))),this._initializeRenderData(t,r)}_initializeRenderData(e,t){const{coords:r,element:i}=e,{contentWidth:n,contentHeight:a}=i;if(null==r||null==i.content)return void(t.renderData=this._destroyRenderData(i,t.renderData));if(null!=t.renderData)return;const s=this._createTexture(i.content),l=s.load(this.view._stage.renderView.renderingContext);this.view._stage.add(s),o(l)&&this._updatingHandles.addPromise(l);const d=new x({initTextureTransparent:!0,textureId:s.id,opacity:i.opacity,transparent:!0,perspectiveInterpolation:!0}),m=this._getPositionAttributeArray(r),c=[0,0,1,0,1,1,0,1],p=this._getPerspectiveDivideAttributeArray(m,n,a),h=[0,1,2,0,2,3],u=new w(d,[[T.POSITION,new D(m,h,3,!0)],[T.UV0,new D(c,h,2,!0)],[T.PERSPECTIVEDIVIDE,new D(p,h,1,!0)]]),y=new R(u,{layerUid:this.layer.uid,graphicUid:i.uid});this._renderer.addGeometries([y],v.ADD),t.renderData={renderGeometry:y,texture:s,material:d},this.emit(\"element-render-changed\",{element:i})}_updateGeometry(e,t,r){const{coords:i,element:n}=e;if(null==i||null==n.content)return void(t.renderData=this._destroyRenderData(n,t.renderData));const a=this._getPositionAttributeArray(i);r.renderGeometry.geometry.setAttributeData(T.POSITION,a);const s=this._getPerspectiveDivideAttributeArray(a,n.contentWidth,n.contentHeight);r.renderGeometry.geometry.setAttributeData(T.PERSPECTIVEDIVIDE,s),r.renderGeometry.geometry.invalidateBoundingInfo(),this._renderer.modifyGeometries([r.renderGeometry],b.GEOMETRY),this.emit(\"element-render-changed\",{element:n})}_getPositionAttributeArray(e){const[t,r,i,n]=e.rings[0];return[t[0],t[1],E,n[0],n[1],E,i[0],i[1],E,r[0],r[1],E]}_getPerspectiveDivideAttributeArray(e,t,r){a(H,[0,0,t,0,t,r,0,r],[e[0],e[1],e[3],e[4],e[6],e[7],e[9],e[10]]);const i=H[6]/H[8]*t,n=H[7]/H[8]*r;return[1,1+i,1+i+n,1+n]}_destroyRenderData(e,t){if(null==t)return null;const r=t.texture;return r.unload(),this.view._stage.remove(r),this._renderer.removeGeometries([t.renderGeometry],v.REMOVE),this.emit(\"element-render-changed\",{element:e}),null}_createTexture(e){const r=e instanceof HTMLImageElement?e.naturalWidth:e.width,i=e instanceof HTMLImageElement?e.naturalHeight:e.height;if(\"getFrame\"in e)throw new t(\"media-layer-view-3d\",\"animation is not supported\");return new j(e,{wrap:{s:G.CLAMP_TO_EDGE,t:G.CLAMP_TO_EDGE},preMultiplyAlpha:!0,width:r,height:i,mipmap:!0,updateCallback:()=>this.view.basemapTerrain.overlayManager.setDrawTexturesDirty()})}get test(){}};e([c({readOnly:!0})],I.prototype,\"type\",void 0),e([c()],I.prototype,\"layer\",void 0),e([c()],I.prototype,\"interactive\",null),e([c()],I.prototype,\"selectedElement\",null),e([c({readOnly:!0})],I.prototype,\"visibleAtCurrentScale\",null),I=e([p(\"esri.views.3d.layers.MediaLayerView3D\")],I);const H=h(),L=I;export{L as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i(l(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n"],"names":["e","r","o","Object","freeze","defineProperty","__proto__","IDENTITY","clone","create","createView","Float64Array","fromValues","t","n","u","Symbol","toStringTag","value","f","c","m","l","p","s","i","a","j","x","b","g","h","v","maxX","minX","plus180Line","paths","spatialReference","WebMercator","minus180Line","WGS84","Math","ceil","rings","toJSON","I","y","points","map","d","S","xmin","ymin","xmax","ymax","_","C","valid","frameId","push","P","extent","length","Array","isArray","abs","O","arguments","undefined","T","cut","constructor","this","frameIds","_linesIn","_linesOut","_xCut","_closed","_minPts","moveTo","lineTo","close","_pushLineIn","_pushLineOut","_prevSide","_side","_moveTo","_prevPt","_firstPt","_intersect","_lineTo","_checkClosingPt","_lineIn","_lineOut","pop","super","bounds","coords","_this$element$georefe","element","georeference","geometry","normalizedCoords","fromJSON","normalizedBounds","prototype","slicePlaneEnabled","supportsHeightUnitConversion","postscript","layer","addResolvingPromise","_validateHeightModelInfo","AbortController","signal","addHandles","abort","_this$view$defaultsFr","view","defaultsFromMap","heightModelInfoReady","heightModelInfo","w","updating","_updatingHandles","_preferredInteractionTool","_this$options$tool","_this$options","options","tool","_toolType","_validatedSelectedElement","selectedElement","source","hasElement","enabled","_isOpacityToggled","_factor","_tool","_object","_createToolAbortController","_onPointerMove","async","addPromise","_findElementAtScreenPoint","destroyed","removeHandles","cursor","_tmpMat2","_tmpVec2","destroy","initialize","add","_enableDisable","_preferredInteractionToolChanged","_dynamicImports","undo","_this$_object","_this$_object2","operations","emit","redo","_this$_object3","_this$_object4","addToggle","preserveAspectRatio","_this$_tool","type","rotateIncrements","_this$_tool2","snapRotation","toggleOpacity","_this$_object5","opacity","moveUp","_move","moveDown","moveRight","moveLeft","factorModifier","register","TOOL","on","_onClick","catch","_selectedElementChanged","_removeTool","stopPropagation","_this$_object6","_recreateTool","ManipulatedObject3DMediaElement","ExtentTransformTool","ReshapeTool3D","aborted","object","inputManager","isModifierKeyDown","key","snappingManager","enableMidpoints","enableZShape","enableMoveObject","autoHideManipulators","enableDeleteVertices","tools","remove","addAndActivateTool","Promise","all","hitTest","include","results","overlayPixelSizeInMapUnits","pointsOfInterest","focus","location","data","camera","heading","move","constructOnly","interactive","interactionOptions","M","_interaction","visibleAtCurrentScale","effectiveScaleRange","terrainScale","drapeSourceType","RasterImage","updatePolicy","A","ASYNC","_uidToElement","Map","_renderedElements","_lastDrapingExtent","_update","_collectMediaElements","_synchronizeRenderElements","_renderer","basemapTerrain","overlayManager","registerGeometryDrapeSource","_updateWithLastDrapingExtent","unregisterDrapeSource","effectiveSource","suspended","setDrapingExtent","overlays","getHit","get","isUpdating","Set","queryElements","flat","_synchronizeRenderElementsRemove","_synchronizeRenderElementsAdd","forEach","has","renderData","renderGeometry","_removeElement","_createRenderElement","_ref","handle","_destroyRenderData","delete","uid","material","setParameters","_updateGeometry","_initializeRenderData","content","set","load","contentWidth","contentHeight","_createTexture","_stage","renderView","renderingContext","initTextureTransparent","textureId","id","transparent","perspectiveInterpolation","_getPositionAttributeArray","_getPerspectiveDivideAttributeArray","POSITION","D","UV0","PERSPECTIVEDIVIDE","R","layerUid","graphicUid","addGeometries","ADD","texture","setAttributeData","invalidateBoundingInfo","modifyGeometries","GEOMETRY","E","H","unload","removeGeometries","REMOVE","HTMLImageElement","naturalWidth","width","naturalHeight","height","wrap","G","CLAMP_TO_EDGE","preMultiplyAlpha","mipmap","updateCallback","setDrawTexturesDirty","test","readOnly","L","EventedMixin","parent","when","name","_this$layer","title","getLogger","error","concat","fullOpacity","_this$layer$opacity","_this$layer2","_this$parent$fullOpac","_this$parent","canResume","suspendInfo","getSuspendInfo","legendEnabled","_this$layer3","_this$_updatingHandle","updatingProgress","updateSuspended","visible","_this$layer4","_overrideIfSome","visibleAtCurrentTimeExtent","_this$layer5","timeExtent","visibilityTimeExtent","intersection","isEmpty","_this$layer6","_this$parent2","_this$view","loaded","ready","_this$parent3","_t$view","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","Boolean"],"sourceRoot":""}