"use strict";(self.webpackChunksc_viaduct=self.webpackChunksc_viaduct||[]).push([[1924],{99738:(e,l,n)=>{n.d(l,{oz:()=>v});n(95444),n(50076);var o,i=n(53084);n(63040),n(28808),n(89465);function t(e){switch(e){case"circle":return{rings:[[[8.5,.2],[7.06,.33],[5.66,.7],[4.35,1.31],[3.16,2.14],[2.14,3.16],[1.31,4.35],[.7,5.66],[.33,7.06],[.2,8.5],[.33,9.94],[.7,11.34],[1.31,12.65],[2.14,13.84],[3.16,14.86],[4.35,15.69],[5.66,16.3],[7.06,16.67],[8.5,16.8],[9.94,16.67],[11.34,16.3],[12.65,15.69],[13.84,14.86],[14.86,13.84],[15.69,12.65],[16.3,11.34],[16.67,9.94],[16.8,8.5],[16.67,7.06],[16.3,5.66],[15.69,4.35],[14.86,3.16],[13.84,2.14],[12.65,1.31],[11.34,.7],[9.94,.33],[8.5,.2]]]};case"square":return{rings:[[[.5,.5],[.5,16.5],[16.5,16.5],[16.5,.5],[.5,.5]]]};case"diamond":return{rings:[[[8.5,.5],[.2,8.5],[8.5,16.5],[16.5,8.5],[8.5,.5]]]};case"hexagon-pointy":return{rings:[[[15.86,12.75],[15.86,4.25],[8.5,0],[1.14,4.25],[1.14,12.75],[8.5,17],[15.86,12.75]]]};case"hexagon-flat":return{rings:[[[12.75,15.86],[17,8.5],[12.75,1.14],[4.25,1.14],[0,8.5],[4.25,15.86],[12.75,15.86]]]}}}function r(e){var l;return"CIMVectorMarker"===(null===e||void 0===e?void 0:e.type)?null===(l=e.markerGraphics)||void 0===l?void 0:l[0]:void 0}function u(e){var l,n;return"CIMPolygonSymbol"===(null===e||void 0===e||null===(l=e.symbol)||void 0===l?void 0:l.type)?null===(n=e.symbol.symbolLayers)||void 0===n?void 0:n[0]:void 0}function s(e,l){"CIMVectorMarker"===(null===e||void 0===e?void 0:e.type)&&null!=l&&(e.size=l)}function a(e,l){const n=r(e);n&&null!=l&&(n.geometry=t(l))}function c(e,l){const n=u(r(e));n&&null!=l&&(n.color=l.toArray())}function d(e,l,n){const o=u(r(e));o&&null!=l&&n&&(o.colorLocked=l)}function v(e,l){var n;const{outerRingSize:t,innerDotSize:r,type:u,color:v,colorLocked:f,primitiveOverrides:y}=l,m="CIMPolygonSymbol"===(null===(n=e.data.symbol)||void 0===n?void 0:n.type)?e.data.symbol.symbolLayers:null;if(2===(null===m||void 0===m?void 0:m.length))for(const i of m){const e=i.primitiveName===o.OuterRing;s(i,e?t:r),a(i,u),c(i,v),d(i,f,e)}return null!=t&&null!=r&&(e.data.primitiveOverrides=null),void 0!==y&&(e.data.primitiveOverrides=(0,i.o8)(y)),e}!function(e){e.OuterRing="reference-size-outer-ring",e.InnerDot="reference-size-inner-dot"}(o||(o={}))},61924:(e,l,n)=>{n.d(l,{OE:()=>y,getRampStops:()=>z,mh:()=>f});var o=n(69539),i=n(95444),t=n(24921),r=n(99738),u=n(29632),s=n(94439),a=n(60823),c=(n(76099),n(91896)),d=n(76940),v=n(7246);const f=30,y=12,m=24,p=[255,255,255],b=[200,200,200],h=[128,128,128],g=20,w=5;async function z(e,l,n,o,i,r,u){var c,d;const v=l.legendOptions,f=null===v||void 0===v?void 0:v.customValues,y=u||await L(e,n),p=l.stops,b=!!y,h=!!f,g=null!=l.minSize&&null!=l.maxSize,w=p&&p.length>1,z=!!l.target;if(!b||!h&&!(g||w&&!z))return;const x=(0,s.$d)(y);let C=!1,D=null,P=null;D=x&&!w?(0,t.LI)([l.minDataValue,l.maxDataValue]):null!==f&&void 0!==f?f:await M(l,y,o,null===i||void 0===i?void 0:i.type);const R=null===e||void 0===e?void 0:e.authoringInfo,q="univariate-color-size"===(null===R||void 0===R?void 0:R.type),E=q&&"above-and-below"===(null===R||void 0===R?void 0:R.univariateTheme),_=!!(0,a._l)(e);if(!D&&w&&(D=p.map((e=>e.value)),C=p.some((e=>!!e.label)),"flow"===e.type&&(D=(0,t.LI)(D)),C&&(P=p.map((e=>e.label)))),x&&null!=D&&(null===(c=D)||void 0===c?void 0:c.length)>2&&!E&&(D=[D[0],D[D.length-1]]),!D)return null;q&&5!==(null===(d=D)||void 0===d?void 0:d.length)&&(D=V({minSize:D[0],maxSize:D[D.length-1]}));const B=x?S(e,D):null,T=(0,s.k_)(y),$=C?null:function(e,l){const n=e.length-1;return e.map(((e,o)=>(0,a.Dd)(e,o,n,l)))}(D,r);return(await Promise.all(D.map((async(t,r)=>{var u;const s=x?B[r]:await O(l,y,t,o,null===i||void 0===i?void 0:i.type);return{value:t,symbol:!_||"class-breaks"!==e.type&&"unique-value"!==e.type?A(E&&"class-breaks"===e.type?I(e,r):y,s):null!==(u=k(e,s,l.maxSize,n))&&void 0!==u?u:y,label:C?P[r]:$[r],size:_?m:s,outlineSize:T}})))).reverse()}function S(e,l){const n=null===e||void 0===e?void 0:e.authoringInfo,o="univariate-color-size"===(null===n||void 0===n?void 0:n.type);let i=[y,f];if(o){const e=l[0],n=l[l.length-1],o=y,t=f;i=l.map((l=>o+(l-e)/(n-e)*(t-o)))}return o&&"below"===(null===n||void 0===n?void 0:n.univariateTheme)&&i.reverse(),i}function k(e,l,n,i){var t,u;const s="class-breaks"===e.type,a=s?null===(t=e.classBreakInfos)||void 0===t||null===(t=t[0])||void 0===t||null===(t=t.symbol)||void 0===t?void 0:t.clone():null===(u=e.uniqueValueInfos)||void 0===u||null===(u=u[0])||void 0===u||null===(u=u.symbol)||void 0===u?void 0:u.clone();return a&&"type"in a&&"cim"===a.type?((0,r.oz)(a,{color:null!==i&&void 0!==i?i:s?null:new o.A(b),innerDotSize:l*(m/n)||1,outerRingSize:m}),a):null}function I(e,l){const n=e.classBreakInfos,o=n.length,i=o<2||!(l>=2)?n[0].symbol.clone():n[o-1].symbol.clone();return e.visualVariables.some((e=>"color"===e.type))&&(i.type.includes("3d")?x(i):C(i)),i}async function L(e,l){var n;if("flow"===e.type)return(0,a.Zo)(e,l);if("pie-chart"===e.type)return new d.A({color:null,outline:null!==(n=e.outline)&&void 0!==n&&n.width?e.outline:new v.A});let o=null,t=null;if("simple"===e.type)o=e.symbol;else if("class-breaks"===e.type){const l=e.classBreakInfos;o=l&&l[0]&&l[0].symbol,t=l.length>1}else if("unique-value"===e.type){var r;const l=e.uniqueValueInfos;o=null===l||void 0===l||null===(r=l[0])||void 0===r?void 0:r.symbol,t=null!=l&&l.length>1}return!o||function(e){if(e)return(0,i.wk)(e)?!!e.symbolLayers&&e.symbolLayers.some((e=>e&&"fill"===e.type)):e.type.includes("fill");return!1}(o)?null:(o=o.clone(),(l||t)&&(o.type.includes("3d")?x(o):C(o)),o)}function x(e){"line-3d"===e.type?e.symbolLayers.forEach((e=>{e.material={color:h}})):e.symbolLayers.forEach((e=>{var l;"icon"!==e.type||null!==(l=e.resource)&&void 0!==l&&l.href?e.material={color:b}:(e.material={color:p},e.outline={color:h,size:1.5})}))}function C(e){const l=(0,c.g4)();if("cim"===e.type)(0,u.Fe)(e,new o.A(b));else if(e.type.includes("line"))e.color=h;else if(e.color=l?h:p,"simple-marker"===e.type)if(e.outline){var n;"#ffffff"===(null===(n=e.outline)||void 0===n||null===(n=n.color)||void 0===n?void 0:n.toHex())&&(e.outline.color=h)}else e.outline={color:h,width:1.5}}async function M(e,l,o,i){const r=(await Promise.resolve().then(n.bind(n,15492))).getSizeRangeAtScale(e,o,i),u=r&&V(r);if(!r||!u)return;let s=u.map((l=>function(e,l,n){const o=n.minSize,i=n.maxSize,t=l.minDataValue,r=l.maxDataValue;let u;u=e<=o?t:e>=i?r:(e-o)/(i-o)*(r-t)+t;return u}(l,e,r)));s=(0,t.LI)(s);for(let n=1;n<s.length-1;n++){const t=await D(e,l,s[n],s[n-1],o,i);t&&(s[n]=t[0],u[n]=t[1])}return s}function V(e){const l=e.minSize,n=e.maxSize,o=w,i=(n-l)/(o-1),t=[];for(let r=0;r<o;r++)t.push(l+i*r);return t}async function D(e,l,n,o,i,r){const u=await O(e,l,n,i,r),s=await O(e,l,o,i,r),a=(0,t.lc)(n),c=a.fractional,d=g;let v=a.integer,f=null,y=null;n>0&&n<1&&(f=10**c,v=(0,t.lc)(n*=f).integer);for(let m=v-1;m>=0;m--){const o=10**m;let a=Math.floor(n/o)*o,c=Math.ceil(n/o)*o;null!=f&&(a/=f,c/=f);let v=(a+c)/2;[,v]=(0,t.LI)([a,v,c],{indexes:[1]});const p=await O(e,l,a,i,r),b=await O(e,l,c,i,r),h=await O(e,l,v,i,r),g=(0,t.u5)(u,p,s,null),w=(0,t.u5)(u,b,s,null),z=(0,t.u5)(u,h,s,null);let S=g.previous<=d,k=w.previous<=d;if(S&&k&&(g.previous<=w.previous?(S=!0,k=!1):(k=!0,S=!1)),S?y=[a,p]:k?y=[c,b]:z.previous<=d&&(y=[v,h]),y)break}return y}async function O(e,l,o,i,t){const{getSize:r}=await Promise.resolve().then(n.bind(n,15492));return r(e,o,{scale:i,view:t,shape:"simple-marker"===l.type?l.style:null})}function A(e,l){const n=e.clone();if((0,i.wk)(n))(0,s.$d)(n)||n.symbolLayers.forEach((e=>{"fill"!==e.type&&(e.size=l)}));else if(function(e){return"esri.symbols.SimpleMarkerSymbol"===e.declaredClass}(n))n.size=l;else if(function(e){return"esri.symbols.PictureMarkerSymbol"===e.declaredClass}(n)){const e=n.width,o=n.height;n.height=l,n.width=l*(e/o)}else!function(e){return"esri.symbols.SimpleLineSymbol"===e.declaredClass}(n)?function(e){return"esri.symbols.TextSymbol"===e.declaredClass}(n)&&n.font&&(n.font.size=l):n.width=l;return n}}}]);
//# sourceMappingURL=1924.01d07a99.chunk.js.map