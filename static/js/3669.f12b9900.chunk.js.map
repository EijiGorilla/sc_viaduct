{"version":3,"file":"static/js/3669.f12b9900.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/VoxelGraphic.js","../node_modules/@arcgis/core/views/3d/layers/VoxelLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import o from\"../../../Graphic.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{constructor(r){super(r),this.gpuResult=null}};r([s({constructOnly:!0,clonable:\"reference\"})],t.prototype,\"gpuResult\",void 0),t=r([e(\"esri.views.3d.layers.VoxelGraphic\")],t);export{t as VoxelGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import s from\"../../../core/Error.js\";import t from\"../../../core/Logger.js\";import{watch as i,initial as r}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{e as l,n,i as h}from\"../../../chunks/vec32.js\";import{create as c}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectVectorToVector as d}from\"../../../geometry/projection/projectVectorToVector.js\";import{empty as u,expandWithVec3 as m}from\"../../../geometry/support/aaBoundingBox.js\";import{equals as p}from\"../../../geometry/support/spatialReferenceUtils.js\";import{LayerView3D as y}from\"./LayerView3D.js\";import{VoxelGraphic as b}from\"./VoxelGraphic.js\";import{addLayerViewToWasm as V,removeLayerViewFromWasm as _,getVoxelWasm as w}from\"./VoxelWasm.js\";import{LayerViewPerformanceInfo as f}from\"./support/LayerViewPerformanceInfo.js\";import{PopupSceneLayerView as g}from\"./support/PopupSceneLayerView.js\";import S from\"../../layers/LayerView.js\";import{spatialReferenceIncompatibleError as v,isInEffectiveScaleRange as W}from\"../../support/layerViewUtils.js\";import T from\"../../../geometry/SpatialReference.js\";var x;!function(e){e[e.API=1]=\"API\",e[e.VerboseAPI=2]=\"VerboseAPI\",e[e.Error=3]=\"Error\"}(x||(x={}));const L=c(),A=c();let E=class extends(g(y(S))){constructor(){super(...arguments),this._suspendedHandle=null,this._usedMemory=0,this._futureMemory=0,this.type=\"voxel-3d\",this.slicePlaneEnabled=!1,this._wasmLayerId=-1,this.ignoresMemoryFactor=!0,this._dbgFlags=new Set}get baseUrl(){return this.layer.parsedUrl?.path??\"\"}get wasmLayerId(){return this._wasmLayerId}initialize(){if(this._dbgFlags.add(x.Error),\"local\"!==this.view.viewingMode)throw new s(\"voxel:unsupported-viewingMode\",\"Voxel layers support local viewingMode only.\",{});if(!!!this.view._stage.renderView.renderingContext.capabilities.colorBufferFloat?.textureFloat)throw new s(\"voxel:missing-color-buffer-float\",\"Voxel layers require the WebGL2 extension EXT_color_buffer_float\",{});const e=this.layer.spatialReference;if(!p(e,this.view.spatialReference))throw v(\"voxel layer\",e.wkid,this.view.spatialReference.wkid);const t=this.layer.currentVariableId,o=this.layer.getVolume(t),a=this.layer.getVariable(t);if(null!=o&&null!=a){const e=o.dimensions[0],s=o.dimensions[1],t=o.zDimension;if(t>1){const i=o.dimensions[t],r=e.size*s.size*i.size;let l=1;switch(a.renderingFormat.type){case\"Int16\":case\"UInt16\":l=2;break;case\"Int32\":case\"UInt32\":case\"Float32\":l=4}this._futureMemory=l*r}}const l=V(this).then((e=>{this._wasmLayerId=e,this._suspendedHandle=i((()=>this.suspended),(e=>{const s=w(this.view);s&&s.setEnabled(this,!e)}),r),this.addHandles([i((()=>this.layer.renderMode),(e=>this._pushRenderModeToWasm(e))),i((()=>this.layer.currentVariableId),(e=>this._pushCurrentVariableIdToWasm(e))),i((()=>this.layer.getSections()),(e=>this._pushSectionsToWasm(e))),i((()=>this.layer.getVariableStyles()),(e=>this._pushVariableStylesToWasm(e))),i((()=>this.layer.getVolumeStyles()),(e=>this._pushVolumeStylesToWasm(e))),i((()=>this.layer.enableDynamicSections),(e=>this._pushEnableDynamicSectionsToWasm(e))),i((()=>this.layer.enableIsosurfaces),(e=>this._pushEnableIsosurfacesToWasm(e))),i((()=>this.layer.enableSections),(e=>this._pushEnableSectionsToWasm(e))),i((()=>this.layer.enableSlices),(e=>this._pushEnableSlicesToWasm(e))),i((()=>[this.layer.timeOffset,this.layer.timeExtent,this.layer.useViewTime]),(()=>this._updateLayerTimeProperties())),i((()=>this.slicePlaneEnabled),(e=>this._pushAnalysisSliceToWasm(e,this.view.slicePlane))),i((()=>this.view.slicePlane),(e=>this._pushAnalysisSliceToWasm(this.slicePlaneEnabled,e)))])})).catch((e=>{if(_(this),this._wasmLayerId=-1,-1===e)throw new s(\"voxel:addLayer-failure\",\"The voxel layer description was invalid.\",{});if(-2===e)throw new s(\"voxel:addLayer-failure\",\"The voxel layer web assembly module failed to download.\",{})}));this.addResolvingPromise(l)}destroy(){_(this),this._suspendedHandle&&(this._suspendedHandle.remove(),this._suspendedHandle=null)}isUpdating(){const e=w(this.view);return!(this._wasmLayerId<0||null==e)&&e.isUpdating(this._wasmLayerId)}updatingFlagChanged(){this.notifyChange(\"updating\")}get usedMemory(){return this._usedMemory}get unloadedMemory(){return this._futureMemory}get performanceInfo(){return new f(this.usedMemory)}get visibleAtCurrentScale(){return W(this.layer.effectiveScaleRange,this.view.scale)}whenGraphicBounds(e,s){const t=e.attributes[\"Voxel.WorldPosition\"];if(t){const e=u(),s=JSON.parse(t);if(d(s,this.view.renderSpatialReference,A,this.view.spatialReference||T.WGS84))return m(e,A),Promise.resolve({boundingBox:e,screenSpaceObjects:[]})}return Promise.reject()}async whenGraphicAttributes(e,s){const t=w(this.view);if(!t)return e;const i=[];for(const r of e)this._isValidVoxelGraphic(r)&&i.push(r);return i.length&&await t.getOtherFieldPopupValues(i,s),e}_isValidVoxelGraphic(e){return e instanceof b}setUsedMemory(e){this._usedMemory=e,this._futureMemory=0}captureFrustum(){const e=w(this.view);e?.captureFrustum()}toggleFullVolumeExtentDraw(){const e=w(this.view);e?.toggleFullVolumeExtentDraw(this)}getLayerTimes(){const e=w(this.view);return e?.getLayerTimes(this)??[]}getCurrentLayerTimeIndex(){const e=w(this.view);return e?.getCurrentLayerTimeIndex(this)??0}dropQueryRenderTarget(){const e=w(this.view);e?.dropQueryRenderTarget()}_pushRenderModeToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushRenderModeToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setRenderMode(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushRenderModeToWasm() failed!\")}_pushSectionsToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushSectionsToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setStaticSections(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushSectionsToWasm() failed!\")}_pushCurrentVariableIdToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushCurrentVariableIdToWasm() called!, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setCurrentVariable(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushCurrentVariableIdToWasm() failed!\")}_pushVariableStylesToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushVariableStylesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setVariableStyles(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushVariableStylesToWasm() failed!\")}_accountForEnableSlices(e,s){const t=null!=s?s:this.layer.enableSlices;for(let i=0;i<e.length;++i){const s=e[i];for(const e of s.slices)e.enabled=e.enabled&&t}}_pushVolumeStylesToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushVolumeStylesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s&&(this._accountForEnableSlices(e,null),s.setVolumeStyles(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushVolumeStylesToWasm() failed!\"))}_pushAnalysisSliceToWasm(e,s){const t=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushAnalysisSliceToWasm() called, \"+(t?\"have WASM\":\"don't have WASM!!!\"));let i=!1;if(t){if(s){const r=s.origin;l(L,s.basis1,s.basis2),n(L,L),i=t.setAnalysisSlice(this,e,r,L)}else h(L,0,0,1),i=t.setAnalysisSlice(this,!1,L,L);i||this._dbg(x.Error,\"VoxelLayerView3D._pushAnalysisSliceToWasm() failed!\")}}_updateLayerTimeProperties(){const e=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._updateLayerTimeProperties() called, \"+(e?\"have WASM\":\"don't have WASM!!!\")),e&&e.updateLayerTimeProperties(this)}_pushEnableDynamicSectionsToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushEnableDynamicSectionsToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setEnableDynamicSections(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushEnableDynamicSectionsToWasm() failed!\")}_pushEnableSlicesToWasm(e){const s=w(this.view);if(this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushEnableSlicesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s){const t=this.layer.getVolumeStyles();this._accountForEnableSlices(t,e),s.setVolumeStyles(this,t)||this._dbg(x.Error,\"VoxelLayerView3D._pushEnableSlicesToWasm() failed!\")}}_pushEnableIsosurfacesToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushEnableIsosurfacesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setEnableIsosurfaces(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushEnableIsosurfacesToWasm() failed!\")}_pushEnableSectionsToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushEnableSectionsToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setEnableSections(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushEnableSectionsToWasm() failed!\")}_dbg(e,s){this._dbgFlags.has(e)&&(e===x.Error?t.getLogger(this).error(s):t.getLogger(this).warn(s))}};e([o()],E.prototype,\"layer\",void 0),e([o()],E.prototype,\"baseUrl\",null),e([o({type:Boolean})],E.prototype,\"slicePlaneEnabled\",void 0),e([o({readOnly:!0})],E.prototype,\"visibleAtCurrentScale\",null),E=e([a(\"esri.views.3d.layers.VoxelLayerView3D\")],E);const M=E;export{M as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Error.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as s,populateMissingFields as a}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as o,getRequiredFields as p}from\"../../../layers/support/popupUtils.js\";const i=i=>{let c=class extends i{_validateFetchPopupFeatures(e){const{layer:r}=this,{popupEnabled:s}=r;if(!s)throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:r});if(!o(r,e))throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:r})}async prepareFetchPopupFeatures(e){}async fetchPopupFeaturesFromGraphics(e,t){if(this._validateFetchPopupFeatures(t),0===e.length)return[];const r=\"scene\"===this.layer.type&&null!=this.layer.associatedLayer?this.layer.associatedLayer:this.layer;let i=[];\"fieldsIndex\"in this.layer&&(i=s(this.layer.fieldsIndex,await p(r,o(this.layer,t)))),await this.prepareFetchPopupFeatures(i);const c=new Set,n=[],l=[];for(const s of e)a(i,s,c)?l.push(s):n.push(s);if(0===l.length)return n;const u=new Map;for(let s=0;s<e.length;s++)u.set(e[s].getObjectId()??0,s);const h=await this.whenGraphicAttributes(l,[...c]).catch((()=>l)).then((e=>n.concat(e)));return h.sort(((e,t)=>{const r=e.getObjectId()??0,s=u.get(r)??0,a=t.getObjectId()??0;return s-(u.get(a)??0)})),h}};return c=e([r(\"esri.views.3d.layers.support.PopupSceneLayerView\")],c),c};export{i as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i(l(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n"],"names":["l","n","constructor","super","arguments","this","slicePlaneEnabled","supportsHeightUnitConversion","postscript","p","layer","addResolvingPromise","_validateHeightModelInfo","o","AbortController","r","signal","addHandles","s","abort","t","_this$view$defaultsFr","view","defaultsFromMap","heightModelInfoReady","e","i","a","heightModelInfo","prototype","gpuResult","constructOnly","clonable","x","API","VerboseAPI","Error","L","c","A","E","g","y","S","_suspendedHandle","_usedMemory","_futureMemory","type","_wasmLayerId","ignoresMemoryFactor","_dbgFlags","Set","baseUrl","_this$layer$parsedUrl","_this$layer$parsedUrl2","parsedUrl","path","wasmLayerId","initialize","_this$view$_stage$ren","add","viewingMode","_stage","renderView","renderingContext","capabilities","colorBufferFloat","textureFloat","spatialReference","v","wkid","currentVariableId","getVolume","getVariable","dimensions","zDimension","size","renderingFormat","V","then","suspended","w","setEnabled","renderMode","_pushRenderModeToWasm","_pushCurrentVariableIdToWasm","getSections","_pushSectionsToWasm","getVariableStyles","_pushVariableStylesToWasm","getVolumeStyles","_pushVolumeStylesToWasm","enableDynamicSections","_pushEnableDynamicSectionsToWasm","enableIsosurfaces","_pushEnableIsosurfacesToWasm","enableSections","_pushEnableSectionsToWasm","enableSlices","_pushEnableSlicesToWasm","timeOffset","timeExtent","useViewTime","_updateLayerTimeProperties","_pushAnalysisSliceToWasm","slicePlane","catch","_","destroy","remove","isUpdating","updatingFlagChanged","notifyChange","usedMemory","unloadedMemory","performanceInfo","f","visibleAtCurrentScale","W","effectiveScaleRange","scale","whenGraphicBounds","attributes","u","JSON","parse","d","renderSpatialReference","T","WGS84","m","Promise","resolve","boundingBox","screenSpaceObjects","reject","whenGraphicAttributes","_isValidVoxelGraphic","push","length","getOtherFieldPopupValues","b","setUsedMemory","captureFrustum","toggleFullVolumeExtentDraw","getLayerTimes","_e$getLayerTimes","getCurrentLayerTimeIndex","_e$getCurrentLayerTim","dropQueryRenderTarget","_dbg","setRenderMode","setStaticSections","setCurrentVariable","setVariableStyles","_accountForEnableSlices","slices","enabled","setVolumeStyles","origin","basis1","basis2","setAnalysisSlice","h","updateLayerTimeProperties","setEnableDynamicSections","setEnableIsosurfaces","setEnableSections","has","getLogger","error","warn","Boolean","readOnly","M","_validateFetchPopupFeatures","popupEnabled","prepareFetchPopupFeatures","fetchPopupFeaturesFromGraphics","associatedLayer","fieldsIndex","Map","_e$s$getObjectId","set","getObjectId","concat","sort","_e$getObjectId","_u$get","_t$getObjectId","_u$get2","get","EventedMixin","_updatingHandles","parent","when","name","_this$layer","id","title","fullOpacity","_this$layer$opacity","_this$layer2","_this$parent$fullOpac","_this$parent","opacity","destroyed","canResume","suspendInfo","getSuspendInfo","legendEnabled","_this$layer3","updating","_this$_updatingHandle","updatingProgress","updateSuspended","visible","_this$layer4","_overrideIfSome","visibleAtCurrentTimeExtent","_this$layer5","visibilityTimeExtent","intersection","isEmpty","_this$layer6","_this$parent2","_this$view","loaded","ready","_this$parent3","_t$view","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible"],"sourceRoot":""}