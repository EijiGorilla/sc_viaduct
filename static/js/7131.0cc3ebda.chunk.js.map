{"version":3,"file":"static/js/7131.0cc3ebda.chunk.js","mappings":"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","sources":["../node_modules/@esri/calcite-components/dist/components/src/components/dropdown/resources.ts","../node_modules/@esri/calcite-components/dist/components/src/components/dropdown/dropdown.tsx","../node_modules/@esri/calcite-components/dist/components/src/components/dropdown/dropdown.scss?tag=calcite-dropdown&encapsulation=shadow"],"sourcesContent":["export const SLOTS = {\n  dropdownTrigger: \"trigger\",\n};\n","import {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Listen,\n  Method,\n  Prop,\n  VNode,\n  Watch,\n} from \"@stencil/core\";\nimport {\n  focusElement,\n  focusElementInGroup,\n  focusFirstTabbable,\n  toAriaBoolean,\n} from \"../../utils/dom\";\nimport {\n  connectFloatingUI,\n  defaultMenuPlacement,\n  disconnectFloatingUI,\n  filterValidFlipPlacements,\n  FlipPlacement,\n  FloatingCSS,\n  FloatingUIComponent,\n  MenuPlacement,\n  OverlayPositioning,\n  reposition,\n} from \"../../utils/floating-ui\";\nimport { guid } from \"../../utils/guid\";\nimport {\n  InteractiveComponent,\n  InteractiveContainer,\n  updateHostInteraction,\n} from \"../../utils/interactive\";\nimport { isActivationKey } from \"../../utils/key\";\nimport {\n  componentFocusable,\n  LoadableComponent,\n  setComponentLoaded,\n  setUpLoadableComponent,\n} from \"../../utils/loadable\";\nimport { createObserver } from \"../../utils/observers\";\nimport { onToggleOpenCloseComponent, OpenCloseComponent } from \"../../utils/openCloseComponent\";\nimport { RequestedItem } from \"../dropdown-group/interfaces\";\nimport { Scale } from \"../interfaces\";\nimport { ItemKeyboardEvent } from \"./interfaces\";\nimport { SLOTS } from \"./resources\";\n\n/**\n * @slot - A slot for adding `calcite-dropdown-group` elements. Every `calcite-dropdown-item` must have a parent `calcite-dropdown-group`, even if the `groupTitle` property is not set.\n * @slot trigger - A slot for the element that triggers the `calcite-dropdown`.\n */\n@Component({\n  tag: \"calcite-dropdown\",\n  styleUrl: \"dropdown.scss\",\n  shadow: {\n    delegatesFocus: true,\n  },\n})\nexport class Dropdown\n  implements InteractiveComponent, LoadableComponent, OpenCloseComponent, FloatingUIComponent\n{\n  //--------------------------------------------------------------------------\n  //\n  //  Public Properties\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * When `true`, displays and positions the component.\n   */\n  @Prop({ reflect: true, mutable: true }) open = false;\n\n  @Watch(\"open\")\n  openHandler(): void {\n    onToggleOpenCloseComponent(this);\n\n    if (this.disabled) {\n      this.open = false;\n      return;\n    }\n\n    this.reposition(true);\n  }\n\n  /**\n   * When `true`, the component will remain open after a selection is made.\n   *\n   * If the `selectionMode` of the selected `calcite-dropdown-item`'s containing `calcite-dropdown-group` is `\"none\"`, the component will always close.\n   *\n   */\n  @Prop({ reflect: true }) closeOnSelectDisabled = false;\n\n  /**\n   * When `true`, interaction is prevented and the component is displayed with lower opacity.\n   */\n  @Prop({ reflect: true }) disabled = false;\n\n  @Watch(\"disabled\")\n  handleDisabledChange(value: boolean): void {\n    if (!value) {\n      this.open = false;\n    }\n  }\n\n  /**\n   * Specifies the component's fallback `calcite-dropdown-item` `placement` when it's initial or specified `placement` has insufficient space available.\n   */\n  @Prop() flipPlacements: FlipPlacement[];\n\n  @Watch(\"flipPlacements\")\n  flipPlacementsHandler(): void {\n    this.setFilteredPlacements();\n    this.reposition(true);\n  }\n\n  /**\n   * Specifies the maximum number of `calcite-dropdown-item`s to display before showing a scroller.\n   * Value must be greater than `0`, and does not include `groupTitle`'s from `calcite-dropdown-group`.\n   */\n  @Prop({ reflect: true }) maxItems = 0;\n\n  @Watch(\"maxItems\")\n  maxItemsHandler(): void {\n    this.setMaxScrollerHeight();\n  }\n\n  /**\n   * Determines the type of positioning to use for the overlaid content.\n   *\n   * Using `\"absolute\"` will work for most cases. The component will be positioned inside of overflowing parent containers and will affect the container's layout.\n   *\n   * `\"fixed\"` should be used to escape an overflowing parent container, or when the reference element's `position` CSS property is `\"fixed\"`.\n   *\n   */\n  @Prop({ reflect: true }) overlayPositioning: OverlayPositioning = \"absolute\";\n\n  @Watch(\"overlayPositioning\")\n  overlayPositioningHandler(): void {\n    this.reposition(true);\n  }\n\n  /**\n   * Determines where the component will be positioned relative to the container element.\n   *\n   * @default \"bottom-start\"\n   */\n  @Prop({ reflect: true }) placement: MenuPlacement = defaultMenuPlacement;\n\n  @Watch(\"placement\")\n  placementHandler(): void {\n    this.reposition(true);\n  }\n\n  /**\n   * Specifies the component's selected items.\n   *\n   * @readonly\n   */\n  @Prop({ mutable: true }) selectedItems: HTMLCalciteDropdownItemElement[] = [];\n\n  /**\n   * Specifies the action to open the component from the container element.\n   */\n  @Prop({ reflect: true }) type: \"hover\" | \"click\" = \"click\";\n\n  /**\n   * Specifies the width of the component.\n   */\n  @Prop({ reflect: true }) widthScale: Scale;\n\n  /** Specifies the size of the component. */\n  @Prop({ reflect: true }) scale: Scale = \"m\";\n\n  @Watch(\"scale\")\n  handlePropsChange(): void {\n    this.updateItems();\n    this.updateGroupScale();\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n\n  /** Sets focus on the component's first focusable element. */\n  @Method()\n  async setFocus(): Promise<void> {\n    await componentFocusable(this);\n    focusFirstTabbable(this.referenceEl);\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n\n  connectedCallback(): void {\n    this.mutationObserver?.observe(this.el, { childList: true, subtree: true });\n    this.setFilteredPlacements();\n    if (this.open) {\n      this.openHandler();\n      onToggleOpenCloseComponent(this);\n    }\n    this.updateItems();\n    connectFloatingUI(this, this.referenceEl, this.floatingEl);\n  }\n\n  componentWillLoad(): void {\n    setUpLoadableComponent(this);\n  }\n\n  componentDidLoad(): void {\n    setComponentLoaded(this);\n    connectFloatingUI(this, this.referenceEl, this.floatingEl);\n  }\n\n  componentDidRender(): void {\n    updateHostInteraction(this);\n  }\n\n  disconnectedCallback(): void {\n    this.mutationObserver?.disconnect();\n    this.resizeObserver?.disconnect();\n    disconnectFloatingUI(this, this.referenceEl, this.floatingEl);\n  }\n\n  render(): VNode {\n    const { open, guid } = this;\n    return (\n      <Host>\n        <InteractiveContainer disabled={this.disabled}>\n          <div\n            class=\"calcite-trigger-container\"\n            id={`${guid}-menubutton`}\n            onClick={this.toggleDropdown}\n            onKeyDown={this.keyDownHandler}\n            ref={this.setReferenceEl}\n          >\n            <slot\n              aria-controls={`${guid}-menu`}\n              aria-expanded={toAriaBoolean(open)}\n              aria-haspopup=\"menu\"\n              name={SLOTS.dropdownTrigger}\n              onSlotchange={this.updateTriggers}\n            />\n          </div>\n          <div\n            aria-hidden={toAriaBoolean(!open)}\n            class=\"calcite-dropdown-wrapper\"\n            ref={this.setFloatingEl}\n          >\n            <div\n              aria-labelledby={`${guid}-menubutton`}\n              class={{\n                [\"calcite-dropdown-content\"]: true,\n                [FloatingCSS.animation]: true,\n                [FloatingCSS.animationActive]: open,\n              }}\n              id={`${guid}-menu`}\n              ref={this.setScrollerAndTransitionEl}\n              role=\"menu\"\n            >\n              <slot onSlotchange={this.updateGroups} />\n            </div>\n          </div>\n        </InteractiveContainer>\n      </Host>\n    );\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * Updates the position of the component.\n   *\n   * @param delayed\n   */\n  @Method()\n  async reposition(delayed = false): Promise<void> {\n    const { floatingEl, referenceEl, placement, overlayPositioning, filteredFlipPlacements } = this;\n\n    return reposition(\n      this,\n      {\n        floatingEl,\n        referenceEl,\n        overlayPositioning,\n        placement,\n        flipPlacements: filteredFlipPlacements,\n        type: \"menu\",\n      },\n      delayed,\n    );\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Events\n  //\n  //--------------------------------------------------------------------------\n\n  /** Fires when a `calcite-dropdown-item`'s selection changes. */\n  @Event({ cancelable: false }) calciteDropdownSelect: EventEmitter<void>;\n\n  /** Fires when the component is requested to be closed and before the closing transition begins. */\n  @Event({ cancelable: false }) calciteDropdownBeforeClose: EventEmitter<void>;\n\n  /** Fires when the component is closed and animation is complete. */\n  @Event({ cancelable: false }) calciteDropdownClose: EventEmitter<void>;\n\n  /** Fires when the component is added to the DOM but not rendered, and before the opening transition begins. */\n  @Event({ cancelable: false }) calciteDropdownBeforeOpen: EventEmitter<void>;\n\n  /** Fires when the component is open and animation is complete. */\n  @Event({ cancelable: false }) calciteDropdownOpen: EventEmitter<void>;\n\n  @Listen(\"click\", { target: \"window\" })\n  closeCalciteDropdownOnClick(event: PointerEvent): void {\n    if (this.disabled || !this.open || event.composedPath().includes(this.el)) {\n      return;\n    }\n\n    this.closeCalciteDropdown(false);\n  }\n\n  @Listen(\"calciteInternalDropdownCloseRequest\")\n  closeCalciteDropdownOnEvent(event: Event): void {\n    this.closeCalciteDropdown();\n    event.stopPropagation();\n  }\n\n  @Listen(\"calciteDropdownOpen\", { target: \"window\" })\n  closeCalciteDropdownOnOpenEvent(event: Event): void {\n    if (event.composedPath().includes(this.el)) {\n      return;\n    }\n\n    this.open = false;\n  }\n\n  @Listen(\"pointerenter\")\n  pointerEnterHandler(): void {\n    if (this.disabled || this.type !== \"hover\") {\n      return;\n    }\n\n    this.toggleDropdown();\n  }\n\n  @Listen(\"pointerleave\")\n  pointerLeaveHandler(): void {\n    if (this.disabled || this.type !== \"hover\") {\n      return;\n    }\n\n    this.closeCalciteDropdown();\n  }\n\n  private getTraversableItems(): HTMLCalciteDropdownItemElement[] {\n    return this.items.filter((item) => !item.disabled && !item.hidden);\n  }\n\n  @Listen(\"calciteInternalDropdownItemKeyEvent\")\n  calciteInternalDropdownItemKeyEvent(event: CustomEvent<ItemKeyboardEvent>): void {\n    const { keyboardEvent } = event.detail;\n    const target = keyboardEvent.target as HTMLCalciteDropdownItemElement;\n    const traversableItems = this.getTraversableItems();\n\n    switch (keyboardEvent.key) {\n      case \"Tab\":\n        this.open = false;\n        this.updateTabIndexOfItems(target);\n        break;\n      case \"ArrowDown\":\n        focusElementInGroup(traversableItems, target, \"next\");\n        break;\n      case \"ArrowUp\":\n        focusElementInGroup(traversableItems, target, \"previous\");\n        break;\n      case \"Home\":\n        focusElementInGroup(traversableItems, target, \"first\");\n        break;\n      case \"End\":\n        focusElementInGroup(traversableItems, target, \"last\");\n        break;\n    }\n\n    event.stopPropagation();\n  }\n\n  @Listen(\"calciteInternalDropdownItemSelect\")\n  handleItemSelect(event: CustomEvent<RequestedItem>): void {\n    this.updateSelectedItems();\n    event.stopPropagation();\n    this.calciteDropdownSelect.emit();\n    if (\n      !this.closeOnSelectDisabled ||\n      event.detail.requestedDropdownGroup.selectionMode === \"none\"\n    ) {\n      this.closeCalciteDropdown();\n    }\n    event.stopPropagation();\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private State/Props\n  //\n  //--------------------------------------------------------------------------\n\n  @Element() el: HTMLCalciteDropdownElement;\n\n  filteredFlipPlacements: FlipPlacement[];\n\n  private items: HTMLCalciteDropdownItemElement[] = [];\n\n  private groups: HTMLCalciteDropdownGroupElement[] = [];\n\n  /** trigger elements */\n  private triggers: HTMLElement[];\n\n  floatingEl: HTMLDivElement;\n\n  referenceEl: HTMLDivElement;\n\n  private scrollerEl: HTMLDivElement;\n\n  mutationObserver = createObserver(\"mutation\", () => this.updateItems());\n\n  resizeObserver = createObserver(\"resize\", (entries) => this.resizeObserverCallback(entries));\n\n  openTransitionProp = \"opacity\";\n\n  transitionEl: HTMLDivElement;\n\n  guid = `calcite-dropdown-${guid()}`;\n\n  private focusLastDropdownItem = false;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  //--------------------------------------------------------------------------\n\n  setFilteredPlacements = (): void => {\n    const { el, flipPlacements } = this;\n\n    this.filteredFlipPlacements = flipPlacements\n      ? filterValidFlipPlacements(flipPlacements, el)\n      : null;\n  };\n\n  updateTriggers = (event: Event): void => {\n    this.triggers = (event.target as HTMLSlotElement).assignedElements({\n      flatten: true,\n    }) as HTMLElement[];\n\n    this.reposition(true);\n  };\n\n  updateItems = (): void => {\n    this.items = this.groups\n      .map((group) => Array.from(group?.querySelectorAll(\"calcite-dropdown-item\")))\n      .reduce((previousValue, currentValue) => [...previousValue, ...currentValue], []);\n\n    this.updateSelectedItems();\n\n    this.reposition(true);\n\n    this.items.forEach((item) => (item.scale = this.scale));\n  };\n\n  updateGroups = (event: Event): void => {\n    const groups = (event.target as HTMLSlotElement)\n      .assignedElements({ flatten: true })\n      .filter((el): el is HTMLCalciteDropdownGroupElement => el?.matches(\"calcite-dropdown-group\"));\n\n    this.groups = groups;\n\n    this.updateItems();\n    this.updateGroupScale();\n  };\n\n  private updateGroupScale(): void {\n    this.groups?.forEach((group) => (group.scale = this.scale));\n  }\n\n  resizeObserverCallback = (entries: ResizeObserverEntry[]): void => {\n    entries.forEach((entry) => {\n      const { target } = entry;\n      if (target === this.referenceEl) {\n        this.setDropdownWidth();\n      } else if (target === this.scrollerEl) {\n        this.setMaxScrollerHeight();\n      }\n    });\n  };\n\n  setDropdownWidth = (): void => {\n    const { referenceEl, scrollerEl } = this;\n    const referenceElWidth = referenceEl?.clientWidth;\n\n    if (!referenceElWidth || !scrollerEl) {\n      return;\n    }\n\n    scrollerEl.style.minWidth = `${referenceElWidth}px`;\n  };\n\n  setMaxScrollerHeight = (): void => {\n    const { scrollerEl } = this;\n    if (!scrollerEl) {\n      return;\n    }\n\n    this.reposition(true);\n    const maxScrollerHeight = this.getMaxScrollerHeight();\n    scrollerEl.style.maxHeight = maxScrollerHeight > 0 ? `${maxScrollerHeight}px` : \"\";\n    this.reposition(true);\n  };\n\n  setScrollerAndTransitionEl = (el: HTMLDivElement): void => {\n    this.resizeObserver.observe(el);\n    this.scrollerEl = el;\n\n    this.transitionEl = el;\n  };\n\n  onBeforeOpen(): void {\n    this.calciteDropdownBeforeOpen.emit();\n  }\n\n  onOpen(): void {\n    this.calciteDropdownOpen.emit();\n  }\n\n  onBeforeClose(): void {\n    this.calciteDropdownBeforeClose.emit();\n  }\n\n  onClose(): void {\n    this.calciteDropdownClose.emit();\n  }\n\n  setReferenceEl = (el: HTMLDivElement): void => {\n    this.referenceEl = el;\n    connectFloatingUI(this, this.referenceEl, this.floatingEl);\n    this.resizeObserver.observe(el);\n  };\n\n  setFloatingEl = (el: HTMLDivElement): void => {\n    this.floatingEl = el;\n    connectFloatingUI(this, this.referenceEl, this.floatingEl);\n  };\n\n  private keyDownHandler = (event: KeyboardEvent): void => {\n    if (!event.composedPath().includes(this.referenceEl)) {\n      return;\n    }\n\n    const { defaultPrevented, key } = event;\n\n    if (defaultPrevented) {\n      return;\n    }\n\n    if (key === \"Escape\") {\n      this.closeCalciteDropdown();\n      event.preventDefault();\n      return;\n    }\n\n    if (this.open && event.shiftKey && key === \"Tab\") {\n      this.closeCalciteDropdown();\n      event.preventDefault();\n      return;\n    }\n\n    if (isActivationKey(key)) {\n      this.toggleDropdown();\n      event.preventDefault();\n    } else if (key === \"ArrowDown\" || key === \"ArrowUp\") {\n      this.focusLastDropdownItem = key === \"ArrowUp\";\n      this.open = true;\n      this.el.addEventListener(\"calciteDropdownOpen\", this.onOpenEnd);\n    }\n  };\n\n  private updateSelectedItems(): void {\n    this.selectedItems = this.items.filter((item) => item.selected);\n  }\n\n  private getMaxScrollerHeight(): number {\n    const { maxItems, items } = this;\n    let itemsToProcess = 0;\n    let maxScrollerHeight = 0;\n    let groupHeaderHeight: number;\n\n    this.groups.forEach((group) => {\n      if (maxItems > 0 && itemsToProcess < maxItems) {\n        Array.from(group.children).forEach((item: HTMLCalciteDropdownItemElement, index) => {\n          if (index === 0) {\n            if (isNaN(groupHeaderHeight)) {\n              groupHeaderHeight = item.offsetTop;\n            }\n\n            maxScrollerHeight += groupHeaderHeight;\n          }\n\n          if (itemsToProcess < maxItems) {\n            maxScrollerHeight += item.offsetHeight;\n            itemsToProcess += 1;\n          }\n        });\n      }\n    });\n\n    return items.length > maxItems ? maxScrollerHeight : 0;\n  }\n\n  private closeCalciteDropdown(focusTrigger = true) {\n    this.open = false;\n\n    if (focusTrigger) {\n      focusElement(this.triggers[0]);\n    }\n  }\n\n  private focusOnFirstActiveOrDefaultItem = (): void => {\n    const selectedItem = this.getTraversableItems().find((item) => item.selected);\n    const target: HTMLCalciteDropdownItemElement =\n      selectedItem ||\n      (this.focusLastDropdownItem ? this.items[this.items.length - 1] : this.items[0]);\n\n    this.focusLastDropdownItem = false;\n\n    if (!target) {\n      return;\n    }\n\n    focusElement(target);\n  };\n\n  private onOpenEnd = (): void => {\n    this.focusOnFirstActiveOrDefaultItem();\n    this.el.removeEventListener(\"calciteDropdownOpen\", this.onOpenEnd);\n  };\n\n  private toggleDropdown = () => {\n    this.open = !this.open;\n    if (this.open) {\n      this.el.addEventListener(\"calciteDropdownOpen\", this.onOpenEnd);\n    }\n  };\n\n  private updateTabIndexOfItems(target: HTMLCalciteDropdownItemElement): void {\n    this.items.forEach((item: HTMLCalciteDropdownItemElement) => {\n      item.tabIndex = target !== item ? -1 : 0;\n    });\n  }\n}\n","/**\n * CSS Custom Properties\n *\n * These properties can be overridden using the component's tag as selector.\n *\n * @prop --calcite-dropdown-width: Specifies the width of the component's wrapper.\n */\n\n:host {\n  @apply inline-block;\n}\n\n@include disabled();\n\n:host .calcite-dropdown-wrapper {\n  --calcite-floating-ui-z-index: theme(\"zIndex.dropdown\");\n  @include floating-ui-container();\n  @include floating-ui-wrapper();\n}\n\n@include floating-ui-elem-anim(\".calcite-dropdown-wrapper\");\n:host([open]) .calcite-dropdown-wrapper {\n  @include floating-ui-wrapper-active();\n}\n\n:host .calcite-dropdown-content {\n  @apply bg-foreground-1\n    w-auto\n    overflow-y-auto\n    overflow-x-hidden\n    max-h-menu;\n  inline-size: var(--calcite-dropdown-width);\n}\n.calcite-trigger-container {\n  @apply relative flex flex-auto h-full;\n  @include word-break;\n}\n\n@media (forced-colors: active) {\n  /* use real border since box-shadow is removed in high contrast mode */\n  :host([open]) .calcite-dropdown-wrapper {\n    border: 1px solid canvasText;\n  }\n}\n\n// width\n:host([width-scale=\"s\"]) {\n  --calcite-dropdown-width: theme(\"spacing.48\");\n}\n:host([width-scale=\"m\"]) {\n  --calcite-dropdown-width: theme(\"spacing.56\");\n}\n:host([width-scale=\"l\"]) {\n  --calcite-dropdown-width: theme(\"spacing.64\");\n}\n\n@include base-component();\n"],"names":["SLOTS","Dropdown","proxyCustomElement","HTMLElement","items","groups","mutationObserver","createObserver","this","updateItems","resizeObserver","entries","resizeObserverCallback","openTransitionProp","guid","concat","focusLastDropdownItem","setFilteredPlacements","el","flipPlacements","filteredFlipPlacements","filterValidFlipPlacements","updateTriggers","event","triggers","target","assignedElements","flatten","reposition","map","group","Array","from","querySelectorAll","reduce","previousValue","currentValue","updateSelectedItems","forEach","item","scale","updateGroups","filter","matches","updateGroupScale","entry","referenceEl","setDropdownWidth","scrollerEl","setMaxScrollerHeight","referenceElWidth","clientWidth","style","minWidth","maxScrollerHeight","getMaxScrollerHeight","maxHeight","setScrollerAndTransitionEl","observe","transitionEl","setReferenceEl","connectFloatingUI","floatingEl","setFloatingEl","keyDownHandler","composedPath","includes","defaultPrevented","key","open","shiftKey","closeCalciteDropdown","preventDefault","isActivationKey","toggleDropdown","addEventListener","onOpenEnd","focusOnFirstActiveOrDefaultItem","getTraversableItems","find","selected","length","focusElement","removeEventListener","defaultMenuPlacement","openHandler","onToggleOpenCloseComponent","disabled","handleDisabledChange","value","flipPlacementsHandler","maxItemsHandler","overlayPositioningHandler","placementHandler","handlePropsChange","setFocus","componentFocusable","focusFirstTabbable","connectedCallback","_this$mutationObserve","childList","subtree","componentWillLoad","setUpLoadableComponent","componentDidLoad","setComponentLoaded","componentDidRender","updateHostInteraction","disconnectedCallback","_this$mutationObserve2","_this$resizeObserver","disconnect","disconnectFloatingUI","render","h","Host","InteractiveContainer","class","id","onClick","onKeyDown","ref","toAriaBoolean","name","onSlotchange","FloatingCSS","animation","animationActive","role","delayed","arguments","undefined","placement","overlayPositioning","type","closeCalciteDropdownOnClick","closeCalciteDropdownOnEvent","stopPropagation","closeCalciteDropdownOnOpenEvent","pointerEnterHandler","pointerLeaveHandler","hidden","calciteInternalDropdownItemKeyEvent","keyboardEvent","detail","traversableItems","updateTabIndexOfItems","focusElementInGroup","handleItemSelect","calciteDropdownSelect","emit","closeOnSelectDisabled","requestedDropdownGroup","selectionMode","_this$groups","onBeforeOpen","calciteDropdownBeforeOpen","onOpen","calciteDropdownOpen","onBeforeClose","calciteDropdownBeforeClose","onClose","calciteDropdownClose","selectedItems","maxItems","groupHeaderHeight","itemsToProcess","children","index","isNaN","offsetTop","offsetHeight","focusTrigger","tabIndex"],"sourceRoot":""}