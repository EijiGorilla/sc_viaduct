{"version":3,"file":"static/js/5488.cef4abda.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/LaserlinePath.glsl.js","../node_modules/@arcgis/core/chunks/Laserlines.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlineTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathData.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlineTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserLineRenderer.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LaserlineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/PointVisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{translate as e}from\"../core/libs/gl-matrix-2/math/mat4.js\";import{create as t}from\"../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as o}from\"../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{Laserline as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js\";import{Float2PassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{FloatPassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as s,If as l}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Matrix4PassUniform as d}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js\";import{ShaderBuilder as c}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as v}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function m(t){const r=new c;r.include(a,t);const{vertex:m,fragment:g}=r;m.uniforms.add(new d(\"modelView\",((t,{camera:o})=>e(w,o.viewMatrix,t.origin))),new d(\"proj\",((e,{camera:t})=>t.projectionMatrix)),new n(\"glowWidth\",((e,{camera:t})=>e.glowWidth*t.pixelRatio)),new i(\"pixelToNDC\",((e,{camera:t})=>o(p,2/t.fullViewport[2],2/t.fullViewport[3])))),r.attributes.add(v.START,\"vec3\"),r.attributes.add(v.END,\"vec3\"),t.spherical&&(r.attributes.add(v.START_UP,\"vec3\"),r.attributes.add(v.END_UP,\"vec3\")),r.attributes.add(v.EXTRUDE,\"vec2\"),r.varyings.add(\"uv\",\"vec2\"),r.varyings.add(\"vViewStart\",\"vec3\"),r.varyings.add(\"vViewEnd\",\"vec3\"),r.varyings.add(\"vViewSegmentNormal\",\"vec3\"),r.varyings.add(\"vViewStartNormal\",\"vec3\"),r.varyings.add(\"vViewEndNormal\",\"vec3\");const f=!t.spherical;return m.main.add(s`\n    vec3 pos = mix(start, end, extrude.x);\n\n    vec4 viewPos = modelView * vec4(pos, 1);\n    vec4 projPos = proj * viewPos;\n    vec2 ndcPos = projPos.xy / projPos.w;\n\n    // in planar we hardcode the up vectors to be Z-up */\n    ${l(f,s`vec3 startUp = vec3(0, 0, 1);`)}\n    ${l(f,s`vec3 endUp = vec3(0, 0, 1);`)}\n\n    // up vector corresponding to the location of the vertex, selecting either startUp or endUp */\n    vec3 up = extrude.y * mix(startUp, endUp, extrude.x);\n    vec3 viewUp = (modelView * vec4(up, 0)).xyz;\n\n    vec4 projPosUp = proj * vec4(viewPos.xyz + viewUp, 1);\n    vec2 projUp = normalize(projPosUp.xy / projPosUp.w - ndcPos);\n\n    // extrude ndcPos along projUp to the edge of the screen\n    vec2 lxy = abs(sign(projUp) - ndcPos);\n    ndcPos += length(lxy) * projUp;\n\n    vViewStart = (modelView * vec4(start, 1)).xyz;\n    vViewEnd = (modelView * vec4(end, 1)).xyz;\n\n    vec3 viewStartEndDir = vViewEnd - vViewStart;\n\n    vec3 viewStartUp = (modelView * vec4(startUp, 0)).xyz;\n\n    // the normal of the plane that aligns with the segment and the up vector\n    vViewSegmentNormal = normalize(cross(viewStartUp, viewStartEndDir));\n\n    // the normal orthogonal to the segment normal and the start up vector\n    vViewStartNormal = -normalize(cross(vViewSegmentNormal, viewStartUp));\n\n    // the normal orthogonal to the segment normal and the end up vector\n    vec3 viewEndUp = (modelView * vec4(endUp, 0)).xyz;\n    vViewEndNormal = normalize(cross(vViewSegmentNormal, viewEndUp));\n\n    // Add enough padding in the X screen space direction for \"glow\"\n    float xPaddingPixels = sign(dot(vViewSegmentNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;\n    ndcPos.x += xPaddingPixels * pixelToNDC.x;\n\n    // uv is used to read back depth to reconstruct the position at the fragment\n    uv = ndcPos * 0.5 + 0.5;\n\n    gl_Position = vec4(ndcPos, 0, 1);\n  `),g.uniforms.add(new n(\"perScreenPixelRatio\",((e,t)=>t.camera.perScreenPixelRatio))),g.code.add(s`float planeDistance(vec3 planeNormal, vec3 planeOrigin, vec3 pos) {\nreturn dot(planeNormal, pos - planeOrigin);\n}\nfloat segmentDistancePixels(vec3 segmentNormal, vec3 startNormal, vec3 endNormal, vec3 pos, vec3 start, vec3 end) {\nfloat distSegmentPlane = planeDistance(segmentNormal, start, pos);\nfloat distStartPlane = planeDistance(startNormal, start, pos);\nfloat distEndPlane = planeDistance(endNormal, end, pos);\nfloat dist = max(max(distStartPlane, distEndPlane), abs(distSegmentPlane));\nfloat width = fwidth(distSegmentPlane);\nfloat maxPixelDistance = length(pos) * perScreenPixelRatio * 2.0;\nfloat pixelDist = dist / min(width, maxPixelDistance);\nreturn abs(pixelDist);\n}`),g.main.add(s`fragColor = vec4(0.0);\nvec3 dEndStart = vViewEnd - vViewStart;\nif (dot(dEndStart, dEndStart) < 1e-5) {\nreturn;\n}\nvec3 pos;\nvec3 normal;\nfloat angleCutoffAdjust;\nfloat depthDiscontinuityAlpha;\nif (!laserlineReconstructFromDepth(pos, normal, angleCutoffAdjust, depthDiscontinuityAlpha)) {\nreturn;\n}\nfloat distance = segmentDistancePixels(\nvViewSegmentNormal,\nvViewStartNormal,\nvViewEndNormal,\npos,\nvViewStart,\nvViewEnd\n);\nvec4 color = laserlineProfile(distance);\nfloat alpha = (1.0 - smoothstep(0.995 - angleCutoffAdjust, 0.999 - angleCutoffAdjust, abs(dot(normal, vViewSegmentNormal))));\nfragColor = laserlineOutput(color * alpha * depthDiscontinuityAlpha);`),r}const p=r(),w=t(),g=Object.freeze(Object.defineProperty({__proto__:null,build:m},Symbol.toStringTag,{value:\"Module\"}));export{g as L,m as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../core/mathUtils.js\";import{set as i}from\"../core/libs/gl-matrix-2/math/vec2.js\";import{create as t}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{d as n,n as a,l as o,j as r,t as l,c as s,e as c,g as d}from\"./vec32.js\";import{create as f}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{t as p}from\"./vec42.js\";import{create as g}from\"../core/libs/gl-matrix-2/factories/vec4f64.js\";import{pointAt as h}from\"../geometry/support/lineSegment.js\";import{create as m,fromPositionAndNormal as u}from\"../geometry/support/plane.js\";import{a as x,c as w}from\"./sphere.js\";import{Laserline as P}from\"../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js\";import{ScreenSpacePass as v}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{Float2PassUniform as b}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float3PassUniform as D}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{Float4PassUniform as M}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as S}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as C}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as L}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";const A=e(6);function j(e){const i=new L;i.include(v),i.include(P,e);const t=i.fragment;if(e.lineVerticalPlaneEnabled||e.heightManifoldEnabled)if(t.uniforms.add(new S(\"maxPixelDistance\",((i,t)=>e.heightManifoldEnabled?2*t.camera.computeScreenPixelSizeAt(i.heightManifoldTarget):2*t.camera.computeScreenPixelSizeAt(i.lineVerticalPlaneSegment.origin)))),t.code.add(C`float planeDistancePixels(vec4 plane, vec3 pos) {\nfloat dist = dot(plane.xyz, pos) + plane.w;\nfloat width = fwidth(dist);\ndist /= min(width, maxPixelDistance);\nreturn abs(dist);\n}`),e.spherical){const e=(e,i,t)=>l(e,i.heightManifoldTarget,t.camera.viewMatrix),i=(e,i)=>l(e,[0,0,0],i.camera.viewMatrix);t.uniforms.add(new M(\"heightManifoldOrigin\",((t,r)=>(e(R,t,r),i(F,r),n(F,F,R),a(G,F),G[3]=o(F),G))),new D(\"globalOrigin\",((e,t)=>i(R,t))),new S(\"cosSphericalAngleThreshold\",((e,i)=>1-Math.max(2,r(i.camera.eye,e.heightManifoldTarget)*i.camera.perRenderPixelRatio)/o(e.heightManifoldTarget)))),t.code.add(C`float globeDistancePixels(float posInGlobalOriginLength) {\nfloat dist = abs(posInGlobalOriginLength - heightManifoldOrigin.w);\nfloat width = fwidth(dist);\ndist /= min(width, maxPixelDistance);\nreturn abs(dist);\n}\nfloat heightManifoldDistancePixels(vec4 heightPlane, vec3 pos) {\nvec3 posInGlobalOriginNorm = normalize(globalOrigin - pos);\nfloat cosAngle = dot(posInGlobalOriginNorm, heightManifoldOrigin.xyz);\nvec3 posInGlobalOrigin = globalOrigin - pos;\nfloat posInGlobalOriginLength = length(posInGlobalOrigin);\nfloat sphericalDistance = globeDistancePixels(posInGlobalOriginLength);\nfloat planarDistance = planeDistancePixels(heightPlane, pos);\nreturn cosAngle < cosSphericalAngleThreshold ? sphericalDistance : planarDistance;\n}`)}else t.code.add(C`float heightManifoldDistancePixels(vec4 heightPlane, vec3 pos) {\nreturn planeDistancePixels(heightPlane, pos);\n}`);if(e.pointDistanceEnabled&&(t.uniforms.add(new S(\"maxPixelDistance\",((e,i)=>2*i.camera.computeScreenPixelSizeAt(e.pointDistanceTarget)))),t.code.add(C`float sphereDistancePixels(vec4 sphere, vec3 pos) {\nfloat dist = distance(sphere.xyz, pos) - sphere.w;\nfloat width = fwidth(dist);\ndist /= min(width, maxPixelDistance);\nreturn abs(dist);\n}`)),e.intersectsLineEnabled&&(t.uniforms.add(new S(\"perScreenPixelRatio\",((e,i)=>i.camera.perScreenPixelRatio))),t.code.add(C`float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {\nfloat dist = length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);\nreturn abs(dist) - radius;\n}`)),(e.lineVerticalPlaneEnabled||e.intersectsLineEnabled)&&t.code.add(C`bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {\nvec3 dir = end - start;\nfloat t2 = dot(dir, pos - start);\nfloat l2 = dot(dir, dir);\nreturn t2 >= 0.0 && t2 <= l2;\n}`),t.main.add(C`vec3 pos;\nvec3 normal;\nfloat angleCutoffAdjust;\nfloat depthDiscontinuityAlpha;\nif (!laserlineReconstructFromDepth(pos, normal, angleCutoffAdjust, depthDiscontinuityAlpha)) {\nfragColor = vec4(0.0);\nreturn;\n}\nvec4 color = vec4(0.0);`),e.heightManifoldEnabled){t.uniforms.add(new b(\"angleCutoff\",(e=>V(e))),new M(\"heightPlane\",((e,i)=>I(e.heightManifoldTarget,e.renderCoordsHelper.worldUpAtPosition(e.heightManifoldTarget,R),i.camera.viewMatrix))));const i=e.spherical?C`normalize(globalOrigin - pos)`:C`heightPlane.xyz`;t.main.add(C`\n      vec2 angleCutoffAdjusted = angleCutoff - angleCutoffAdjust;\n      // Fade out laserlines on flat surfaces\n      float heightManifoldAlpha = 1.0 - smoothstep(angleCutoffAdjusted.x, angleCutoffAdjusted.y, abs(dot(normal, ${i})));\n      vec4 heightManifoldColor = laserlineProfile(heightManifoldDistancePixels(heightPlane, pos));\n      color = max(color, heightManifoldColor * heightManifoldAlpha);`)}return e.pointDistanceEnabled&&(t.uniforms.add(new b(\"angleCutoff\",(e=>V(e))),new M(\"pointDistanceSphere\",((e,i)=>y(e,i)))),t.main.add(C`float pointDistanceSphereDistance = sphereDistancePixels(pointDistanceSphere, pos);\nvec4 pointDistanceSphereColor = laserlineProfile(pointDistanceSphereDistance);\nfloat pointDistanceSphereAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));\ncolor = max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);`)),e.lineVerticalPlaneEnabled&&(t.uniforms.add(new b(\"angleCutoff\",(e=>V(e))),new M(\"lineVerticalPlane\",((e,i)=>O(e,i))),new D(\"lineVerticalStart\",((e,i)=>E(e,i))),new D(\"lineVerticalEnd\",((e,i)=>z(e,i)))),t.main.add(C`if (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {\nfloat lineVerticalDistance = planeDistancePixels(lineVerticalPlane, pos);\nvec4 lineVerticalColor = laserlineProfile(lineVerticalDistance);\nfloat lineVerticalAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));\ncolor = max(color, lineVerticalColor * lineVerticalAlpha);\n}`)),e.intersectsLineEnabled&&(t.uniforms.add(new b(\"angleCutoff\",(e=>V(e))),new D(\"intersectsLineStart\",((e,i)=>l(R,e.lineStartWorld,i.camera.viewMatrix))),new D(\"intersectsLineEnd\",((e,i)=>l(R,e.lineEndWorld,i.camera.viewMatrix))),new D(\"intersectsLineDirection\",((e,i)=>(s(G,e.intersectsLineSegment.vector),G[3]=0,a(R,p(G,G,i.camera.viewMatrix))))),new S(\"intersectsLineRadius\",(e=>e.intersectsLineRadius))),t.main.add(C`if (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {\nfloat intersectsLineDistance = lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);\nvec4 intersectsLineColor = laserlineProfile(intersectsLineDistance);\nfloat intersectsLineAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));\ncolor = max(color, intersectsLineColor * intersectsLineAlpha);\n}`)),t.main.add(C`fragColor = laserlineOutput(color * depthDiscontinuityAlpha);`),i}function V(t){return i(T,Math.cos(t.angleCutoff),Math.cos(Math.max(0,t.angleCutoff-e(2))))}function y(e,i){return l(x(_),e.pointDistanceOrigin,i.camera.viewMatrix),_[3]=r(e.pointDistanceOrigin,e.pointDistanceTarget),_}function O(e,i){const t=h(e.lineVerticalPlaneSegment,.5,R),n=e.renderCoordsHelper.worldUpAtPosition(t,U),o=a(F,e.lineVerticalPlaneSegment.vector),r=c(R,n,o);return a(r,r),I(e.lineVerticalPlaneSegment.origin,r,i.camera.viewMatrix)}function E(e,i){const t=s(R,e.lineVerticalPlaneSegment.origin);return e.renderCoordsHelper.setAltitude(t,0),l(t,t,i.camera.viewMatrix)}function z(e,i){const t=d(R,e.lineVerticalPlaneSegment.origin,e.lineVerticalPlaneSegment.vector);return e.renderCoordsHelper.setAltitude(t,0),l(t,t,i.camera.viewMatrix)}function I(e,i,t){return l(W,e,t),s(G,i),G[3]=0,p(G,G,t),u(W,G,H)}const T=t(),R=f(),G=g(),U=f(),F=f(),W=f(),H=m(),_=w(),N=Object.freeze(Object.defineProperty({__proto__:null,build:j,defaultAngleCutoff:A},Symbol.toStringTag,{value:\"Module\"}));export{N as L,j as b,A as d};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../../../../../core/mathUtils.js\";import{fromValues as s,create as t}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as i}from\"../../../../../geometry/support/lineSegment.js\";import{NoParameters as r}from\"../../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as o}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as l}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{L as n}from\"../../../../../chunks/Laserlines.glsl.js\";class a extends r{constructor(){super(...arguments),this.innerColor=s(1,1,1),this.innerWidth=1,this.glowColor=s(1,.5,0),this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=.75,this.globalAlphaContrastBoost=2,this.angleCutoff=e(6),this.pointDistanceOrigin=t(),this.pointDistanceTarget=t(),this.lineVerticalPlaneSegment=i(),this.intersectsLineSegment=i(),this.intersectsLineRadius=3,this.heightManifoldTarget=t(),this.lineStartWorld=t(),this.lineEndWorld=t()}}class h extends l{constructor(e,s,t){super(e,s,new o(n,(()=>import(\"../../shaders/Laserlines.glsl.js\"))),t)}}export{a as LaserlinePassParameters,h as LaserlineTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ReloadableShaderModule as r}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{LaserlinePassParameters as o}from\"./LaserlineTechnique.js\";import{VertexAttribute as t}from\"../../lib/VertexAttribute.js\";import{L as i}from\"../../../../../chunks/LaserlinePath.glsl.js\";class a extends o{constructor(){super(...arguments),this.origin=e()}}class c extends s{constructor(e,s,o){super(e,s,new r(i,(()=>import(\"../../shaders/LaserlinePath.glsl.js\"))),o,n)}}const n=new Map([[t.START,0],[t.END,1],[t.EXTRUDE,2],[t.START_UP,3],[t.END_UP,4]]);export{a as LaserlinePathPassParameters,c as LaserlinePathTechnique,n as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{i as e,d as t}from\"../../../../../chunks/vec32.js\";import{create as r}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{newDoubleArray as s}from\"../../../../../geometry/support/DoubleArray.js\";import{ViewingMode as i}from\"../../../../ViewingMode.js\";import{glLayout as o}from\"../../../support/buffer/glUtil.js\";import{newLayout as f}from\"../../../support/buffer/InterleavedLayout.js\";import{vertexAttributeLocations as n}from\"./LaserlinePathTechnique.js\";import{VertexArrayObject as u}from\"../../lib/VertexArrayObject.js\";import{VertexAttribute as a}from\"../../lib/VertexAttribute.js\";import{BufferObject as l}from\"../../../../webgl/BufferObject.js\";import{PrimitiveType as c,Usage as h}from\"../../../../webgl/enums.js\";class _{constructor(e){this._renderCoordsHelper=e,this._buffers=null,this._origin=r(),this._dirty=!1,this._count=0,this._vao=null}set vertices(e){const t=s(3*e.length);let r=0;for(const s of e)t[r++]=s[0],t[r++]=s[1],t[r++]=s[2];this.buffers=[t]}set buffers(t){if(this._buffers=t,this._buffers.length>0){const t=this._buffers[0],r=3*Math.floor(t.length/3/2);e(this._origin,t[r],t[r+1],t[r+2])}else e(this._origin,0,0,0);this._dirty=!0}get origin(){return this._origin}draw(e){const t=this._ensureVAO(e);null!=t&&(e.bindVAO(t),e.drawArrays(c.TRIANGLES,0,this._count))}dispose(){null!=this._vao&&this._vao.dispose()}get _layout(){return this._renderCoordsHelper.viewingMode===i.Global?b:g}_ensureVAO(e){return null==this._buffers?null:(this._vao??=this._createVAO(e,this._buffers),this._ensureVertexData(this._vao,this._buffers),this._vao)}_createVAO(e,t){const r=this._createDataBuffer(t);return this._dirty=!1,new u(e,n,new Map([[\"data\",o(this._layout)]]),new Map([[\"data\",l.createVertex(e,h.STATIC_DRAW,r)]]))}_ensureVertexData(e,t){if(!this._dirty)return;const r=this._createDataBuffer(t);e.vertexBuffers.get(\"data\")?.setData(r),this._dirty=!1}_createDataBuffer(r){const s=r.reduce(((e,t)=>e+d(t)),0);this._count=s;const i=this._layout.createBuffer(s),o=this._origin;let f=0,n=0;const u=\"startUp\"in i?this._setUpVectors.bind(this,i):void 0;for(const a of r){for(let r=0;r<a.length;r+=3){const s=e(m,a[r],a[r+1],a[r+2]);0===r?n=this._renderCoordsHelper.getAltitude(s):this._renderCoordsHelper.setAltitude(s,n);const l=f+2*r;u?.(r,l,a,s);const c=t(m,s,o);if(r<a.length-3){for(let e=0;e<6;e++)i.start.setVec(l+e,c);i.extrude.setValues(l,0,-1),i.extrude.setValues(l+1,1,-1),i.extrude.setValues(l+2,1,1),i.extrude.setValues(l+3,0,-1),i.extrude.setValues(l+4,1,1),i.extrude.setValues(l+5,0,1)}if(r>0)for(let e=-6;e<0;e++)i.end.setVec(l+e,c)}f+=d(a)}return i.buffer}_setUpVectors(e,t,r,s,i){const o=this._renderCoordsHelper.worldUpAtPosition(i,p);if(t<s.length-3)for(let f=0;f<6;f++)e.startUp.setVec(r+f,o);if(t>0)for(let f=-6;f<0;f++)e.endUp.setVec(r+f,o)}}function d(e){return 3*(2*(e.length/3-1))}const p=r(),m=r(),b=f().vec3f(a.START).vec3f(a.END).vec2f(a.EXTRUDE).vec3f(a.START_UP).vec3f(a.END_UP),g=f().vec3f(a.START).vec3f(a.END).vec2f(a.EXTRUDE);export{_ as LaserlinePathData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../../chunks/tslib.es6.js\";import{ShaderTechniqueConfiguration as r,parameter as t}from\"../../core/shaderTechnique/ShaderTechniqueConfiguration.js\";class e extends r{constructor(){super(...arguments),this.contrastControlEnabled=!1,this.spherical=!1}}o([t()],e.prototype,\"contrastControlEnabled\",void 0),o([t()],e.prototype,\"spherical\",void 0);export{e as LaserlinePathTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{parameter as i}from\"../../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{LaserlinePathTechniqueConfiguration as t}from\"./LaserlinePathTechniqueConfiguration.js\";class n extends t{constructor(){super(...arguments),this.heightManifoldEnabled=!1,this.pointDistanceEnabled=!1,this.lineVerticalPlaneEnabled=!1,this.intersectsLineEnabled=!1}}e([i()],n.prototype,\"heightManifoldEnabled\",void 0),e([i()],n.prototype,\"pointDistanceEnabled\",void 0),e([i()],n.prototype,\"lineVerticalPlaneEnabled\",void 0),e([i()],n.prototype,\"intersectsLineEnabled\",void 0);export{n as LaserlineTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{disposeMaybe as t}from\"../../../../../core/maybe.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c as n,g as r}from\"../../../../../chunks/vec32.js\";import{create as a,fromRay as l,getStart as o,getEnd as h}from\"../../../../../geometry/support/clipRay.js\";import{intersectClipRay as c}from\"../../../../../geometry/support/frustum.js\";import{copy as d}from\"../../../../../geometry/support/lineSegment.js\";import{wrap as p}from\"../../../../../geometry/support/ray.js\";import{ViewingMode as u}from\"../../../../ViewingMode.js\";import{InternalRenderCategory as m}from\"../../../webgl.js\";import g from\"../../../webgl/RenderNode.js\";import{Blit as _}from\"../blit/Blit.js\";import{LaserlinePathData as P}from\"./LaserlinePathData.js\";import{LaserlinePathPassParameters as b,LaserlinePathTechnique as f}from\"./LaserlinePathTechnique.js\";import{LaserlinePathTechniqueConfiguration as E}from\"./LaserlinePathTechniqueConfiguration.js\";import{LaserlineTechnique as D}from\"./LaserlineTechnique.js\";import{LaserlineTechniqueConfiguration as q}from\"./LaserlineTechniqueConfiguration.js\";import{RenderRequestType as L}from\"../../lib/basicInterfaces.js\";import{updateParameters as T}from\"../../materials/internal/MaterialUtil.js\";import{BlitMode as V}from\"../../shaders/CompositingTechniqueConfiguration.js\";import{FramebufferBit as R}from\"../../../../webgl/enums.js\";let C=class extends g{constructor(e){super(e),this.produces=m.LASERLINES,this.consumes={required:[m.LASERLINES,\"normals\"]},this.requireGeometryDepth=!0,this._configuration=new q,this._pathTechniqueConfiguration=new E,this._heightManifoldEnabled=!1,this._pointDistanceEnabled=!1,this._lineVerticalPlaneEnabled=!1,this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._pathVerticalPlaneEnabled=!1,this._passParameters=new b;const t=e.view._stage.renderView.techniques,i=new E;i.contrastControlEnabled=e.contrastControlEnabled,t.precompile(f,i)}initialize(){this._passParameters.renderCoordsHelper=this.view.renderCoordsHelper,this._pathTechniqueConfiguration.spherical=this.view.state.viewingMode===u.Global,this._pathTechniqueConfiguration.contrastControlEnabled=this.contrastControlEnabled,this._techniques.precompile(f,this._pathTechniqueConfiguration),this._blit=new _(this._techniques,V.PremultipliedAlpha)}destroy(){this._pathVerticalPlaneData=t(this._pathVerticalPlaneData),this._blit=null}get _techniques(){return this.view._stage.renderView.techniques}get heightManifoldEnabled(){return this._heightManifoldEnabled}set heightManifoldEnabled(e){this._heightManifoldEnabled!==e&&(this._heightManifoldEnabled=e,this.requestRender(L.UPDATE))}get heightManifoldTarget(){return this._passParameters.heightManifoldTarget}set heightManifoldTarget(e){n(this._passParameters.heightManifoldTarget,e),this.requestRender(L.UPDATE)}get pointDistanceEnabled(){return this._pointDistanceEnabled}set pointDistanceEnabled(e){e!==this._pointDistanceEnabled&&(this._pointDistanceEnabled=e,this.requestRender(L.UPDATE))}get pointDistanceTarget(){return this._passParameters.pointDistanceTarget}set pointDistanceTarget(e){n(this._passParameters.pointDistanceTarget,e),this.requestRender(L.UPDATE)}get pointDistanceOrigin(){return this._passParameters.pointDistanceOrigin}set pointDistanceOrigin(e){n(this._passParameters.pointDistanceOrigin,e),this.requestRender(L.UPDATE)}get lineVerticalPlaneEnabled(){return this._lineVerticalPlaneEnabled}set lineVerticalPlaneEnabled(e){e!==this._lineVerticalPlaneEnabled&&(this._lineVerticalPlaneEnabled=e,this.requestRender(L.UPDATE))}get lineVerticalPlaneSegment(){return this._passParameters.lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){d(e,this._passParameters.lineVerticalPlaneSegment),this.requestRender(L.UPDATE)}get intersectsLineEnabled(){return this._intersectsLineEnabled}set intersectsLineEnabled(e){e!==this._intersectsLineEnabled&&(this._intersectsLineEnabled=e,this.requestRender(L.UPDATE))}get intersectsLineSegment(){return this._passParameters.intersectsLineSegment}set intersectsLineSegment(e){d(e,this._passParameters.intersectsLineSegment),this.requestRender(L.UPDATE)}get intersectsLineRadius(){return this._passParameters.intersectsLineRadius}set intersectsLineRadius(e){e!==this._passParameters.intersectsLineRadius&&(this._passParameters.intersectsLineRadius=e,this.requestRender(L.UPDATE))}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){e!==this._intersectsLineInfinite&&(this._intersectsLineInfinite=e,this.requestRender(L.UPDATE))}get pathVerticalPlaneEnabled(){return this._pathVerticalPlaneEnabled}set pathVerticalPlaneEnabled(e){e!==this._pathVerticalPlaneEnabled&&(this._pathVerticalPlaneEnabled=e,null!=this._pathVerticalPlaneData&&this.requestRender(L.UPDATE))}set pathVerticalPlaneVertices(e){null==this._pathVerticalPlaneData&&(this._pathVerticalPlaneData=new P(this._passParameters.renderCoordsHelper)),this._pathVerticalPlaneData.vertices=e,this.pathVerticalPlaneEnabled&&this.requestRender(L.UPDATE)}set pathVerticalPlaneBuffers(e){null==this._pathVerticalPlaneData&&(this._pathVerticalPlaneData=new P(this._passParameters.renderCoordsHelper)),this._pathVerticalPlaneData.buffers=e,this.pathVerticalPlaneEnabled&&this.requestRender(L.UPDATE)}setParameters(e){T(this._passParameters,e)&&this.requestRender(L.UPDATE)}precompile(){this._acquireTechnique().release()}render(e){const t=e.find((({name:e})=>e===m.LASERLINES));if(!this.bindParameters.decorations||null==this._blit)return t;const i=this.renderingContext,s=e.find((({name:e})=>\"normals\"===e));this._passParameters.normals=s?.getTexture();const n=()=>{(this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled)&&this._renderUnified(),this.pathVerticalPlaneEnabled&&this._renderPath()};if(!this.contrastControlEnabled)return i.bindFramebuffer(t.fbo),n(),t;this._passParameters.colors=t.getTexture();const r=this.fboCache.acquire(t.fbo.width,t.fbo.height,\"laser lines\");return i.bindFramebuffer(r.fbo),i.setClearColor(0,0,0,0),i.clear(R.COLOR|R.DEPTH),n(),i.unbindTexture(t.getTexture()),this._blit.blend(i,r,t,this.bindParameters)||this.requestRender(L.UPDATE),r.release(),t}_acquireTechnique(){return this._configuration.heightManifoldEnabled=this.heightManifoldEnabled,this._configuration.lineVerticalPlaneEnabled=this.lineVerticalPlaneEnabled,this._configuration.pointDistanceEnabled=this.pointDistanceEnabled,this._configuration.intersectsLineEnabled=this.intersectsLineEnabled,this._configuration.contrastControlEnabled=this.contrastControlEnabled,this._configuration.spherical=this.view.state.viewingMode===u.Global,this._techniques.acquire(D,this._configuration)}_renderUnified(){if(!this._updatePassParameters())return;const e=this._acquireTechnique();if(e.compiled){const t=this.renderingContext;t.bindTechnique(e,this.bindParameters,this._passParameters),t.screen.draw()}else this.requestRender(L.UPDATE);e.release()}_renderPath(){if(null==this._pathVerticalPlaneData)return;const e=this._techniques.acquire(f,this._pathTechniqueConfiguration);if(e.compiled){const t=this.renderingContext;this._passParameters.origin=this._pathVerticalPlaneData.origin,t.bindTechnique(e,this.bindParameters,this._passParameters),this._pathVerticalPlaneData.draw(t)}else this.requestRender(L.UPDATE);e.release()}_updatePassParameters(){if(!this._intersectsLineEnabled)return!0;const e=this.bindParameters.camera,t=this._passParameters;if(this._intersectsLineInfinite){if(l(p(t.intersectsLineSegment.origin,t.intersectsLineSegment.vector),j),j.c0=-Number.MAX_VALUE,!c(e.frustum,j))return!1;o(j,t.lineStartWorld),h(j,t.lineEndWorld)}else n(t.lineStartWorld,t.intersectsLineSegment.origin),r(t.lineEndWorld,t.intersectsLineSegment.origin,t.intersectsLineSegment.vector);return!0}get test(){}};e([i({constructOnly:!0})],C.prototype,\"contrastControlEnabled\",void 0),e([i({constructOnly:!0})],C.prototype,\"isDecoration\",void 0),e([i()],C.prototype,\"produces\",void 0),e([i()],C.prototype,\"consumes\",void 0),C=e([s(\"esri.views.3d.webgl-engine.effects.laserlines.LaserLineRenderer\")],C);const j=a();export{C as LaserLineRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{c as e}from\"../../../../chunks/vec32.js\";import{create as t,clone as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as n,fromValues as s,copy as r}from\"../../../../geometry/support/lineSegment.js\";import{VisualElement as l}from\"./VisualElement.js\";import{LaserLineRenderer as h}from\"../../webgl-engine/effects/laserlines/LaserLineRenderer.js\";import{d as a}from\"../../../../chunks/Laserlines.glsl.js\";class c extends l{constructor(e){super(e),this._angleCutoff=a,this._style={},this._heightManifoldTarget=t(),this._heightManifoldEnabled=!1,this._intersectsLine=n(),this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._lineVerticalPlaneSegment=null,this._pathVerticalPlaneBuffers=null,this._pointDistanceLine=null,this.applyProperties(e)}get testData(){}createResources(){this._ensureRenderer()}destroyResources(){this._disposeRenderer()}updateVisibility(){this._syncRenderer(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance()}get angleCutoff(){return this._angleCutoff}set angleCutoff(e){this._angleCutoff!==e&&(this._angleCutoff=e,this._syncAngleCutoff())}get style(){return this._style}set style(e){this._style=e,this._syncStyle()}get heightManifoldTarget(){return this._heightManifoldEnabled?this._heightManifoldTarget:null}set heightManifoldTarget(t){null!=t?(e(this._heightManifoldTarget,t),this._heightManifoldEnabled=!0):this._heightManifoldEnabled=!1,this._syncRenderer(),this._syncHeightManifold()}set intersectsWorldUpAtLocation(e){if(null==e)return void(this.intersectsLine=null);const t=this.view.renderCoordsHelper.worldUpAtPosition(e,_);this.intersectsLine=s(e,t),this.intersectsLineInfinite=!0}get intersectsLine(){return this._intersectsLineEnabled?this._intersectsLine:null}set intersectsLine(e){null!=e?(r(e,this._intersectsLine),this._intersectsLineEnabled=!0):this._intersectsLineEnabled=!1,this._syncIntersectsLine(),this._syncRenderer()}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){this._intersectsLineInfinite=e,this._syncIntersectsLineInfinite()}get lineVerticalPlaneSegment(){return this._lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){this._lineVerticalPlaneSegment=null!=e?r(e):null,this._syncLineVerticalPlane(),this._syncRenderer()}get pathVerticalPlane(){return this._pathVerticalPlaneBuffers}set pathVerticalPlane(e){this._pathVerticalPlaneBuffers=e,this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncRenderer()}get pointDistanceLine(){return this._pointDistanceLine}set pointDistanceLine(e){this._pointDistanceLine=null!=e?{origin:i(e.origin),target:e.target?i(e.target):null}:null,this._syncPointDistance(),this._syncRenderer()}_syncRenderer(){this.attached&&this.visible&&(this._intersectsLineEnabled||this._heightManifoldEnabled||null!=this._pointDistanceLine||null!=this._pathVerticalPlaneBuffers)?this._ensureRenderer():this._disposeRenderer()}_ensureRenderer(){null==this._renderer&&(this._renderer=new h({view:this.view,contrastControlEnabled:!0,isDecoration:this.isDecoration}),this._syncStyle(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncIntersectsLineInfinite(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncAngleCutoff())}_syncStyle(){null!=this._renderer&&(this._renderer.setParameters(this._style),null!=this._style.intersectsLineRadius&&(this._renderer.intersectsLineRadius=this._style.intersectsLineRadius))}_syncAngleCutoff(){null!=this._renderer&&this._renderer.setParameters({angleCutoff:this._angleCutoff})}_syncHeightManifold(){null!=this._renderer&&(this._renderer.heightManifoldEnabled=this._heightManifoldEnabled&&this.visible,this._heightManifoldEnabled&&(this._renderer.heightManifoldTarget=this._heightManifoldTarget))}_syncIntersectsLine(){null!=this._renderer&&(this._renderer.intersectsLineEnabled=this._intersectsLineEnabled&&this.visible,this._intersectsLineEnabled&&(this._renderer.intersectsLineSegment=this._intersectsLine))}_syncIntersectsLineInfinite(){null!=this._renderer&&(this._renderer.intersectsLineInfinite=this._intersectsLineInfinite)}_syncPathVerticalPlane(){null!=this._renderer&&(this._renderer.pathVerticalPlaneEnabled=null!=this._pathVerticalPlaneBuffers&&this.visible,null!=this._pathVerticalPlaneBuffers&&(this._renderer.pathVerticalPlaneBuffers=this._pathVerticalPlaneBuffers))}_syncLineVerticalPlane(){null!=this._renderer&&(this._renderer.lineVerticalPlaneEnabled=null!=this._lineVerticalPlaneSegment&&this.visible,null!=this._lineVerticalPlaneSegment&&(this._renderer.lineVerticalPlaneSegment=this._lineVerticalPlaneSegment))}_syncPointDistance(){if(null==this._renderer)return;const e=this._pointDistanceLine,t=null!=e;this._renderer.pointDistanceEnabled=t&&null!=e.target&&this.visible,t&&(this._renderer.pointDistanceOrigin=e.origin,null!=e.target&&(this._renderer.pointDistanceTarget=e.target))}_disposeRenderer(){null!=this._renderer&&this.view._stage&&(this._renderer.destroy(),this._renderer=null)}}const _=t();export{c as LaserlineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{clamp as e}from\"../../../../core/mathUtils.js\";import{i as t}from\"../../../../chunks/vec32.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a as r,c as s}from\"../../../../chunks/vec42.js\";import{fromValues as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{projectVectorToVector as n}from\"../../../../geometry/projection/projectVectorToVector.js\";import{expandWithBuffer as l}from\"../../../../geometry/support/aaBoundingBox.js\";import{sv3d as a}from\"../../../../geometry/support/vectorStacks.js\";import{ViewingMode as u}from\"../../../ViewingMode.js\";import{Object3DVisualElement as h}from\"./Object3DVisualElement.js\";import{evaluateElevationAlignmentAtPoint as m}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as p}from\"../../layers/graphics/ElevationContext.js\";import{requiresHalfTexelOffset as _,createTexture as c,defaultSymbolSizeRatio as g}from\"../../support/engineContent/sdfPrimitives.js\";import{createPointGeometry as d}from\"../../webgl-engine/lib/GeometryUtil.js\";import{VertexAttribute as f}from\"../../webgl-engine/lib/VertexAttribute.js\";import{HUDMaterial as x}from\"../../webgl-engine/materials/HUDMaterial.js\";class S extends h{constructor(e){super(e),this._material=null,this._texture=null,this._geometry=null,this._size=3,this._color=o(1,0,1,1),this._pixelSnappingEnabled=!0,this._primitive=\"square\",this._outlineSize=1,this._outlineColor=o(1,1,1,1),this._elevationInfo=null,this.applyProperties(e)}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get size(){return this._size}set size(e){if(e!==this._size){const t=this._preferredTextureSize;this._size=e,t<this._preferredTextureSize?this.recreate():this._updateSizeAttribute()}}get color(){return this._color}set color(e){r(e,this._color)||(s(this._color,e),this._updateMaterial())}get pixelSnappingEnabled(){return this._pixelSnappingEnabled}set pixelSnappingEnabled(e){this._pixelSnappingEnabled!==e&&(this._pixelSnappingEnabled=e,this._updateMaterial())}get primitive(){return this._primitive}set primitive(e){this._primitive!==e&&(this._primitive=e,this.recreate())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){r(e,this._outlineColor)||(s(this._outlineColor,e),this._updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}_updateMaterial(){this._material?.setParameters(this._materialParameters)}_updateSizeAttribute(){const e=this.object;if(null==e)return;const t=e.geometries[0];if(null==t)return;const i=t.getMutableAttribute(f.SIZE).data,r=this._geometrySize;i[0]=r,i[1]=r,e.geometryVertexAttributeUpdated(e.geometries[0],f.SIZE)}get _materialParameters(){return{color:this._color,textureIsSignedDistanceField:!0,sampleSignedDistanceFieldTexelCenter:_(this._primitive),distanceFieldBoundingBox:b,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:this._texture?.id,polygonOffset:!1,shaderPolygonOffset:0,drawInSecondSlot:!0,depthEnabled:!1,pixelSnappingEnabled:this.pixelSnappingEnabled,isDecoration:this.isDecoration}}get _geometrySize(){return this._size/v}createExternalResources(){this._texture=c(this._primitive,this._preferredTextureSize),this._material=new x(this._materialParameters,this.view.state.viewingMode===u.Global);const e=this.view._stage;this._texture.load(e.renderView.renderingContext),e.add(this._texture)}destroyExternalResources(){if(this._texture){this.view._stage.remove(this._texture),this._texture.dispose(),this._texture=null}this._material=null}createGeometries(e){const t=this._createRenderGeometry();null!=t&&e.addGeometry(t)}forEachExternalMaterial(e){this._material&&e(this._material)}get _preferredTextureSize(){return e(2*this._geometrySize,16,128)}calculateMapBounds(e){const t=this.object?.geometries[0];if(!t)return!1;const i=t.attributes.get(f.POSITION).data;return n(i,this.view.renderCoordsHelper.spatialReference,y,this.view.spatialReference),l(e,y),!0}_createRenderGeometry(){const{geometry:e,_material:i}=this;if(null==e||null==i)return null;const{renderCoordsHelper:r,elevationProvider:s}=this.view,o=m(e,s,p.fromElevationInfo(this.elevationInfo),r),l=t(a.get(),e.x,e.y,o),u=a.get();n(l,e.spatialReference,u,r.spatialReference);const h=this._geometrySize;return d(i,null,u,null,null,[h,h],[0,0,0,1])}}const v=g,b=[v/2,v/2,1-v/2,1-v/2],y=i();export{S as PointVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ReadDepth as o}from\"./output/ReadDepth.glsl.js\";import{CameraSpace as e}from\"./util/CameraSpace.glsl.js\";import{Float3PassUniform as l}from\"../shaderModules/Float3PassUniform.js\";import{FloatPassUniform as t}from\"../shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../shaderModules/interfaces.js\";import{Texture2DPassUniform as a}from\"../shaderModules/Texture2DPassUniform.js\";function n(n,p){const i=n.fragment;i.include(o),n.include(e),i.uniforms.add(new t(\"globalAlpha\",(o=>o.globalAlpha)),new l(\"glowColor\",(o=>o.glowColor)),new t(\"glowWidth\",((o,e)=>o.glowWidth*e.camera.pixelRatio)),new t(\"glowFalloff\",(o=>o.glowFalloff)),new l(\"innerColor\",(o=>o.innerColor)),new t(\"innerWidth\",((o,e)=>o.innerWidth*e.camera.pixelRatio)),new a(\"depthMap\",((o,e)=>e.depth?.attachment)),new a(\"normalMap\",(o=>o.normals))),i.code.add(r`vec4 blendPremultiplied(vec4 source, vec4 dest) {\nfloat oneMinusSourceAlpha = 1.0 - source.a;\nreturn vec4(\nsource.rgb + dest.rgb * oneMinusSourceAlpha,\nsource.a + dest.a * oneMinusSourceAlpha\n);\n}`),i.code.add(r`vec4 premultipliedColor(vec3 rgb, float alpha) {\nreturn vec4(rgb * alpha, alpha);\n}`),i.code.add(r`vec4 laserlineProfile(float dist) {\nif (dist > glowWidth) {\nreturn vec4(0.0);\n}\nfloat innerAlpha = (1.0 - smoothstep(0.0, innerWidth, dist));\nfloat glowAlpha = pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);\nreturn blendPremultiplied(\npremultipliedColor(innerColor, innerAlpha),\npremultipliedColor(glowColor, glowAlpha)\n);\n}`),i.code.add(r`bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float angleCutoffAdjust, out float depthDiscontinuityAlpha) {\nfloat depth = depthFromTexture(depthMap, uv);\nif (depth == 1.0) {\nreturn false;\n}\nfloat linearDepth = linearizeDepth(depth);\npos = reconstructPosition(gl_FragCoord.xy, linearDepth);\nfloat minStep = 6e-8;\nfloat depthStep = clamp(depth + minStep, 0.0, 1.0);\nfloat linearDepthStep = linearizeDepth(depthStep);\nfloat depthError = abs(linearDepthStep - linearDepth);\nif (depthError > 0.2) {\nnormal = texture(normalMap, uv).xyz * 2.0 - 1.0;\nangleCutoffAdjust = 0.004;\n} else {\nnormal = normalize(cross(dFdx(pos), dFdy(pos)));\nangleCutoffAdjust = 0.0;\n}\nfloat ddepth = fwidth(linearDepth);\ndepthDiscontinuityAlpha = 1.0 - smoothstep(0.0, 0.01, -ddepth / linearDepth);\nreturn true;\n}`),p.contrastControlEnabled?(i.uniforms.add(new a(\"frameColor\",((o,e)=>o.colors)),new t(\"globalAlphaContrastBoost\",(o=>null!=o.globalAlphaContrastBoost?o.globalAlphaContrastBoost:1))),i.code.add(r`float rgbToLuminance(vec3 color) {\nreturn dot(vec3(0.2126, 0.7152, 0.0722), color);\n}\nvec4 laserlineOutput(vec4 color) {\nfloat backgroundLuminance = rgbToLuminance(texture(frameColor, uv).rgb);\nfloat alpha = clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);\nreturn color * alpha;\n}`)):i.code.add(r`vec4 laserlineOutput(vec4 color) {\nreturn color * globalAlpha;\n}`)}export{n as Laserline};\n"],"names":["m","t","r","c","include","a","vertex","fragment","g","uniforms","add","d","_ref","camera","o","e","w","viewMatrix","origin","_ref2","projectionMatrix","n","_ref3","glowWidth","pixelRatio","i","_ref4","p","fullViewport","attributes","v","START","END","spherical","START_UP","END_UP","EXTRUDE","varyings","f","main","s","l","perScreenPixelRatio","code","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","A","j","L","P","lineVerticalPlaneEnabled","heightManifoldEnabled","S","computeScreenPixelSizeAt","heightManifoldTarget","lineVerticalPlaneSegment","C","M","R","F","G","D","Math","max","eye","perRenderPixelRatio","pointDistanceEnabled","pointDistanceTarget","intersectsLineEnabled","b","V","I","renderCoordsHelper","worldUpAtPosition","x","_","pointDistanceOrigin","y","h","U","vector","O","setAltitude","E","z","lineStartWorld","lineEndWorld","intersectsLineSegment","intersectsLineRadius","T","cos","angleCutoff","W","u","H","N","defaultAngleCutoff","constructor","super","arguments","this","innerColor","innerWidth","glowColor","glowFalloff","globalAlpha","globalAlphaContrastBoost","Map","_renderCoordsHelper","_buffers","_origin","_dirty","_count","_vao","vertices","length","buffers","floor","draw","_ensureVAO","bindVAO","drawArrays","TRIANGLES","dispose","_layout","viewingMode","Global","_createVAO","_ensureVertexData","_createDataBuffer","createVertex","STATIC_DRAW","vertexBuffers","get","setData","reduce","createBuffer","_setUpVectors","bind","getAltitude","start","setVec","extrude","setValues","end","buffer","startUp","endUp","vec3f","vec2f","contrastControlEnabled","prototype","produces","LASERLINES","consumes","required","requireGeometryDepth","_configuration","q","_pathTechniqueConfiguration","_heightManifoldEnabled","_pointDistanceEnabled","_lineVerticalPlaneEnabled","_intersectsLineEnabled","_intersectsLineInfinite","_pathVerticalPlaneEnabled","_passParameters","view","_stage","renderView","techniques","precompile","initialize","state","_techniques","_blit","PremultipliedAlpha","destroy","_pathVerticalPlaneData","requestRender","UPDATE","intersectsLineInfinite","pathVerticalPlaneEnabled","pathVerticalPlaneVertices","pathVerticalPlaneBuffers","setParameters","_acquireTechnique","release","render","find","name","bindParameters","decorations","renderingContext","normals","getTexture","_renderUnified","_renderPath","bindFramebuffer","fbo","colors","fboCache","acquire","width","height","setClearColor","clear","COLOR","DEPTH","unbindTexture","blend","_updatePassParameters","compiled","bindTechnique","screen","c0","Number","MAX_VALUE","frustum","test","constructOnly","_angleCutoff","_style","_heightManifoldTarget","_intersectsLine","_lineVerticalPlaneSegment","_pathVerticalPlaneBuffers","_pointDistanceLine","applyProperties","testData","createResources","_ensureRenderer","destroyResources","_disposeRenderer","updateVisibility","_syncRenderer","_syncHeightManifold","_syncIntersectsLine","_syncPathVerticalPlane","_syncLineVerticalPlane","_syncPointDistance","_syncAngleCutoff","style","_syncStyle","intersectsWorldUpAtLocation","intersectsLine","_syncIntersectsLineInfinite","pathVerticalPlane","pointDistanceLine","target","attached","visible","_renderer","isDecoration","_material","_texture","_geometry","_size","_color","_pixelSnappingEnabled","_primitive","_outlineSize","_outlineColor","_elevationInfo","geometry","recreateGeometry","size","_preferredTextureSize","recreate","_updateSizeAttribute","color","_updateMaterial","pixelSnappingEnabled","primitive","outlineSize","outlineColor","elevationInfo","_materialParameters","object","geometries","getMutableAttribute","SIZE","data","_geometrySize","geometryVertexAttributeUpdated","textureIsSignedDistanceField","sampleSignedDistanceFieldTexelCenter","distanceFieldBoundingBox","occlusionTest","textureId","id","polygonOffset","shaderPolygonOffset","drawInSecondSlot","depthEnabled","createExternalResources","load","destroyExternalResources","remove","createGeometries","_createRenderGeometry","addGeometry","forEachExternalMaterial","calculateMapBounds","POSITION","spatialReference","elevationProvider","fromElevationInfo","depth","attachment"],"sourceRoot":""}