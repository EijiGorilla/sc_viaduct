{"version":3,"file":"static/js/8705.79b3b3f8.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/workers/WorkerHandle.js","../node_modules/@arcgis/core/views/3d/support/PBFDecoder.js","../node_modules/@arcgis/core/views/3d/layers/support/featureTileQuery3D.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DContext.js","../node_modules/@arcgis/core/views/3d/layers/graphics/FeatureGraphics3DGraphicsPipeline.js","../node_modules/@arcgis/core/views/layers/FeatureLayerView.js","../node_modules/@arcgis/core/views/3d/layers/FeatureLayerViewBase3D.js","../node_modules/@arcgis/core/views/3d/layers/FeatureLayerViewPerformanceInfo.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{remove as e}from\"../arrayUtils.js\";import{makeHandle as t}from\"../handleUtils.js\";import s from\"../Logger.js\";import{throwIfAborted as r}from\"../promiseUtils.js\";import{open as i}from\"./workers.js\";class h{constructor(e,t,r,h,o={}){this._mainMethod=t,this._transferLists=r,this._listeners=[],this._promise=i(e,{...o,schedule:h}).then((e=>{if(void 0===this._thread){this._thread=e,this._promise=null,o.hasInitialize&&this.broadcast({},\"initialize\");for(const e of this._listeners)this._connectListener(e)}else e.close()})),this._promise.catch((t=>s.getLogger(\"esri.core.workers.WorkerHandle\").error(`Failed to initialize ${e} worker: ${t}`)))}on(s,r){const i={removed:!1,eventName:s,callback:r,threadHandle:null};return this._listeners.push(i),this._connectListener(i),t((()=>{i.removed=!0,e(this._listeners,i),this._thread&&null!=i.threadHandle&&i.threadHandle.remove()}))}destroy(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null,this._listeners.length=0,this._transferLists={}}invoke(e,t){return this.invokeMethod(this._mainMethod,e,t)}invokeMethod(e,t,s){if(this._thread){const r=this._transferLists[e],i=r?r(t):[];return this._thread.invoke(e,t,{transferList:i,signal:s})}return this._promise?this._promise.then((()=>(r(s),this.invokeMethod(e,t,s)))):Promise.reject(null)}broadcast(e,t){return this._thread?Promise.all(this._thread.broadcast(t,e)).then((()=>{})):this._promise?this._promise.then((()=>this.broadcast(e,t))):Promise.reject()}get promise(){return this._promise}_connectListener(e){this._thread&&this._thread.on(e.eventName,e.callback).then((t=>{e.removed||(e.threadHandle=t)}))}}export{h as WorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{nativeArrayMaxSize as e}from\"../../../core/typedArrayUtil.js\";import{generateUID as r}from\"../../../core/uid.js\";import{WorkerHandle as s}from\"../../../core/workers/WorkerHandle.js\";import t from\"../../../geometry/SpatialReference.js\";import o from\"../../../layers/support/Field.js\";class n{constructor(e){this._controller=e,this._handle=new c((r=>e.schedule(r)))}destroy(){this._handle.destroy()}invoke(e,s){return e.buffer&&0!==e.buffer.byteLength?(e.options.sourceSpatialReference&&e.options.sourceSpatialReference instanceof t&&(e.options={...e.options,sourceSpatialReference:e.options.sourceSpatialReference.toJSON()}),this._handle.invoke(e,s).then((e=>{let s=0,n=0;const c=t.fromJSON(e.spatialReference);e.spatialReference=c;const i=async t=>{const l=e.fields;if(l)for(;s<l.length;)if(l[s]=o.fromJSON(l[s]),s++,t.madeProgress())return this._controller.reschedule((e=>i(e)));const p=e.features;for(;n<p.length;){const e=p[n];++n,e.uid=r();const s=e.geometry;if(null!=s&&(s.spatialReference=c,a(s),t.madeProgress()))return this._controller.reschedule((e=>i(e)))}return e};return this._controller.schedule((e=>i(e)))}))):Promise.resolve(null)}}function a(r){switch(r.type){case\"polyline\":r.paths.reduce(((e,r)=>e+r.length),0)<e&&(r.paths=r.hasZ||r.hasM?r.paths.map((e=>e.map((e=>[e[0],e[1],e[2]])))):r.paths.map((e=>e.map((e=>[e[0],e[1]])))));break;case\"polygon\":r.rings.reduce(((e,r)=>e+r.length),0)<e&&(r.rings=r.hasZ||r.hasM?r.rings.map((e=>e.map((e=>[e[0],e[1],e[2]])))):r.rings.map((e=>e.map((e=>[e[0],e[1]])))))}}class c extends s{constructor(e){super(\"PBFDecoderWorker\",\"_parseFeatureQuery\",{_parseFeatureQuery:e=>[e.buffer]},e)}}export{n as PBFDecoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{destroyMaybe as t}from\"../../../../core/maybe.js\";import{throwIfAborted as s,createAbortError as o}from\"../../../../core/promiseUtils.js\";import{difference as i}from\"../../../../core/SetUtils.js\";import{property as u}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromFeatureSetJSON as l}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{runQuery as n,executeQuery as y}from\"../../../../rest/query/operations/query.js\";import{PBFDecoder as c}from\"../../support/PBFDecoder.js\";let p=class extends r{constructor(e){super(e)}get implicitFields(){const e=this.layer.outFields?.includes(\"*\");if(!e)return new Set;const r=new Set(this.layerView.requiredFields),t=new Set(this.layerView.availableFields);return i(t,r)}get queryFeaturesDehydrated(){const{layer:e}=this,r=e.capabilities,t=r&&r.query,i=t&&t.supportsFormatPBF,u=e.parsedUrl;if(i){null==this._decoder&&(this._decoder=new c(this.controller));const r={sourceSpatialReference:e.spatialReference?.toJSON()??null,applyTransform:!0,maxStringAttributeFields:this.implicitFields,maxStringAttributeLength:f};return(e,t)=>n(u,e,\"pbf\",this._createRequestOptions(t)).then((e=>(s(t),null!=this._decoder?this._decoder.invoke({buffer:e.data,options:r},t.signal):Promise.reject(o()))))}return(r,t)=>y(u,r,e.spatialReference,this._createRequestOptions(t)).then((e=>l(e.data,{maxStringAttributeFields:this.implicitFields,maxStringAttributeLength:f})))}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}destroy(){this._decoder=t(this._decoder)}_createRequestOptions(e){return{...e,query:{...this.layer.customParameters,token:this.layer.apiKey,...e?.query}}}};e([u({constructOnly:!0})],p.prototype,\"layer\",void 0),e([u({constructOnly:!0})],p.prototype,\"layerView\",void 0),e([u({constructOnly:!0})],p.prototype,\"controller\",void 0),e([u({readOnly:!0})],p.prototype,\"implicitFields\",null),e([u({readOnly:!0})],p.prototype,\"queryFeaturesDehydrated\",null),p=e([a(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceQuery3D\")],p);let d=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.layer.queryFeatures(e,r)}};e([u({constructOnly:!0})],d.prototype,\"layer\",void 0),d=e([a(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileOGCServiceQuery3D\")],d);let m=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.source.queryFeaturesJSON(e,r).then(l,(t=>{if(t&&\"query-features-json:unsupported\"===t.name)return this.layer.queryFeatures(e,r);throw t}))}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}};function h(e,r){const{layer:t}=e;return\"feature\"===t.type&&\"feature-layer\"===t.source.type||\"catalog-footprint\"===t.type?new p({layer:t,layerView:e,controller:r}):\"feature\"===t.type&&\"memory\"===t.source.type||\"csv\"===t.type||\"geojson\"===t.type||\"oriented-imagery\"===t.type||\"wfs\"===t.type?new m({layer:t,source:t.source}):\"ogc-feature\"===t.type?new d({layer:t}):null}e([u({constructOnly:!0})],m.prototype,\"layer\",void 0),e([u({constructOnly:!0})],m.prototype,\"source\",void 0),m=e([a(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileClientQuery3D\")],m);const f=1024;export{h as createFeatureTileQuery3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as e}from\"../../../../core/maybe.js\";import{createFeatureTileQuery3D as t}from\"./featureTileQuery3D.js\";class r{constructor(e){this._memoryCache=null;const r=e.layerView.layer;this._layerView=e.layerView,this.objectIdField=r.objectIdField,this.globalIdField=\"globalIdField\"in r?r.globalIdField:null,this._returnZ=e.returnZ,this._returnM=e.returnM;const i=this._layerView.view.resourceController;this.query=t(this._layerView,i.normal),i&&this._memoryCacheEnabled&&(this._memoryCache=i.memoryController.newCache(`fl-${r.uid}`))}get _memoryCacheEnabled(){switch(this._layerView.layer.source.type){case\"feature-layer\":case\"ogc-feature\":case\"oriented-imagery\":return!0;case\"csv\":case\"parquet\":case\"geojson\":case\"memory\":case\"wfs\":return!1}}destroy(){this._memoryCache=e(this._memoryCache),this.query.destroy()}createQuery(){const e=this._layerView.layer.createQuery();return e.outFields=this._layerView.availableFields,e.returnZ=this._returnZ,e.returnM=this._returnM,e.outSpatialReference=this.tilingScheme.spatialReference,e}get memoryCache(){return this._memoryCache}get viewingMode(){return this._layerView.view.state.viewingMode}get tilingScheme(){return this._layerView.view.featureTiles.tilingScheme}get scheduler(){return this._layerView.view.resourceController?.scheduler}get geometryType(){return this._layerView.layer.geometryType}get fullExtent(){return this._layerView.layer.fullExtent}get tileMaxRecordCount(){return this._layerView.layer.capabilities.query.tileMaxRecordCount}get maxRecordCount(){return this._layerView.layer.capabilities.query.maxRecordCount}get isDraped(){return\"on-the-ground\"===this._layerView.layer.elevationInfo?.mode}get capabilities(){return this._capabilities??=i(this._layerView.layer),this._capabilities}logFetchError(e,t){e.error(\"#fetchTile()\",this._layerView.layer,t?.message??t)}}function i(e){const t=e.capabilities.query;return{supportsMultipleResolutions:a(e),supportsPagination:!(!t||!t.supportsPagination),supportsResultType:!(!t||!t.supportsResultType),supportsCacheHint:!(!t||!t.supportsCacheHint),supportsQuantization:!(!t||!t.supportsQuantization),supportsQuantizationEditMode:!(!t||!t.supportsQuantizationEditMode),supportsMaxRecordCountFactor:!(!t||!t.supportsMaxRecordCountFactor),supportsFormatPBF:!(!t||!t.supportsFormatPBF)}}function a(e){switch(e.geometryType){case\"polyline\":return!0;case\"polygon\":return e.capabilities&&e.capabilities.query&&e.capabilities.query.supportsQuantization;default:return!1}}export{r as FeatureTileFetcher3DContext,i as contextCapabilitiesFromLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{destroyMaybe as r}from\"../../../../core/maybe.js\";import{watch as t,initial as s,syncAndInitial as o,when as i}from\"../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{hydrateGeometry as l}from\"../../../../layers/graphics/hydratedFeatures.js\";import{FeatureTileController3D as c}from\"../../../../layers/graphics/controllers/FeatureTileController3D.js\";import{FeatureLayerViewPerformanceInfo as u}from\"../FeatureLayerViewPerformanceInfo.js\";import{Graphics3DGraphicsPipeline as p}from\"./Graphics3DGraphicsPipeline.js\";import{FeatureTileFetcher3DContext as h}from\"../support/FeatureTileFetcher3DContext.js\";import{EventedSet as m}from\"../../support/EventedSet.js\";import{UpdatePolicy as d}from\"../../webgl-engine/lib/UpdatePolicy.js\";let f=class extends p{constructor(e){super(e),this._controllerTotal=0,this._processorTotal=0,this._needsRefresh=!1,this.suspendResumeExtentMode=\"data\"}initialize(){this.addHandles(t((()=>({controller:this.controller,suspended:this.suspended})),(({controller:e,suspended:r})=>{e&&!r&&this._needsRefresh&&(e.refetch(),this._needsRefresh=!1)})))}destroy(){this._fetcherContext=r(this._fetcherContext)}get maximumNumberOfFeatures(){return this.controller?.maximumNumberOfFeatures??this._get(\"maximumNumberOfFeatures\")}set maximumNumberOfFeatures(e){this._set(\"maximumNumberOfFeatures\",e),this.controller&&(this.controller.maximumNumberOfFeatures=e)}get maximumNumberOfFeaturesExceeded(){return!!this.controller&&!(this.suspended||!this.controller.maximumNumberOfFeaturesExceeded)}get updatingProgressValue(){let e=0;if(this.controller?.updating){const r=this.controller.updatingRemaining,t=Math.max(this.controller.updatingTotal,this._controllerTotal);t>0&&(e=(t-r)/t,this._controllerTotal=t)}let r=0;if(this.processor?.updating){const e=this.processor.updatingRemaining,t=Math.max(e,this._processorTotal);t>0&&(r=(t-e)/t,this._processorTotal=t)}return.5*(e+r)}get updatePolicy(){if(!this.controller)return d.ASYNC;switch(this.controller.mode){case\"snapshot\":{const e=y.get(this.layer.geometryType);return null==e||this.controller.serviceDataCount>e?d.ASYNC:d.SYNC}case\"tiles\":return d.ASYNC}}get usedMemory(){return(this.processor?.usedMemory??0)+(this.controller?.memoryForUnusedFeatures??0)}get unloadedMemory(){const e=this.processor?.unprocessedMemoryEstimate??0,r=this.controller?.expectedFeatureDiff??0,t=this.processor?.loadedFeatures??0,s=t+r>0?t/(t+r):1;return e+r*(this.processor?.usedMemoryPerFeature??0)*s}get ignoresMemoryFactor(){return this.controller?.hasMaximumNumberOfFeaturesOverride}get performanceInfo(){const e=this.controller?.displayFeatureLimit,r=null!=e?e.averageSymbolComplexity:void 0,t=null!=r?`f:${r.verticesPerFeature},v:${r.verticesPerCoordinate}`:\"n/a\";return new u(super.performanceInfo,this.controller?.performanceInfo?.storedFeatures??0,this.controller?.performanceInfo?.totalVertices??0,this.maximumNumberOfFeaturesExceeded,this.controller?.mode??\"n/a\",t)}async doRefresh(e){const{controller:r,processor:t,suspended:s}=this;e&&r&&(s?this._needsRefresh=!0:(r.refetch(),this._needsRefresh=!1)),t.refreshFilter()}setVisibility(e,r){this.processor?.setObjectIdVisibility(e,r)}getMissingAttributesForFeature(e){return this.controller.getMissingAttributesForFeature(e)}getHydratedGeometry(e){const r=this.graphics3DProcessor;if(null==r)return null;const t=r.graphics3DGraphicsByObjectID;if(null==t)return null;const s=t.get(e);return null==s?null:l(s.graphic.geometry)}createController(){this._fetcherContext=new h({layerView:this.layerView,returnZ:this.hasZ,returnM:this.hasM});const e=new c({layerView:this.layerView,context:this._fetcherContext,graphics:new m,extent:this.clippingExtent});return this.updatingHandles.add((()=>e.serviceDataExtent),(e=>{this.processor&&(this.processor.dataExtent=e)}),s),this.addHandles(t((()=>this.suspended&&this.layerView.updateSuspended),(r=>{r?e.suspend():e.resume()}),o)),this.updatingHandles.add((()=>this.processor?.displayFeatureLimit),(r=>e.displayFeatureLimit=r),s),this.addHandles(i((()=>!this.updating),(()=>{this._controllerTotal=0,this._processorTotal=0}))),e}beforeSetController(e){e.maximumNumberOfFeatures=this.maximumNumberOfFeatures}get test(){return{controller:this.controller,graphics3DProcessor:this.graphics3DProcessor,heatmapProcessor:this.heatmapProcessor,loadedGraphics:this.loadedGraphics}}};e([a()],f.prototype,\"layerView\",void 0),e([a()],f.prototype,\"controller\",void 0),e([a()],f.prototype,\"_controllerTotal\",void 0),e([a()],f.prototype,\"_processorTotal\",void 0),e([a()],f.prototype,\"_needsRefresh\",void 0),e([a()],f.prototype,\"maximumNumberOfFeatures\",null),e([a()],f.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([a()],f.prototype,\"updatingProgressValue\",null),e([a()],f.prototype,\"updatePolicy\",null),e([a()],f.prototype,\"suspendResumeExtentMode\",void 0),f=e([n(\"esri.views.3d.layers.graphics.FeatureGraphics3DGraphicsPipeline\")],f);const y=new Map([[\"point\",5e3],[\"polygon\",500],[\"polyline\",1e3]]);export{f as FeatureGraphics3DGraphicsPipeline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Error.js\";import\"../../core/has.js\";import r from\"../../core/Logger.js\";import{throwIfAborted as i}from\"../../core/promiseUtils.js\";import{watch as o,syncAndInitial as s,on as n}from\"../../core/reactiveUtils.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import u from\"../../layers/support/FeatureEffect.js\";import p from\"../../layers/support/FeatureFilter.js\";import{fixFields as d,unpackFieldNames as f,collectLabelingFields as c,collectElevationFields as m,collectFilterFields as y,collectFeatureReductionFields as h,collectOrderByInfos as F,collectFields as g,collectField as w,featureHasFields as E}from\"../../layers/support/fieldUtils.js\";import{getFloorFilterClause as I}from\"../../layers/support/floorFilterUtils.js\";import b from\"../../rest/support/Query.js\";import{loadArcade as x}from\"../../support/arcadeOnDemand.js\";import{getFetchPopupTemplate as v,getRequiredFields as R}from\"./support/popupUtils.js\";const _=_=>{let q=class extends _{constructor(...e){super(...e),this._updatingRequiredFieldsPromise=null,this.dataUpdating=!1,this.filter=null,this.layer=null,this.requiredFields=[],this.view=null}initialize(){this.addHandles([o((()=>{const e=this.layer;return[e&&\"elevationInfo\"in e?e.elevationInfo?.featureExpressionInfo:null,e&&\"displayField\"in e?e.displayField:null,e&&\"timeInfo\"in e&&e.timeInfo,e&&\"renderer\"in e&&e.renderer,e&&\"labelingInfo\"in e&&e.labelingInfo,e&&\"floorInfo\"in e&&e.floorInfo,this.filter,this.featureEffect,this.timeExtent]}),(()=>this._handleRequiredFieldsChange()),s),n((()=>this.view?.floors),\"change\",(()=>this._handleRequiredFieldsChange())),n((()=>{const e=this.layer;return e&&\"sublayers\"in e?e.sublayers:null}),\"change\",(()=>this._handleRequiredFieldsChange()))])}get availableFields(){if(!this.layer)return[];const{layer:e,layer:{fieldsIndex:t},requiredFields:r}=this;return\"outFields\"in e&&e.outFields?d(t,[...f(t,e.outFields),...r]):d(t,r)}get featureEffect(){return this.layer&&\"featureEffect\"in this.layer?this.layer.featureEffect:null}set featureEffect(e){this._override(\"featureEffect\",e)}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){r.getLogger(this).error(\"#maximumNumberOfFeatures=\",\"Setting maximum number of features is not supported\")}get maximumNumberOfFeaturesExceeded(){return!1}highlight(e){throw new Error(\"missing implementation\")}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference},t=null!=this.filter?this.filter.createQuery(e):new b(e);if(\"floorInfo\"in this.layer&&this.layer.floorInfo){const e=I(this);null!=e&&(t.where=t.where?`(${t.where}) AND (${e})`:e)}return null!=this.timeExtent&&(t.timeExtent=null!=t.timeExtent?t.timeExtent.intersection(this.timeExtent):this.timeExtent.clone()),t}createAggregateQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return new b(e)}queryFeatures(e,t){throw new Error(\"missing implementation\")}queryObjectIds(e,t){throw new Error(\"missing implementation\")}queryFeatureCount(e,t){throw new Error(\"missing implementation\")}queryExtent(e,t){throw new Error(\"missing implementation\")}async fetchPopupFeaturesFromGraphics(e,t){return this._validateFetchPopupFeatures(e,t),this._fetchPopupFeatures(e,t)}_loadArcadeModules(e){return e.expressionInfos?.length||Array.isArray(e.content)&&e.content.some((e=>\"expression\"===e.type))?x():Promise.resolve()}_handleRequiredFieldsChange(){const e=this._updateRequiredFields();this._set(\"_updatingRequiredFieldsPromise\",e),e.then((()=>{this._updatingRequiredFieldsPromise===e&&this._set(\"_updatingRequiredFieldsPromise\",null)}))}async _updateRequiredFields(){if(!this.layer||!this.view)return;const e=\"3d\"===this.view.type,{layer:t,layer:{fieldsIndex:i,objectIdField:o}}=this,s=\"renderer\"in t&&t.renderer,n=\"orderBy\"in t&&t.orderBy,l=\"featureReduction\"in t?t.featureReduction:null,a=new Set,u=await Promise.allSettled([s?s.collectRequiredFields(a,i):null,c(a,t),e&&\"elevationInfo\"in t?m(a,t):null,null!=this.filter?y(a,t,this.filter):null,e||null==this.featureEffect?null:y(a,t,this.featureEffect.filter),!e&&l?h(a,t,l):null,!e&&n?F(a,t,n):null]);if(\"timeInfo\"in t&&t.timeInfo&&this.timeExtent&&g(a,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),\"floorInfo\"in t&&t.floorInfo&&g(a,t.fieldsIndex,[t.floorInfo.floorField]),\"feature\"===t.type&&e&&null!=t.infoFor3D&&(null==t.globalIdField&&r.getLogger(this).error(\"globalIdField missing on 3DObjectFeatureLayer\"),g(a,t.fieldsIndex,[t.globalIdField])),\"subtype-group\"===t.type){w(a,i,t.subtypeField);const e=t.sublayers.map((e=>Promise.all([e.renderer?.collectRequiredFields(a,i),c(a,e)])));await Promise.allSettled(e)}if(\"catalog-footprint\"===t.type&&t.parent){const e=t.parent;g(a,i,[e.itemNameField,e.itemSourceField,e.itemTypeField,e.maxScaleField,e.minScaleField])}for(const d of u)\"rejected\"===d.status&&r.getLogger(this).error(d.reason);w(a,i,o),e&&\"displayField\"in t&&t.displayField&&w(a,i,t.displayField);const p=Array.from(a).sort();this._set(\"requiredFields\",p)}_validateFetchPopupFeatures(e,r){if(null!=r)for(const i of e){const e=i.origin&&\"layer\"in i.origin?i.origin.layer:i.layer;if(\"popupEnabled\"in e&&!e.popupEnabled)throw new t(\"featurelayerview:fetchPopupFeatures\",\"Popups are disabled\",{layer:e});if(i.isAggregate){const r=\"featureReduction\"in e?e.featureReduction:null;if(!(r&&\"popupTemplate\"in r&&r.popupEnabled&&r.popupTemplate))throw new t(\"featurelayerview:fetchPopupFeatures\",\"Popups are disabled\",{layer:e})}else if(\"popupTemplate\"in e){if(!v(e,r))throw new t(\"featurelayerview:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:e})}}}_popupFeatureHasRequiredFields(e,t){return E(t,e)}async _fetchPopupFeatures(e,t){const r=new Array(e.length),o=new Map,s=await this._createPopupQuery(e.map((e=>e.origin?.layer??e.layer)),t);for(let n=0;n<e.length;n++){const l=e[n];if(l.isAggregate){r[n]=l;continue}const a=l.origin?.layer??l.layer;if(!a||!(\"popupEnabled\"in a))continue;const u=f(this.layer.fieldsIndex,s.outFields),p=v(a,t);if(null==p)continue;const d=await this._loadArcadeModules(p);i(t);d&&d.arcadeUtils.hasGeometryOperations(p)||!this._popupFeatureHasRequiredFields(l,u)?o.set(l.getObjectId(),{graphic:l,index:n}):r[n]=l}if(\"stream\"===this.layer.type||\"parquet\"===this.layer.type||0===o.size)return r.filter(Boolean);s.objectIds=Array.from(o.keys());try{const e=await this.layer.queryFeatures(s,t);for(const t of e.features){const{graphic:{geometry:e,origin:i},index:s}=o.get(t.getObjectId());t.geometry||=e,t.origin=i,r[s]=t}}catch{}return r.filter(Boolean)}async _createPopupQuery(e,t){const r=this.layer.createQuery(),o=new Set;let s=!1;const n=e??[this.layer];for(const l of n){if(!(\"popupEnabled\"in l))continue;const e=v(l,t);if(null==e)continue;const r=await this._loadArcadeModules(e);i(t);const n=r&&r.arcadeUtils.hasGeometryOperations(e);s=!(\"point\"!==this.layer.geometryType&&!n);const a=await R(this.layer,e);i(t);for(const t of a)o.add(t)}if(r.returnGeometry=s,r.returnZ=s,r.returnM=s,r.outFields=Array.from(o),r.outSpatialReference=this.view.spatialReference,\"floorInfo\"in this.layer&&this.layer.floorInfo){const e=I(this);null!=e&&(r.where=r.where?`(${r.where}) AND (${e})`:e)}return r}canResume(){return!!super.canResume()&&(null==this.timeExtent||!this.timeExtent.isEmpty)}getTest(){}get test(){}};return e([l()],q.prototype,\"_updatingRequiredFieldsPromise\",void 0),e([l({readOnly:!0})],q.prototype,\"availableFields\",null),e([l({readOnly:!0})],q.prototype,\"dataUpdating\",void 0),e([l({type:u})],q.prototype,\"featureEffect\",null),e([l({type:p})],q.prototype,\"filter\",void 0),e([l()],q.prototype,\"layer\",void 0),e([l({type:Number})],q.prototype,\"maximumNumberOfFeatures\",null),e([l({readOnly:!0,type:Boolean})],q.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([l({readOnly:!0})],q.prototype,\"requiredFields\",void 0),e([l()],q.prototype,\"suspended\",void 0),e([l()],q.prototype,\"view\",void 0),q=e([a(\"esri.views.layers.FeatureLayerView\")],q),q};export{_ as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import has from\"../../../core/has.js\";import{destroyMaybe as t}from\"../../../core/maybe.js\";import{watch as i,syncAndInitial as s}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{getObjectId as u}from\"../../../layers/graphics/dehydratedFeatures.js\";import{FeatureLikeLayerView3D as n}from\"./FeatureLikeLayerView3D.js\";import{LayerView3D as p}from\"./LayerView3D.js\";import{FeatureGraphics3DGraphicsPipeline as l}from\"./graphics/FeatureGraphics3DGraphicsPipeline.js\";import{updatingProgress as c}from\"../support/updatingProperties.js\";import{UpdatePolicy as m}from\"../webgl-engine/lib/UpdatePolicy.js\";import d from\"../../layers/FeatureLayerView.js\";import h from\"../../layers/LayerView.js\";import y from\"../../layers/RefreshableLayerView.js\";let f=class extends(y(n(d(p(h))))){constructor(e){super(e)}initialize(){this.addHandles(i((()=>this._updatingRequiredFieldsPromise),(e=>this._updatingHandles.addPromise(e)),s))}destroy(){this._updatingHandles.removeAll(),this._fetcherContext=t(this._fetcherContext)}get maximumNumberOfFeatures(){return this.graphicsPipeline.maximumNumberOfFeatures}set maximumNumberOfFeatures(e){this.graphicsPipeline.maximumNumberOfFeatures=e}get maximumNumberOfFeaturesExceeded(){return null!=this.graphicsPipeline&&!this.suspended&&this.graphicsPipeline.maximumNumberOfFeaturesExceeded}get updatingProgressValue(){return this.graphicsPipeline?.updatingProgressValue??0}get updatePolicy(){return this.graphicsPipeline?.updatePolicy??m.ASYNC}get hasZ(){const e=this.layer,r=e.capabilities&&e.capabilities.data;return!(!r||!r.supportsZ)&&(\"returnZ\"in e&&null!=e.returnZ?e.returnZ:r.supportsZ)}get hasM(){const e=this.layer,r=e.capabilities&&e.capabilities.data;return!(!r||!r.supportsM)&&(\"returnM\"in e&&null!=e.returnM&&e.returnM)}setVisibility(e,r){this.graphicsPipeline?.setVisibility(e,r)}createQuery(){return super.createQuery()}queryFeatures(e,r){const t=()=>super.queryFeatures(e,r);return\"mesh\"===this.layer.geometryType?this._queryFeaturesMesh(this._ensureQuery(e),t):t()}async createGraphicsPipeline(){if(has(\"feature-pipeline-3d-test\")){const{Feature3DPipeline:e}=await import(\"./graphics/pipeline/Feature3DPipeline.js\");return new e({layerView:this})}return new l({layerView:this})}async doRefresh(e){return await this.graphicsPipeline.doRefresh(e)}_popupFeatureHasRequiredFields(e,r){if(!super._popupFeatureHasRequiredFields(e,r))return!1;const t=u(e,this.layer.objectIdField);if(null==t)return!0;const i=this.graphicsPipeline.getMissingAttributesForFeature(t);if(null==i)return!0;for(const s of r)if(i.has(s))return!1;return!0}get usedMemory(){return this.graphicsPipeline?.usedMemory??0}get unloadedMemory(){return this.graphicsPipeline?.unloadedMemory??0}get ignoresMemoryFactor(){return this.graphicsPipeline?.ignoresMemoryFactor??!1}async _queryFeaturesMesh(e,r){await this._validateQueryFeaturesMesh(e);const t=await r(),i=this.graphicsPipeline;if(e?.outStatistics||null==i)return t;const s=this.layer.objectIdField,a=[];for(const o of t.features)if(o.geometry){const e=i.getHydratedGeometry(o.attributes[s]);e&&(o.geometry=e,a.push(o))}else a.push(o);return t.features=a,t}async _validateQueryFeaturesMesh(e){if(!e)return;const t=e=>{throw new r(\"feature-layer-view:unsupported-query\",`Queries on Mesh feature collection layers do not support '${e}'`)},i=[\"quantizationParameters\",\"geometryPrecision\",\"maxAllowableOffset\"];for(const r of i)null!=e[r]&&t(r);\"returnM\"in e&&e.returnM&&t(\"returnM\"),\"returnCentroid\"in e&&e.returnCentroid&&t(\"returnCentroid\"),null==e.outSpatialReference||e.outSpatialReference.equals(this.view.spatialReference)||t(\"outSpatialReference\")}get test(){}};e([a()],f.prototype,\"layer\",void 0),e([a()],f.prototype,\"graphicsPipeline\",void 0),e([a()],f.prototype,\"maximumNumberOfFeatures\",null),e([a()],f.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([a(c)],f.prototype,\"updatingProgress\",void 0),e([a({readOnly:!0})],f.prototype,\"updatingProgressValue\",null),e([a({readOnly:!0})],f.prototype,\"updatePolicy\",null),e([a({readOnly:!0})],f.prototype,\"hasZ\",null),e([a({readOnly:!0})],f.prototype,\"hasM\",null),f=e([o(\"esri.views.3d.layers.FeatureLayerViewBase3D\")],f);const g=f;export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{LayerViewPerformanceInfo as e}from\"./support/LayerViewPerformanceInfo.js\";class t extends e{constructor(e,t,s,r,o,a){super(e.usedMemory,e.displayedFeatures,e.totalFeatures,e.maximumFeatures,e.nodes,e.core),this.storedFeatures=t,this.totalVertices=s,this.partial=r,this.mode=o,this.symbolComplexity=a}}export{t as FeatureLayerViewPerformanceInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let a=class extends i{initialize(){this.addHandles(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this).error(r)}))})),\"RefreshableLayerView\")}};return a=r([t(\"esri.views.layers.RefreshableLayerView\")],a),a};export{i as default};\n"],"names":["h","constructor","e","t","r","o","arguments","length","undefined","this","_mainMethod","_transferLists","_listeners","_promise","i","_objectSpread","schedule","then","_thread","hasInitialize","broadcast","_connectListener","close","catch","s","getLogger","error","concat","on","removed","eventName","callback","threadHandle","push","remove","destroy","invoke","invokeMethod","transferList","signal","Promise","reject","all","promise","n","_controller","_handle","c","buffer","byteLength","options","sourceSpatialReference","toJSON","fromJSON","spatialReference","async","l","fields","madeProgress","reschedule","p","features","uid","geometry","a","resolve","type","paths","reduce","hasZ","hasM","map","rings","super","_parseFeatureQuery","implicitFields","_this$layer$outFields","layer","outFields","includes","Set","layerView","requiredFields","availableFields","queryFeaturesDehydrated","capabilities","query","supportsFormatPBF","u","parsedUrl","_e$spatialReference$t","_e$spatialReference","_decoder","controller","applyTransform","maxStringAttributeFields","maxStringAttributeLength","f","_createRequestOptions","data","y","queryFeatureCount","customParameters","token","apiKey","constructOnly","prototype","readOnly","d","queryFeatures","m","source","queryFeaturesJSON","name","_memoryCache","_layerView","objectIdField","globalIdField","_returnZ","returnZ","_returnM","returnM","view","resourceController","normal","_memoryCacheEnabled","memoryController","newCache","createQuery","outSpatialReference","tilingScheme","memoryCache","viewingMode","state","featureTiles","scheduler","_this$_layerView$view","geometryType","fullExtent","tileMaxRecordCount","maxRecordCount","isDraped","_this$_layerView$laye","elevationInfo","mode","_this$_capabilities","_capabilities","supportsMultipleResolutions","supportsPagination","supportsResultType","supportsCacheHint","supportsQuantization","supportsQuantizationEditMode","supportsMaxRecordCountFactor","logFetchError","_t$message","message","_controllerTotal","_processorTotal","_needsRefresh","suspendResumeExtentMode","initialize","addHandles","suspended","_ref","refetch","_fetcherContext","maximumNumberOfFeatures","_this$controller$maxi","_this$controller","_get","_set","maximumNumberOfFeaturesExceeded","updatingProgressValue","_this$controller2","_this$processor","updating","updatingRemaining","Math","max","updatingTotal","processor","updatePolicy","ASYNC","get","serviceDataCount","SYNC","usedMemory","_this$processor$usedM","_this$processor2","_this$controller$memo","_this$controller3","memoryForUnusedFeatures","unloadedMemory","_this$processor$unpro","_this$processor3","_this$controller$expe","_this$controller4","_this$processor$loade","_this$processor4","_this$processor$usedM2","_this$processor5","unprocessedMemoryEstimate","expectedFeatureDiff","loadedFeatures","usedMemoryPerFeature","ignoresMemoryFactor","_this$controller5","hasMaximumNumberOfFeaturesOverride","performanceInfo","_this$controller6","_this$controller$perf","_this$controller7","_this$controller$perf2","_this$controller8","_this$controller$mode","_this$controller9","displayFeatureLimit","averageSymbolComplexity","verticesPerFeature","verticesPerCoordinate","storedFeatures","totalVertices","doRefresh","refreshFilter","setVisibility","_this$processor6","setObjectIdVisibility","getMissingAttributesForFeature","getHydratedGeometry","graphics3DProcessor","graphics3DGraphicsByObjectID","graphic","createController","context","graphics","extent","clippingExtent","updatingHandles","add","serviceDataExtent","dataExtent","updateSuspended","suspend","resume","_this$processor7","beforeSetController","test","heatmapProcessor","loadedGraphics","Map","_","q","_updatingRequiredFieldsPromise","dataUpdating","filter","_e$elevationInfo","featureExpressionInfo","displayField","timeInfo","renderer","labelingInfo","floorInfo","featureEffect","timeExtent","_handleRequiredFieldsChange","_this$view","floors","sublayers","fieldsIndex","_override","highlight","Error","returnGeometry","b","I","where","intersection","clone","createAggregateQuery","queryObjectIds","queryExtent","fetchPopupFeaturesFromGraphics","_validateFetchPopupFeatures","_fetchPopupFeatures","_loadArcadeModules","_e$expressionInfos","expressionInfos","Array","isArray","content","some","x","_updateRequiredFields","orderBy","featureReduction","allSettled","collectRequiredFields","F","g","startField","endField","floorField","infoFor3D","w","subtypeField","_e$renderer","parent","itemNameField","itemSourceField","itemTypeField","maxScaleField","minScaleField","status","reason","from","sort","origin","popupEnabled","isAggregate","popupTemplate","v","_popupFeatureHasRequiredFields","E","_createPopupQuery","_e$origin$layer","_e$origin","_l$origin$layer","_l$origin","arcadeUtils","hasGeometryOperations","set","getObjectId","index","size","Boolean","objectIds","keys","_unused","R","canResume","isEmpty","getTest","Number","_updatingHandles","addPromise","removeAll","graphicsPipeline","_this$graphicsPipelin","_this$graphicsPipelin2","_this$graphicsPipelin3","_this$graphicsPipelin4","supportsZ","supportsM","_this$graphicsPipelin5","_queryFeaturesMesh","_ensureQuery","createGraphicsPipeline","has","Feature3DPipeline","_this$graphicsPipelin6","_this$graphicsPipelin7","_this$graphicsPipelin8","_this$graphicsPipelin9","_this$graphicsPipelin10","_this$graphicsPipelin11","_validateQueryFeaturesMesh","outStatistics","attributes","returnCentroid","equals","displayedFeatures","totalFeatures","maximumFeatures","nodes","core","partial","symbolComplexity","dataChanged"],"sourceRoot":""}