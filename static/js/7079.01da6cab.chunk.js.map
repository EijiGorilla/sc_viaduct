{"version":3,"file":"static/js/7079.01da6cab.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/knowledgeGraph/IdealEdgeLengthTypeOptions.js","../node_modules/@arcgis/core/layers/LinkChartLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nvar e;!function(e){e.MULTIPLIER=\"multiplier\",e.ABSOLUTE=\"absoluteValue\"}(e||(e={}));export{e as IdealEdgeLengthTypeOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import t from\"../core/Collection.js\";import a from\"../core/Error.js\";import i from\"../core/Logger.js\";import{getOrCreateMapValue as n}from\"../core/MapUtils.js\";import{MultiOriginJSONMixin as o}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAborted as s}from\"../core/promiseUtils.js\";import{watch as r,sync as l}from\"../core/reactiveUtils.js\";import{property as h}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as d}from\"../core/accessorSupport/decorators/subclass.js\";import{OriginId as u}from\"../core/accessorSupport/PropertyOrigin.js\";import p from\"./Layer.js\";import{convertFromGeometry as c}from\"./graphics/featureConversionUtils.js\";import y from\"./graphics/OptimizedGeometry.js\";import{IdealEdgeLengthTypeOptions as g}from\"./knowledgeGraph/IdealEdgeLengthTypeOptions.js\";import{KnowledgeGraphLayerDataManager as m}from\"./knowledgeGraph/KnowledgeGraphLayerDataManager.js\";import f from\"./knowledgeGraph/KnowledgeGraphSublayer.js\";import{systemOidFieldName as L,systemOriginIdFieldName as C,systemDestinationIdFieldName as w,systemLayoutGeometryFieldName as M,systemAggregationCountFieldName as b,initializeLayersFromClientData as k}from\"./knowledgeGraph/layerUtils.js\";import T from\"./knowledgeGraph/SessionMemoryStorage.js\";import{getRelationshipEndNodeIds as E}from\"./knowledgeGraph/supportUtils.js\";import{BlendLayer as N}from\"./mixins/BlendLayer.js\";import{OperationalLayer as I}from\"./mixins/OperationalLayer.js\";import{ScaleRangeLayer as D}from\"./mixins/ScaleRangeLayer.js\";import{LCChronologicalLayout as x,LCSimpleLayout as O,LCSmartTreeLayout as _,LCRadialTreeLayout as R,LCHierarchicalLayout as A,LCCommunityLayout as G,LCForceDirectedLayout as S,NodeFlag as v,load as j,LinkType as P}from\"../libs/linkchartlayout/LinkChartLayout.js\";import{fetchKnowledgeGraph as H}from\"../rest/knowledgeGraphService.js\";import F from\"../geometry/Extent.js\";import U from\"../geometry/Point.js\";import B from\"../geometry/Polyline.js\";let z=class extends(I(N(D(o(p))))){constructor(e){if(super(e),this.dataPreloadedInLocalCache=!1,this.defaultLinkChartConfig=null,this._currentLinkChartConfig={layoutMode:\"RADIAL_TREE\"},this._graphTypeLookup=new Map,this.dataManager=null,this.knowledgeGraph=null,this.layers=new(t.ofType(f)),this.entityLinkChartDiagramLookup=new Map,this.relationshipLinkChartDiagramLookup=new Map,this.linkChartExtent=new F({xmin:-1e-7,ymin:-1e-7,xmax:1e-7,ymax:1e-7}),this.memberEntityTypes=null,this.memberRelationshipTypes=null,this.operationalLayerType=\"LinkChartLayer\",this.sublayerIdsCache=new Map,this.tables=new(t.ofType(f)),this.type=\"link-chart\",this.chronologicalAuxiliaryGraphics=null,this._originalInclusionList=e?.inclusionModeDefinition,e?.dataPreloadedInLocalCache&&!e?.inclusionModeDefinition)throw new a(\"knowledge-graph:linkchart-layer-constructor\",\"If creating a link chart composite layer and configured that data is already loaded in the cache, you must specify an inclusion list so the Composite Layer knows what records belong to it\");this.addHandles(r((()=>this.layers.concat(this.tables)),((e,t)=>this._handleSublayersChange(e,t)),l))}normalizeCtorArgs(e){if(!e)return{};const{url:t,title:a,dataPreloadedInLocalCache:i,defaultLinkChartConfig:n}=e;return{url:t,title:a,dataPreloadedInLocalCache:i,defaultLinkChartConfig:n}}_initializeLayerProperties(e){if(!this.title&&this.url){const e=this.url.split(\"/\");this.title=e[e.length-2]}const t=new Set;let n=[],o=[];if(e.inclusionModeDefinition&&(!e.inclusionModeDefinition.namedTypeDefinitions||e.inclusionModeDefinition.namedTypeDefinitions.size<1))throw new a(\"knowledge-graph:composite-layer-constructor\",\"If an explicit inclusion definition is defined, at least one namedTypeDefinition must also be defined\");e.knowledgeGraph.dataModel.entityTypes?.forEach((e=>{e.name&&this._graphTypeLookup.set(e.name,e)})),e.knowledgeGraph.dataModel.relationshipTypes?.forEach((e=>{e.name&&this._graphTypeLookup.set(e.name,e)})),e.inclusionModeDefinition?.generateAllSublayers?(n=e.knowledgeGraph.dataModel.entityTypes??[],o=e.knowledgeGraph.dataModel.relationshipTypes??[]):e.inclusionModeDefinition?.namedTypeDefinitions&&e.inclusionModeDefinition?.namedTypeDefinitions.size>0?e.inclusionModeDefinition?.namedTypeDefinitions.forEach(((a,s)=>{const r=this._graphTypeLookup.get(s);if(!r)return i.getLogger(this).warn(`A named type, ${s}, was in the inclusion list that wasn't in the data model and will be removed`),void e.inclusionModeDefinition?.namedTypeDefinitions.delete(s);\"relationship\"===r.type?t.has(s)||(t.add(s),o.push(r)):\"entity\"===r.type?t.has(s)||(t.add(s),n.push(r)):(i.getLogger(this).warn(`A named type, ${s}, was in the inclusion list that wasn't properly modeled and will be removed`),e.inclusionModeDefinition?.namedTypeDefinitions.delete(s))})):(n=e.knowledgeGraph.dataModel.entityTypes??[],o=e.knowledgeGraph.dataModel.relationshipTypes??[]);const s=new m({knowledgeGraph:e.knowledgeGraph,inclusionModeDefinition:e.inclusionModeDefinition});this.knowledgeGraph=e.knowledgeGraph,this.memberEntityTypes=n,this.memberRelationshipTypes=o,this.dataManager=s}load(e){const t=async()=>{const e=[],t=[];this.loadLayerAssumingLocalCache(),await k(this),this.dataManager.inclusionModeDefinition&&(this.dataManager.inclusionModeDefinition.generateAllSublayers=!1),this.dataManager.inclusionModeDefinition?.namedTypeDefinitions.forEach((e=>{e.useAllData=!1})),await this._initializeDiagram(),this.layers.forEach((a=>{t.push(a.refreshCachedQueryEngine()),e.push(new Promise((e=>{a.on(\"layerview-create\",(()=>{e(null)}))})))})),this.tables.forEach((e=>{t.push(e.refreshCachedQueryEngine())})),await Promise.all(t)};return this.addResolvingPromise(new Promise((a=>{H(this.url).then((async i=>{if(this._initializeLayerProperties({knowledgeGraph:i,inclusionModeDefinition:this._originalInclusionList}),this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.size||(this.dataManager.inclusionModeDefinition={generateAllSublayers:!1,namedTypeDefinitions:new Map},this.dataManager.knowledgeGraph.dataModel.entityTypes?.forEach((e=>{e.name&&this.dataManager.inclusionModeDefinition?.namedTypeDefinitions.set(e.name,{useAllData:!0})})),this.dataManager.knowledgeGraph.dataModel.relationshipTypes?.forEach((e=>{e.name&&this.dataManager.inclusionModeDefinition?.namedTypeDefinitions.set(e.name,{useAllData:!0})}))),this.dataPreloadedInLocalCache){const e=T.getInstance();for(const[t,a]of this.dataManager.inclusionModeDefinition?.namedTypeDefinitions??[])for(const i of a.members?.values()??[]){const a=e.readFromStoreById(`${t}__${i.id}`);if(a){n(this.dataManager.sublayerCaches,t,(()=>new Map)).set(i.id,a)}}await t()}else{const a=\"GEOGRAPHIC\"===this.defaultLinkChartConfig?.layoutMode;this.addResolvingPromise(this.dataManager.refreshCacheContent(void 0,!1,a,!0).then((async()=>{s(e),await t()})))}a(null)}))}))),Promise.resolve(this)}set inclusionModeDefinition(e){\"loaded\"!==this.loadStatus&&\"failed\"!==this.loadStatus?this._set(\"inclusionModeDefinition\",e):i.getLogger(this).error(\"#inclusionModeDefinition\",\"inclusionModeDefinition cannot be changed after the layer is loaded.\")}async addRecords(e,t){let a=[];t?.cascadeAddRelationshipEndNodes&&this.dataManager.knowledgeGraph.dataModel&&(a=await E(e,this.dataManager.knowledgeGraph));const i=e.concat(a).filter((e=>!this.sublayerIdsCache.get(e.typeName)?.has(e.id)));await this._handleNewRecords(i)}async removeRecords(e,{cascadeRemoveRelationships:t=!0,recalculateLayout:a=!1}={cascadeRemoveRelationships:!0,recalculateLayout:!1}){let i=[];for(const o of e)!1===this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.get(o.typeName)?.useAllData&&this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.get(o.typeName)?.members?.has(o.id)&&i.push(o);if(t){const e=new Set,t=[];for(const a of i)if(this.dataManager.nodeConnectionsLookup.has(a.id))for(const t of this.dataManager.nodeConnectionsLookup.get(a.id))e.add(t);for(const a of e)if(this.dataManager.memberIdTypeLookup.has(a))for(const e of this.dataManager.memberIdTypeLookup.get(a))this.dataManager.relationshipTypeNames.has(e)&&t.push({id:a,typeName:e});i=i.concat(t)}this.dataManager.removeFromLayer(i);for(const o of i)this.sublayerIdsCache.get(o.typeName)?.delete(o.id),this.dataManager.relationshipTypeNames.has(o.typeName)?this.relationshipLinkChartDiagramLookup.delete(o.id):this.entityLinkChartDiagramLookup.delete(o.id);a&&await this._calculateLayoutWithSublayerTimeInfo(this._currentLinkChartConfig.layoutMode,this._currentLinkChartConfig.layoutOptions);const n=[];return this.layers.forEach((e=>{n.push(e.refreshCachedQueryEngine())})),await Promise.all(n),this._refreshNamedTypes(),i}async expand(e,t){const a=await this.dataManager.getConnectedRecordIds(e,t),i=a.filter((e=>!this.sublayerIdsCache.get(e.typeName)?.has(e.id)));return await this._handleNewRecords(a),{records:i}}loadLayerAssumingLocalCache(){const e=[...this.memberRelationshipTypes,...this.memberEntityTypes];this.originIdOf(\"layers\")===u.DEFAULTS?this._createSublayers(e,this.layers,(e=>!!e.geometryType)):this._updateSublayers(e,this.layers),this.originIdOf(\"tables\")===u.DEFAULTS?this._createSublayers(e,this.tables,(e=>!e.geometryType)):this._updateSublayers(e,this.tables),this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.forEach(((e,t)=>{const a=n(this.sublayerIdsCache,t,(()=>new Set));e.members?.forEach((({id:e,linkChartLocation:i})=>{if(a.add(e),i){const a=i instanceof y?i:c(i);this.dataManager.relationshipTypeNames.has(t)?this.relationshipLinkChartDiagramLookup.set(e,a):this.entityLinkChartDiagramLookup.set(e,a)}}))}))}async calculateLinkChartLayout(e=\"RADIAL_TREE\",t){const n=[],o=[],s=[];this.dataManager.sublayerCaches.forEach(((e,t)=>{this.dataManager.entityTypeNames.has(t)?e.forEach((e=>{n.push({typeName:t,feature:e})})):this.dataManager.relationshipTypeNames.has(t)&&e.forEach((e=>{o.push({typeName:t,feature:e})}))})),this.entityLinkChartDiagramLookup=new Map,this.relationshipLinkChartDiagramLookup=new Map;const r=new Map,l=new Map,h=new Map,d=new Map,u=new Uint8Array(n.length),p=new Float64Array(n.length),y=new Float64Array(n.length),g=new Float64Array(n.length),m=new Float64Array(n.length),f=new Uint32Array(o.length),k=new Uint32Array(o.length),T=new Float64Array(o.length),E=new Float64Array(o.length),N=[],I=\"FORCE_DIRECTED\",D=new F({xmin:-1e-7,ymin:-1e-7,xmax:1e-7,ymax:1e-7});let H,z=\"FORCE_DIRECTED\",W=0,Q=0;const $=x.apply;switch(z=\"GEOGRAPHIC\"===e?I:e,z){case\"FORCE_DIRECTED\":H=S.apply;break;case\"COMMUNITY\":H=G.apply;break;case\"HIERARCHICAL\":H=A.apply;break;case\"RADIAL_TREE\":H=R.apply;break;case\"SMART_TREE\":H=_.apply;break;default:H=O.apply}let K=!1;n.forEach((({typeName:a,feature:i})=>{if(\"CHRONOLOGICAL_SINGLE\"!==e&&\"CHRONOLOGICAL_MULTIPLE\"!==e&&t?.lockedNodeLocations?.has(i.attributes[L])){\"GEOGRAPHIC\"===e&&this.dataManager.geographicLookup.has(a)?u[W]=v.IsGeographic:u[W]=v.None;const n=t.lockedNodeLocations.get(i.attributes[L]);p[W]=n.x,y[W]=n.y}else if(\"GEOGRAPHIC\"===e&&this.dataManager.geographicLookup.has(a)){u[W]=v.IsGeographic;let e=null;const t=i.attributes[this.dataManager.geographicLookup.get(a).name],n=this.dataManager.geographicLookup.get(a)?.geometryType;switch(n){case\"esriGeometryPoint\":p[W]=t?.x,y[W]=t?.y;break;case\"esriGeometryPolygon\":e=t?.centroid,null!=e?.x&&null!=e?.y?(p[W]=e.x,y[W]=e.y):u[W]=v.IsMovable;break;case\"esriGeometryPolyline\":case\"esriGeometryMultipoint\":e=t?.extent?.center,null!=e?.x&&null!=e?.y?(p[W]=e.x,y[W]=e.y):u[W]=v.IsMovable;break;default:u[W]=v.IsMovable}(null==p[W]||null==y[W]||Number.isNaN(p[W])||Number.isNaN(y[W]))&&(u[W]=v.IsMovable,p[W]=0,y[W]=0)}else if(\"CHRONOLOGICAL_SINGLE\"===e||\"CHRONOLOGICAL_MULTIPLE\"===e){!K&&t?.lockedNodeLocations?.has(i.attributes[L])&&(K=!0);const e=t?.timeInfoByTypeName?.get(a),n=e?.startField,o=n&&e?.startField?i.attributes[n]:null;g[W]=o?new Date(o).getTime():NaN;const s=e?.endField,r=s&&e?.endField?i.attributes[s]:null;m[W]=r?new Date(r).getTime():NaN,p[W]=0,y[W]=0,u[W]=v.IsMovable}else u[W]=v.IsMovable,p[W]=0,y[W]=0;d.set(i.attributes[L],W),N[W]={feature:i,typeName:a},W++})),K&&i.getLogger(this).warn(\"Locked node locations are not supported for chronological layout at this time.  Requested node locations were ignored\");let Y=!1;const q=new Map;o.forEach((a=>{const i=a.feature.attributes[C],n=a.feature.attributes[w],o=d.get(i),r=d.get(n),l=t?.timeInfoByTypeName?.get(a.typeName),h=t?.timeInfoByTypeName?l?.startField:null,u=h?a.feature.attributes[h]:null,p=l?.endField,c=p?a.feature.attributes[p]:null;if(void 0!==o&&void 0!==r){let t=i+\"-\"+n;\"CHRONOLOGICAL_SINGLE\"!==e&&\"CHRONOLOGICAL_MULTIPLE\"!==e||(t=t+\"-\"+u+\"-\"+c);const l=q.get(t),h=l?.has(a.typeName);h||(f[Q]=o,k[Q]=r,\"CHRONOLOGICAL_SINGLE\"!==e&&\"CHRONOLOGICAL_MULTIPLE\"!==e||(T[Q]=u?new Date(u).getTime():NaN,E[Q]=c?new Date(c).getTime():NaN),void 0===l?q.set(t,new Map([[a.typeName,Q]])):l.set(a.typeName,Q),Q++),s.push(a)}else Y=!0,this.relationshipLinkChartDiagramLookup.set(i,null)})),Y&&i.getLogger(this).warn(\"A relationship is a member of this layer that has either origin or destination entity nodes that are not members. The diagram geometry will be set to null\");const J=this._validateLayoutSettings(e,t),V=this._convertLayoutSettingsToCalculationSettings(J);await j();let X=!1,Z=null;if(\"CHRONOLOGICAL_SINGLE\"===e||\"CHRONOLOGICAL_MULTIPLE\"===e){let a;({success:X,links:Z,graphics:a}=$(u,p,y,g,m,f.subarray(0,Q),k.subarray(0,Q),T.subarray(0,Q),E.subarray(0,Q),\"CHRONOLOGICAL_MULTIPLE\"===e,t?.chronologicalLayoutSettings??{})),X&&(this.chronologicalAuxiliaryGraphics=a)}else({success:X,links:Z}=H(u,p,y,f.subarray(0,Q),k.subarray(0,Q),V.computationBudgetTime,V.idealEdgeLengthMultiplier,V.repulsionRadiusMultiplier));if(!X)throw new a(\"knowledge-graph:layout-failed\",\"Attempting to arrange the records in the specified layout failed\");for(let a=0;a<N.length;a++){if(y[a]>84.9999?y[a]=84.9999:y[a]<-84.9999&&(y[a]=-84.9999),p[a]>179.9999?p[a]=179.9999:p[a]<-179.9999&&(p[a]=-179.9999),N[a].feature.attributes[M]=new U(p[a],y[a]),r.has(N[a].typeName)){const e=r.get(N[a].typeName);e?.set(N[a].feature.attributes[L],N[a].feature)}else{const e=new Map;e.set(N[a].feature.attributes[L],N[a].feature),r.set(N[a].typeName,e)}h.set(N[a].feature.attributes[L],N[a].feature);const e=c(N[a].feature.attributes[M]);this.entityLinkChartDiagramLookup.set(N[a].feature.attributes[L],N[a].feature.attributes[M]?e:null),N[a].feature.attributes[M].x<D.xmin&&(D.xmin=N[a].feature.attributes[M].x),N[a].feature.attributes[M].x>D.xmax&&(D.xmax=N[a].feature.attributes[M].x),N[a].feature.attributes[M].y<D.ymin&&(D.ymin=N[a].feature.attributes[M].y),N[a].feature.attributes[M].y>D.ymax&&(D.ymax=N[a].feature.attributes[M].y)}if(this.linkChartExtent.xmin=D.xmin,this.linkChartExtent.xmax=D.xmax,this.linkChartExtent.ymin=D.ymin,this.linkChartExtent.ymax=D.ymax,!Z)throw new a(\"knowledge-graph:layout-failed\",\"Attempting to retrieve link geometry from diagram engine failed\");const ee=new Map,te=new Map,ae=new Map,ie=new Set;for(let a=0;a<s.length;a++){const n=[],o=s[a],r=o.feature.attributes[C],u=o.feature.attributes[w];let p=r+\"-\"+u;if(\"CHRONOLOGICAL_SINGLE\"===e||\"CHRONOLOGICAL_MULTIPLE\"===e){const e=t?.timeInfoByTypeName?.get(o.typeName),a=t?.timeInfoByTypeName?e?.startField:null,i=a?o.feature.attributes[a]:null,n=e?.endField;p+=\"-\"+i+\"-\"+(n?o.feature.attributes[n]:null)}const y=q.get(p).get(o.typeName),g=0===y?0:Z?.vertexEndIndex[y-1];if(!ie.has(y)){if(ie.add(y),Z.types[y]===P.Recursive){const e=[Z.vertices[2*g],Z.vertices[2*g+1]],t=[Z.vertices[2*(g+1)],Z.vertices[2*(g+1)+1]],a=[.5*(e[0]+t[0]),.5*(e[1]+t[1])],i=[a[0]-e[0],a[1]-e[1]],o=[a[0]+i[1],a[1]-i[0]],s=[a[0]-i[1],a[1]+i[0]];n.push(e),n.push(o),n.push(t),n.push(s),n.push(e)}else{if(Z.types[y]!==P.Regular){i.getLogger(this).warn(\"A relationship generated an unsupported link geometry type.  It will not be rendered\");continue}for(let e=g;e<Z.vertexEndIndex[y];e++)n.push([Z.vertices[2*e],Z.vertices[2*e+1]])}if(\"CHRONOLOGICAL_SINGLE\"!==e&&\"CHRONOLOGICAL_MULTIPLE\"!==e){const e=N[d.get(r)]?.feature.attributes[M],t=N[d.get(u)]?.feature.attributes[M];n[0][0]===e.x&&n[0][1]===e.y||(n[0]=[e.x,e.y]),n[n.length-1][0]===t.x&&n[n.length-1][1]===t.y||(n[n.length-1]=[t.x,t.y])}for(let e=1;e<n.length-1;e++)n[e][1]>85.5?n[e][1]=85.5:n[e][1]<-85.5&&(n[e][1]=-85.5),n[e][0]>179.9999?n[e][0]=179.9999:n[e][0]<-179.9999&&(n[e][0]=-179.9999);ee.has(p)?ee.get(p).push(n):ee.set(p,[n])}const m=ee.get(p);te.has(p)||(te.set(p,new Map),ae.set(p,new Map));const f=te.get(p),b=ae.get(p);f.has(o.typeName)||(f.set(o.typeName,m.shift()),b.set(o.typeName,0));const k=f.get(o.typeName);b.set(o.typeName,b.get(o.typeName)+1);const T=new B({paths:[k]});if(o.feature.attributes[M]=T,l.has(o.typeName)){const e=l.get(o.typeName);e?.set(o.feature.attributes[L],o.feature)}else{const e=new Map;e.set(o.feature.attributes[L],o.feature),l.set(o.typeName,e)}h.set(o.feature.attributes[L],o.feature);const E=c(o.feature.attributes[M]);this.relationshipLinkChartDiagramLookup.set(o.feature.attributes[L],o.feature.attributes[M]?E:null)}for(const a of s)a.feature.attributes[b]=ae.get(a.feature.attributes[C]+\"-\"+a.feature.attributes[w])?.get(a.typeName)??null;return this._currentLinkChartConfig={layoutMode:e,layoutOptions:J},{nodes:r,links:l,idMap:h}}async applyNewLinkChartLayout(e=\"RADIAL_TREE\",t){const a=[];await this._calculateLayoutWithSublayerTimeInfo(e,t),this.layers.forEach((e=>{a.push(e.refreshCachedQueryEngine())})),await Promise.all(a),this._refreshNamedTypes()}getCurrentNodeLocations(){const e=new Map;return this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.forEach((t=>{t?.members?.forEach((t=>{const a=t.linkChartLocation;let i;const n=t.id;a&&(i=\"x\"in a?{x:a.x,y:a.y}:{x:a.coords[0],y:a.coords[1]},e.set(n,new U({x:i.x,y:i.y})))}))})),e}async synchronizeInclusionListWithCache(){return new Promise((e=>{this.dataManager.inclusionModeDefinition?.namedTypeDefinitions.forEach(((e,t)=>{if(e.useAllData=!1,e.members&&e.members.size>0){if(!this.dataManager.sublayerCaches.get(t))return;const a=new Set(Array.from(this.dataManager.sublayerCaches.get(t).keys()));Array.from(e.members.keys()).filter((e=>!a.has(e))).forEach((t=>{e.members?.delete(t)}))}})),e()}))}async refreshLinkChartCache(e){await this.dataManager.refreshCacheContent(e);const t=[];this.layers.forEach((e=>{t.push(e.refreshCachedQueryEngine())})),await Promise.all(t),this._refreshNamedTypes()}async connectBetweenEntities(e){let t=[];for(const i of this.dataManager.relationshipTypeNames){const e=this.sublayerIdsCache.get(i);e&&(t=t.concat(Array.from(e.keys())))}const a=await this.dataManager.getRelationshipsBetweenNodes(e,t);return await this._handleNewRecords(a),{records:a}}async connectFromEntities(e){let t=[];for(const n of this.dataManager.relationshipTypeNames){const e=this.sublayerIdsCache.get(n);e&&(t=t.concat(Array.from(e.keys())))}let a=[];for(const n of this.dataManager.entityTypeNames){const e=this.sublayerIdsCache.get(n);e&&(a=a.concat(Array.from(e)))}const i=await this.dataManager.getRelationshipsFromNodes(e,a,t);return await this._handleNewRecords(i),{records:i}}getCurrentLayout(){return this._currentLinkChartConfig.layoutMode}async _calculateLayoutWithSublayerTimeInfo(e=\"RADIAL_TREE\",t){const a=new Map;this.layers.forEach((e=>{a.set(e.objectType.name,e.timeInfo)})),await this.calculateLinkChartLayout(e,{timeInfoByTypeName:a,...t})}async _handleNewRecords(e){const t=[];this.dataManager.addToLayer(e);for(const i of e)this.sublayerIdsCache.has(i.typeName)||(this.sublayerIdsCache.set(i.typeName,new Set),t.push(i.typeName)),this.sublayerIdsCache.get(i.typeName).add(i.id);for(const i of t){const e=this._graphTypeLookup.get(i);if(e){const t=this._createSublayer(e);\"entity\"===e.type?this.dataManager.entityTypeNames.add(i):this.dataManager.relationshipTypeNames.add(i),t.geometryType?this.layers.push(t):this.tables.push(t),this.dataManager.sublayerCaches.set(i,new Map)}}await k(this,t),await this.dataManager.refreshCacheContent(e.map((e=>e.id)));const a=Object.assign({},this._currentLinkChartConfig.layoutOptions);a.lockedNodeLocations=new Map;for(const[i,n]of this.entityLinkChartDiagramLookup.entries())n&&a.lockedNodeLocations.set(i,new U(n.coords[0],n.coords[1]));await this.applyNewLinkChartLayout(this._currentLinkChartConfig.layoutMode,a)}_createSublayers(e,t,a){e.forEach((e=>{const i=this._createSublayer(e);a(i)&&t.push(i),this._updateSublayerCaches(e)}))}_updateSublayers(e,t){t.forEach((t=>{t.parentCompositeLayer=this;const a=e.find((e=>e.type===t.graphType&&e.name===t.graphTypeName));a&&(t.objectType=a,t.read({title:a.name},{origin:\"service\"}),this._updateSublayerCaches(a))}))}_updateSublayerCaches(e){const t=this.dataManager.sublayerCaches;t.has(e.name)||t.set(e.name,new Map)}async _initializeDiagram(){this.defaultLinkChartConfig?this.defaultLinkChartConfig.doNotRecalculateLayout?(this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.forEach(((e,t)=>{e?.members?.forEach((e=>{const a=e.linkChartLocation;let i;const n=e.id;if(!a)return;i=\"x\"in a?{x:a.x,y:a.y}:{x:a.coords[0],y:a.coords[1]};const o=c(i);this.dataManager.relationshipTypeNames.has(t)?this.relationshipLinkChartDiagramLookup.set(n,o):this.entityLinkChartDiagramLookup.set(n,o),this.linkChartExtent.xmin>i.x&&(this.linkChartExtent.xmin=i.x),this.linkChartExtent.xmax<i.x&&(this.linkChartExtent.xmax=i.x),this.linkChartExtent.ymin>i.y&&(this.linkChartExtent.ymin=i.y),this.linkChartExtent.ymax<i.y&&(this.linkChartExtent.ymax=i.y)}))})),this.memberRelationshipTypes.forEach((e=>{e.name&&this.dataManager.sublayerCaches.get(e.name)?.forEach((e=>{const t=this.relationshipLinkChartDiagramLookup.get(e.attributes[C]),a=this.relationshipLinkChartDiagramLookup.get(e.attributes[w]);if(t&&a){const i=c(new B({paths:[[[t.coords[0],t.coords[1]],[a.coords[0],a.coords[1]]]]}));this.relationshipLinkChartDiagramLookup.set(e.attributes[L],i)}else this.relationshipLinkChartDiagramLookup.set(e.attributes[L],null)}))}))):await this._calculateLayoutWithSublayerTimeInfo(this.defaultLinkChartConfig.layoutMode,{lockedNodeLocations:this.getCurrentNodeLocations(),...this.defaultLinkChartConfig.layoutOptions||{}}):await this._calculateLayoutWithSublayerTimeInfo(\"RADIAL_TREE\",{lockedNodeLocations:this.getCurrentNodeLocations()})}_refreshNamedTypes(){for(const e of this.layers)e.emit(\"refresh\",{dataChanged:!0});for(const e of this.tables)e.emit(\"refresh\",{dataChanged:!0})}_validateLayoutSettings(e,t){const a=e=>\"number\"==typeof e&&!isNaN(e),n=e=>a(e)&&e>=1,o=e=>a(e)&&e>=1,s=e=>Object.values(g).includes(e),r=e=>a(e)&&e>=0,l={organicLayoutSettings:{},chronologicalLayoutSettings:{}};if(!new Set([\"FORCE_DIRECTED\",\"COMMUNITY\",\"GEOGRAPHIC\",\"CHRONOLOGICAL_MULTIPLE\",\"CHRONOLOGICAL_SINGLE\"]).has(e)||!t)return l;t.organicLayoutSettings??={};const{computationBudgetTime:h,repulsionRadiusMultiplier:d,idealEdgeLength:u,idealEdgeLengthType:p}=t.organicLayoutSettings;o(h)?l.organicLayoutSettings.computationBudgetTime=h:void 0!==h&&i.getLogger(this).warn(\"Invalid layout computationBudgetTime setting, will revert to default setting\"),n(d)?l.organicLayoutSettings.repulsionRadiusMultiplier=d:void 0!==d&&i.getLogger(this).warn(\"Invalid layout repulsionRadiusMultiplier setting, will revert to default setting\");if(\"GEOGRAPHIC\"===e&&(void 0!==u||void 0!==p)&&(s(p)?l.organicLayoutSettings.idealEdgeLengthType=p:void 0!==p&&i.getLogger(this).warn('Invalid layout idealEdgeLengthType setting, will revert to \"multiplier\" setting'),r(u)?l.organicLayoutSettings.idealEdgeLength=u:void 0!==u&&i.getLogger(this).warn(\"Invalid layout idealEdgeLength setting, will revert to default setting\")),(\"CHRONOLOGICAL_MULTIPLE\"===e||\"CHRONOLOGICAL_SINGLE\"===e)&&t.chronologicalLayoutSettings){const e=t.chronologicalLayoutSettings;e.durationLineWidth&&e.durationLineWidth<0&&i.getLogger(this).warn(\"Invalid layout durationLineWidth setting, will revert to default setting\")}return l}_convertLayoutSettingsToCalculationSettings(e){e.organicLayoutSettings??={};let t=e.organicLayoutSettings.idealEdgeLength;return e.organicLayoutSettings.idealEdgeLengthType===g.ABSOLUTE&&(void 0===t?t=-1:t*=-1),{computationBudgetTime:e.organicLayoutSettings.computationBudgetTime,repulsionRadiusMultiplier:e.organicLayoutSettings.repulsionRadiusMultiplier,idealEdgeLengthMultiplier:t}}_createSublayer(e){return new f({objectType:e,parentCompositeLayer:this,graphType:e.type})}_handleSublayersChange(e,t){t&&(t.forEach((e=>{e.parent=null})),this.removeHandles(\"sublayers-owner\")),e&&(e.forEach((e=>{e.parent=this})),this.addHandles([e.on(\"after-add\",(({item:e})=>{e.parent=this})),e.on(\"after-remove\",(({item:e})=>{e.parent=null}))],\"sublayers-owner\"))}};e([h()],z.prototype,\"dataPreloadedInLocalCache\",void 0),e([h()],z.prototype,\"defaultLinkChartConfig\",void 0),e([h()],z.prototype,\"dataManager\",void 0),e([h()],z.prototype,\"inclusionModeDefinition\",null),e([h()],z.prototype,\"knowledgeGraph\",void 0),e([h({type:t.ofType(f),json:{write:{ignoreOrigin:!0}}})],z.prototype,\"layers\",void 0),e([h()],z.prototype,\"entityLinkChartDiagramLookup\",void 0),e([h()],z.prototype,\"relationshipLinkChartDiagramLookup\",void 0),e([h()],z.prototype,\"linkChartExtent\",void 0),e([h()],z.prototype,\"memberEntityTypes\",void 0),e([h()],z.prototype,\"memberRelationshipTypes\",void 0),e([h({type:[\"LinkChartLayer\"]})],z.prototype,\"operationalLayerType\",void 0),e([h()],z.prototype,\"sublayerIdsCache\",void 0),e([h({type:t.ofType(f),json:{write:{ignoreOrigin:!0}}})],z.prototype,\"tables\",void 0),e([h({json:{read:!1}})],z.prototype,\"type\",void 0),e([h({json:{read:!1}})],z.prototype,\"chronologicalAuxiliaryGraphics\",void 0),z=e([d(\"esri.layers.LinkChartLayer\")],z);const W=z;export{W as default};\n"],"names":["e","MULTIPLIER","ABSOLUTE","z","I","N","D","o","p","constructor","super","this","dataPreloadedInLocalCache","defaultLinkChartConfig","_currentLinkChartConfig","layoutMode","_graphTypeLookup","Map","dataManager","knowledgeGraph","layers","t","ofType","f","entityLinkChartDiagramLookup","relationshipLinkChartDiagramLookup","linkChartExtent","F","xmin","ymin","xmax","ymax","memberEntityTypes","memberRelationshipTypes","operationalLayerType","sublayerIdsCache","tables","type","chronologicalAuxiliaryGraphics","_originalInclusionList","inclusionModeDefinition","a","addHandles","r","concat","_handleSublayersChange","l","normalizeCtorArgs","url","title","i","n","_initializeLayerProperties","_e$knowledgeGraph$dat","_e$knowledgeGraph$dat2","_e$inclusionModeDefin","_e$knowledgeGraph$dat3","_e$knowledgeGraph$dat4","_e$inclusionModeDefin2","_e$inclusionModeDefin3","_e$inclusionModeDefin4","_e$knowledgeGraph$dat5","_e$knowledgeGraph$dat6","split","length","Set","namedTypeDefinitions","size","dataModel","entityTypes","forEach","name","set","relationshipTypes","generateAllSublayers","s","_e$inclusionModeDefin5","_e$inclusionModeDefin6","get","getLogger","warn","delete","has","add","push","m","load","async","_this$dataManager$inc","loadLayerAssumingLocalCache","k","useAllData","_initializeDiagram","refreshCachedQueryEngine","Promise","on","all","addResolvingPromise","H","then","_this$dataManager$inc2","_this$dataManager$kno","_this$dataManager$kno2","_this$dataManager$inc3","_this$dataManager$inc4","T","getInstance","_this$dataManager$inc5","_this$dataManager$inc6","_a$members$values","_a$members","members","values","readFromStoreById","id","sublayerCaches","_this$defaultLinkChar","refreshCacheContent","resolve","loadStatus","_set","error","addRecords","cascadeAddRelationshipEndNodes","E","filter","_this$sublayerIdsCach","typeName","_handleNewRecords","removeRecords","cascadeRemoveRelationships","recalculateLayout","arguments","undefined","_this$dataManager$inc7","_this$dataManager$inc8","nodeConnectionsLookup","memberIdTypeLookup","relationshipTypeNames","removeFromLayer","_this$sublayerIdsCach2","_calculateLayoutWithSublayerTimeInfo","layoutOptions","_refreshNamedTypes","expand","getConnectedRecordIds","_this$sublayerIdsCach3","records","_this$dataManager$inc9","originIdOf","u","DEFAULTS","_createSublayers","geometryType","_updateSublayers","_e$members","_ref","linkChartLocation","y","c","calculateLinkChartLayout","entityTypeNames","feature","h","d","Uint8Array","Float64Array","g","Uint32Array","W","Q","$","x","apply","S","G","A","R","_","O","K","_ref2","_t$lockedNodeLocation","_e","_e2","_t$extent","_e3","_e4","lockedNodeLocations","attributes","L","geographicLookup","v","IsGeographic","None","_this$dataManager$geo","centroid","IsMovable","extent","center","Number","isNaN","_t$lockedNodeLocation2","_t$timeInfoByTypeName","timeInfoByTypeName","startField","Date","getTime","NaN","endField","Y","q","_t$timeInfoByTypeName2","C","w","J","_validateLayoutSettings","V","_convertLayoutSettingsToCalculationSettings","j","X","Z","_t$chronologicalLayou","success","links","graphics","subarray","chronologicalLayoutSettings","computationBudgetTime","idealEdgeLengthMultiplier","repulsionRadiusMultiplier","M","U","ee","te","ae","ie","_Z","_t$timeInfoByTypeName3","vertexEndIndex","types","P","Recursive","vertices","Regular","_N$d$get","_N$d$get2","b","shift","B","paths","_ae$get$get","_ae$get","nodes","idMap","applyNewLinkChartLayout","getCurrentNodeLocations","_this$dataManager$inc10","_t$members","coords","synchronizeInclusionListWithCache","_this$dataManager$inc11","Array","from","keys","_e$members2","refreshLinkChartCache","connectBetweenEntities","getRelationshipsBetweenNodes","connectFromEntities","getRelationshipsFromNodes","getCurrentLayout","objectType","timeInfo","_objectSpread","addToLayer","_createSublayer","map","Object","assign","entries","_updateSublayerCaches","parentCompositeLayer","find","graphType","graphTypeName","read","origin","_this$dataManager$inc12","doNotRecalculateLayout","_e$members3","_this$dataManager$sub","emit","dataChanged","_t$organicLayoutSetti","organicLayoutSettings","idealEdgeLength","idealEdgeLengthType","includes","durationLineWidth","_e$organicLayoutSetti","parent","removeHandles","_ref3","item","_ref4","prototype","json","write","ignoreOrigin"],"sourceRoot":""}