{"version":3,"file":"static/js/183.fc016bba.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/portal/support/geometryServiceUtils.js","../node_modules/@arcgis/core/views/3d/layers/support/overlayImageUtils.js","../node_modules/@arcgis/core/views/3d/layers/DynamicLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ObjectAndLayerIdColor as o}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{terrainDepthTest as t}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{ColorConversion as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as n}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as d}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as a}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as l}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as p}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{outputColorHighlightOID as v}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";function c(c){const u=new l,{vertex:m,fragment:b}=u;return n(m,c),u.include(i,c),u.include(t,c),u.include(r,c),u.include(o,c),u.include(v,c),u.attributes.add(p.POSITION,\"vec3\"),u.attributes.add(p.UV0,\"vec2\"),c.perspectiveInterpolation&&u.attributes.add(p.PERSPECTIVEDIVIDE,\"float\"),u.varyings.add(\"vpos\",\"vec3\"),c.terrainDepthTest&&u.varyings.add(\"depth\",\"float\"),m.main.add(a`\n    vpos = position;\n    ${c.terrainDepthTest?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n    vTexCoord = uv0;\n    gl_Position = transformPosition(proj, view, vpos);\n    ${c.perspectiveInterpolation?\"gl_Position *= perspectiveDivide;\":\"\"}`),b.uniforms.add(new g(\"tex\",(e=>e.texture)),new d(\"opacity\",(e=>e.opacity))),u.varyings.add(\"vTexCoord\",\"vec2\"),b.include(s),b.main.add(a`\n    discardBySlice(vpos);\n    ${c.terrainDepthTest?\"terrainDepthTest(depth);\":\"\"}\n    ${c.output===e.ObjectAndLayerIdColor?\"fragColor = vec4(0, 0, 0, 1);\\n           return;\":\"\"}\n    vec4 finalColor = texture(tex, vTexCoord) * opacity;\n    outputColorHighlightOID(finalColor, vpos);`),u}const u=Object.freeze(Object.defineProperty({__proto__:null,build:c},Symbol.toStringTag,{value:\"Module\"}));export{u as I,c as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport r from\"../../config.js\";import e from\"../../core/Error.js\";import t from\"../Portal.js\";import{project as o}from\"../../rest/geometryService/project.js\";import i from\"../../rest/support/ProjectParameters.js\";async function n(o=null,i){if(r.geometryServiceUrl)return r.geometryServiceUrl;if(!o)throw new e(\"internal:geometry-service-url-not-configured\");let n;n=\"portal\"in o?o.portal||t.getDefault():o,await n.load({signal:i});const a=n.helperServices?.geometry?.url;if(!a)throw new e(\"internal:geometry-service-url-not-configured\");return a}async function a(r,t,a=null,l){const c=await n(a,l),s=new i({geometries:[r],outSpatialReference:t}),m=await o(c,s,{signal:l});if(m&&Array.isArray(m)&&1===m.length)return m[0];throw new e(\"internal:geometry-service-projection-failed\")}export{n as getGeometryServiceURL,a as projectGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{width as t,height as e,intersects as r}from\"../../../../geometry/support/aaBoundingRect.js\";import{newDoubleArray as o}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as n}from\"../../../../geometry/support/FloatArray.js\";import{Attribute as i}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as m}from\"../../webgl-engine/lib/Geometry.js\";import{createSquareGeometry as h}from\"../../webgl-engine/lib/GeometryUtil.js\";import{VertexAttribute as g}from\"../../webgl-engine/lib/VertexAttribute.js\";function u(r,o,n){const i=t(r)/e(r),m={width:n,height:n};return i>1.0001?m.height=n/i:i<.9999&&(m.width=n*i),m.width=Math.round(m.width/(t(r)/t(o))),m.height=Math.round(m.height/(e(r)/e(o))),m}function l(t,e){return h(t,[[e[0],e[1],-1],[e[2],e[1],-1],[e[2],e[3],-1],[e[0],e[3],-1]])}function s(t,e,h){if(!r(e,h))return l(t,h);const u=[e[1]-h[1],Math.min(e[3],h[3])-Math.max(e[1],h[1]),h[3]-e[3],123456],s=[e[0]-h[0],Math.min(e[2],h[2])-Math.max(e[0],h[0]),h[2]-e[2],123456],f=h[2]-h[0],p=h[3]-h[1],w=s[0]>0&&s[2]>0?3:2,b=u[0]>0&&u[2]>0?3:2,c=(b+1)*(w+1),y=o(3*c),d=n(2*c),j=new Array(6*(b*w-1));let A=0,M=0,x=0,O=0,G=0;for(let r=0;r<4;r++){const t=u[r];if(t<=0)continue;let e=0;for(let o=0;o<4;o++){const t=s[o];t<=0||(y[M++]=h[0]+e,y[M++]=h[1]+A,y[M++]=-1,d[x++]=e/f,d[x++]=A/p,o<3&&r<3&&(1!==o||1!==r)&&(j[G++]=O,j[G++]=O+1,j[G++]=O+w+1,j[G++]=O+1,j[G++]=O+w+2,j[G++]=O+w+1),O++,e+=t)}A+=t}const I=new Array(j.length);return new m(t,[[g.POSITION,new i(y,j,3,!0)],[g.NORMAL,new i(a,I,3,!0)],[g.UV0,new i(d,j,2,!0)]])}const a=[0,0,1];export{u as computeImageExportSize,l as createGeometryForExtent,s as createOuterImageGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{forEach as t,result as r}from\"../../../core/asyncUtils.js\";import{makeHandle as i}from\"../../../core/handleUtils.js\";import s from\"../../../core/Logger.js\";import{abortMaybe as a}from\"../../../core/maybe.js\";import{debounce as o,isAbortError as n,onAbort as l,isAborted as h,createAbortError as m,throwIfAborted as d}from\"../../../core/promiseUtils.js\";import{whenOnce as c}from\"../../../core/reactiveUtils.js\";import{property as g}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../geometry/Extent.js\";import{equals as f,create as y,width as w,height as _,copy as x,intersection as v}from\"../../../geometry/support/aaBoundingRect.js\";import{DrapeSourceType as R}from\"./interfaces.js\";import{LayerView3D as b}from\"./LayerView3D.js\";import{computeImageExportSize as E,createGeometryForExtent as j,createOuterImageGeometry as S}from\"./support/overlayImageUtils.js\";import{toViewIfLocal as I}from\"./support/projectExtentUtils.js\";import{debugFlags as A}from\"../support/debugFlags.js\";import{OverlayIndex as D}from\"../terrain/interfaces.js\";import{DirtyOperation as M}from\"../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as L}from\"../webgl-engine/lib/RenderGeometry.js\";import{Texture as C}from\"../webgl-engine/lib/Texture.js\";import{UpdatePolicy as G}from\"../webgl-engine/lib/UpdatePolicy.js\";import{ImageMaterial as P}from\"../webgl-engine/materials/ImageMaterial.js\";import T from\"../../layers/LayerView.js\";import O from\"../../layers/RefreshableLayerView.js\";import{isInEffectiveScaleRange as U}from\"../../support/layerViewUtils.js\";import{TextureWrapMode as H}from\"../../webgl/enums.js\";let V=class extends(O(b(T))){constructor(){super(...arguments),this.drapeSourceType=R.RasterImage,this.updatePolicy=G.SYNC,this.fullExtentInLocalViewSpatialReference=null,this.maximumDataResolution=null,this._images=new Array,this._extents=new Array,this._overlays=new Array,this.updateWhenStationary=!0,this._drapeSourceRenderer=null,this.refreshDebounced=o((async e=>{this.destroyed||await this._doRefresh(e).catch((e=>{n(e)||s.getLogger(this).error(e)}))}),2e3)}get visibleAtCurrentScale(){const e=this.layer,t=\"effectiveScaleRange\"in e?e.effectiveScaleRange:null;return U(t,this.view.scale)}initialize(){this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this),this.addHandles(i((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))),this.addResolvingPromise(I(this).then((e=>this._set(\"fullExtentInLocalViewSpatialReference\",e)))),this._updatingHandles.add((()=>this.suspended),(()=>this._suspendedChangeHandler()))}destroy(){this.clear()}setDrapingExtent(e,t){this._spatialReference=t,e.forEach(((e,t)=>{this._overlays[t]=e,this._updateImageExtent(e,t)}))}_updateImageExtent(e,t){const r=this._clippedExtent(e.extent,z);if(null==r)return;const i=E(e.extent,r,e.resolution);let a=e.pixelRatio*this.view.state.pixelRatio;const{layer:o}=this;if(\"imageMaxWidth\"in o&&null!=o.imageMaxWidth||\"imageMaxHeight\"in o&&null!=o.imageMaxHeight){const e=o.imageMaxWidth,t=o.imageMaxHeight;if(i.width>e){const t=e/i.width;i.height=Math.floor(i.height*t),i.width=e,a*=t}if(i.height>t){const e=t/i.height;i.width=Math.floor(i.width*e),i.height=t,a*=e}}const l=this._extents[t];l&&f(l.extent,r)&&this._imageSizeEquals(r,l.imageSize,i)||(this._extents[t]={extent:y(r),imageSize:i,pixelRatio:a},this.suspended||this._fetch(t).catch((e=>{n(e)||s.getLogger(this).error(e)})))}clear(){for(let e=0;e<this._images.length;e++)this._clearImage(e)}async doRefresh(){return this._doRefresh()}async _doRefresh(e){if(this.suspended)return;const t=[];for(let r=0;r<this._extents.length;r++)this._extents[r]&&t.push(this._fetch(r,e));await Promise.allSettled(t)}async processResult(e,t,r){(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement)&&(e.image=t)}findExtentInfoAt(e){for(const t of this._extents){const r=t.extent;if(new p(r[0],r[1],r[2],r[3],this._spatialReference).contains(e))return t}return null}getFetchOptions(){}async redraw(e,r){await t(this._images,(async(t,i)=>{t&&(await e(t,r),await this._createStageObjects(i,t.image,r))}))}_imageSizeEquals(e,t,r){if(!this.maximumDataResolution)return!1;const i=w(e)/this.maximumDataResolution.x,s=_(e)/this.maximumDataResolution.y,a=i/t.width,o=s/t.height,n=i/r.width,l=s/r.height,h=Math.abs(a-n),m=Math.abs(o-l),d=A.TESTS_DISABLE_OPTIMIZATIONS?0:1.5;return h<=d&&m<=d}async _fetch(e,t){if(this.suspended)return;const r=this._extents[e],i=r.extent;this._images[e]||(this._images[e]={texture:null,material:null,renderGeometry:null,loadingPromise:null,loadingAbortController:null,image:null,pixelData:null,renderExtent:y(i)});const o=this._images[e];o.loadingAbortController=a(o.loadingAbortController);const c=new p(i[0],i[1],i[2],i[3],this._spatialReference);if(0===c.width||0===c.height)return void this._clearImage(e);const g=new AbortController;o.loadingAbortController=g,l(t,(()=>g.abort()));const u=g.signal,f=this._waitFetchReady(u).then((async()=>{const t={requestAsImageElement:!0,pixelRatio:this._overlays[e].pixelRatio,...this.getFetchOptions(),signal:u},{height:i,width:s}=r.imageSize;return this.layer.fetchImage(c,s,i,t)})).then((e=>{if(h(u))throw s.getLogger(this).warnOnce(\"A call to fetchImage resolved even though the request was aborted. fetchImage should not resolve if options.signal.aborted is true.\"),m();return this.processResult(o,e)})).then((()=>{x(o.renderExtent,i)}));o.loadingPromise=f,await this._updatingHandles.addPromise(f.then((async()=>{d(u),await this._createStageObjects(e,o.image,u)})).catch((e=>{throw e&&!n(e)&&s.getLogger(this).error(e),e})).finally((()=>{f===o.loadingPromise&&(o.loadingPromise=null,o.loadingAbortController=null)})))}_clearImage(e){const t=this._images[e];if(t){null!=t.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([t.renderGeometry],M.UPDATE),t.renderGeometry=null);const e=this.view._stage,r=t.texture;r?.unload(),e.remove(r),t.texture=null,e.remove(t.material),t.material=null,t.loadingAbortController=a(t.loadingAbortController),t.loadingPromise=null,t.image=null,t.pixelData=null}}async _createStageObjects(e,t,i){const s=this.view._stage,a=this._images[e],o=()=>{a.texture?.unload(),s.remove(a.texture),a.texture=null,a.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([a.renderGeometry],M.UPDATE),a.renderGeometry=null)};if(t){const n=new C(t,{width:t.width,height:t.height,preMultiplyAlpha:!0,wrap:{s:H.CLAMP_TO_EDGE,t:H.CLAMP_TO_EDGE}});let l;if(await r(this._images[e===D.INNER?D.OUTER:D.INNER].loadingPromise),d(i),o(),await s.schedule((()=>n.load(s.renderView.renderingContext)),i),s.add(n),a.texture=n,null==a.material?(a.material=new P({textureId:n.id}),s.add(a.material)):a.material.setParameters({textureId:n.id}),e===D.INNER)l=j(a.material,a.renderExtent);else{const e=this._images[0].renderExtent;if(!e)return void o();l=S(a.material,e,a.renderExtent)}a.renderGeometry=new L(l),a.renderGeometry.localOrigin=this._overlays[e].renderLocalOrigin,this._drapeSourceRenderer.addGeometries([a.renderGeometry],M.UPDATE)}else o(),s.remove(a.material),a.material=null}_clippedExtent(e,t){if(\"local\"!==this.view.viewingMode)return x(t,e);const r=this.view.basemapTerrain;return r.ready?v(e,r.extent,t):x(t,e)}_suspendedChangeHandler(){this.suspended?this.clear():this.refreshDebounced()}async _waitFetchReady(e){await c((()=>this.view.stationary),e),d(e)}};e([g()],V.prototype,\"layer\",void 0),e([g()],V.prototype,\"suspended\",void 0),e([g({readOnly:!0})],V.prototype,\"fullExtentInLocalViewSpatialReference\",void 0),e([g({readOnly:!0})],V.prototype,\"visibleAtCurrentScale\",null),e([g()],V.prototype,\"updating\",void 0),V=e([u(\"esri.views.3d.layers.DynamicLayerView3D\")],V);const N=V,z=y();export{N as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{project as e}from\"../../../../geometry/support/webMercatorUtils.js\";import{projectGeometry as t}from\"../../../../portal/support/geometryServiceUtils.js\";async function r(r){const l=r.view.spatialReference,n=r.layer.fullExtent,o=null!=n&&n.spatialReference;if(null==n||!o)return null;if(o.equals(l))return n.clone();const u=e(n,l);if(null!=u)return u;if(r.view.state.isLocal)try{const e=await t(n,l,r.layer.portalItem);return r.destroyed||null==e?null:e}catch{return null}return null}export{r as toViewIfLocal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{VertexAttribute as O}from\"../lib/VertexAttribute.js\";const t=e().vec3f(O.POSITION),f=e().vec3f(O.POSITION).vec2f(O.UV0),r=e().vec3f(O.POSITION).vec4u8(O.COLOR),I=e().vec3f(O.POSITION).vec2f(O.UV0).vec4u8(O.OBJECTANDLAYERIDCOLOR);export{r as PositionColorLayout,t as PositionLayout,f as PositionUVLayout,I as PositionUVLayoutObjectAndLayerId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{NoParameters as t}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as s}from\"../lib/OITPass.js\";import{oitBlending as l,oitDepthTest as n,depthWrite as o,getDrawBuffers as a,getOITPolygonOffset as c}from\"../lib/OrderIndependentTransparency.js\";import{stencilWriteMaskOn as p,stencilToolMaskBaseParams as u,stencilBaseAllZerosParams as d}from\"../lib/StencilUtils.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{I as f}from\"../../../../chunks/ImageMaterial.glsl.js\";import{makePipelineState as h,blendWithPremultipliedAlpha as g,cullingParams as P,defaultColorWrite as j}from\"../../../webgl/renderState.js\";class b extends t{}class I extends i{constructor(e,t,i){super(e,t,new r(f,(()=>import(\"./ImageMaterial.glsl.js\"))),i,S)}_getPipelineState(t,r){const{oitPass:i,output:m,hasOccludees:f,enableOffset:b,cullFace:I}=t,S=i===s.NONE,O=i===s.FrontFace;return h({blending:m===e.Color?S?g:l(i):null,culling:P(I),depthTest:{func:n(i)},depthWrite:o(t),drawBuffers:a(i,m),colorWrite:j,stencilWrite:f?p:null,stencilTest:f?r?u:d:null,polygonOffset:S||O?null:c(b)})}initializePipeline(e){return this._occludeePipeline=this._getPipelineState(e,!0),this._getPipelineState(e,!1)}getPipeline(e){return e?this._occludeePipeline:super.getPipeline()}}const S=new Map([[m.POSITION,0],[m.UV0,2],[m.PERSPECTIVEDIVIDE,3]]);export{b as ImageMaterialPassParameters,I as ImageMaterialTechnique,S as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as t}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as r}from\"../lib/basicInterfaces.js\";import{DefaultTechniqueConfiguration as s}from\"../materials/DefaultTechniqueConfiguration.js\";class a extends s{constructor(){super(...arguments),this.cullFace=r.None,this.hasSlicePlane=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.perspectiveInterpolation=!0,this.textureCoordinateType=t.None,this.emissionSource=o.None,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.objectAndLayerIdColorInstanced=!1}}e([i({count:r.COUNT})],a.prototype,\"cullFace\",void 0),e([i()],a.prototype,\"hasSlicePlane\",void 0),e([i()],a.prototype,\"enableOffset\",void 0),e([i()],a.prototype,\"writeDepth\",void 0),e([i()],a.prototype,\"hasOccludees\",void 0),e([i()],a.prototype,\"terrainDepthTest\",void 0),e([i()],a.prototype,\"cullAboveTerrain\",void 0),e([i()],a.prototype,\"perspectiveInterpolation\",void 0);export{a as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{BufferViewFloat as e}from\"../../../../geometry/support/buffer/BufferView.js\";import{isHighlightOrOID as t,isColor as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as i}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as s}from\"../lib/GLTextureMaterial.js\";import{MaterialParameters as a}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as o}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as n}from\"../lib/RenderSlot.js\";import{assert as u}from\"../lib/Util.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as l}from\"./DefaultBufferWriter.js\";import{PositionUVLayout as p}from\"./DefaultLayouts.js\";import{TriangleMaterial as h}from\"./TriangleMaterial.js\";import{writeBufferFloat as f,writeDefaultAttribute as m}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as T,ImageMaterialTechnique as g}from\"../shaders/ImageMaterialTechnique.js\";import{ImageMaterialTechniqueConfiguration as d}from\"../shaders/ImageMaterialTechniqueConfiguration.js\";class I extends h{constructor(e){super(e,b),this._configuration=new d,this.vertexAttributeLocations=T,this.supportsEdges=!0,this.produces=new Map([[n.OPAQUE_MATERIAL,e=>t(e)],[n.TRANSPARENT_MATERIAL,e=>r(e)&&this.parameters.writeDepth],[n.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>r(e)&&!this.parameters.writeDepth],[n.DRAPED_MATERIAL,e=>r(e)||t(e)]])}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=t.hasOccludees,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<o,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}get visible(){return!0}createGLMaterial(e){return new _(e)}createBufferWriter(){const e=p.clone();return this.parameters.perspectiveInterpolation&&e.f32(c.PERSPECTIVEDIVIDE),new E(e)}}class _ extends s{constructor(e){super({...e,...e.material.parameters})}beginSlot(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.acquireTechnique(g,e)}}class E extends l{write(t,r,i,s,a,o){for(const n of this.vertexBufferLayout.fields.keys()){const s=i.get(n);if(s)if(n===c.PERSPECTIVEDIVIDE){u(1===s.size);const t=a.getField(n,e);t&&f(s,t,o)}else m(n,s,t,r,a,o)}}}class b extends a{constructor(){super(...arguments),this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=i.None,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0,this.perspectiveInterpolation=!1}}export{I as ImageMaterial,b as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{Material as r}from\"../lib/Material.js\";import{intersectTriangleGeometry as t}from\"../lib/RayIntersections.js\";class e extends r{intersect(r,e,i,s,o,n){return t(r,i,s,o,void 0,n)}}export{e as TriangleMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i(l(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let a=class extends i{initialize(){this.addHandles(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this).error(r)}))})),\"RefreshableLayerView\")}};return a=r([t(\"esri.views.layers.RefreshableLayerView\")],a),a};export{i as default};\n"],"names":["c","u","l","vertex","m","fragment","b","n","include","i","t","r","o","v","attributes","add","p","POSITION","UV0","perspectiveInterpolation","PERSPECTIVEDIVIDE","varyings","terrainDepthTest","main","a","uniforms","g","e","texture","d","opacity","s","output","ObjectAndLayerIdColor","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","async","arguments","length","undefined","geometryServiceUrl","portal","getDefault","load","signal","helperServices","geometry","url","geometries","outSpatialReference","Array","isArray","h","Math","min","max","f","w","y","j","A","M","x","O","G","I","NORMAL","V","T","constructor","super","this","drapeSourceType","R","RasterImage","updatePolicy","SYNC","fullExtentInLocalViewSpatialReference","maximumDataResolution","_images","_extents","_overlays","updateWhenStationary","_drapeSourceRenderer","refreshDebounced","destroyed","_doRefresh","catch","getLogger","error","visibleAtCurrentScale","layer","effectiveScaleRange","U","view","scale","initialize","basemapTerrain","overlayManager","registerGeometryDrapeSource","addHandles","unregisterDrapeSource","addResolvingPromise","then","_set","_updatingHandles","suspended","_suspendedChangeHandler","destroy","clear","setDrapingExtent","_spatialReference","forEach","_updateImageExtent","_clippedExtent","extent","z","width","height","round","E","resolution","pixelRatio","state","imageMaxWidth","imageMaxHeight","floor","_imageSizeEquals","imageSize","_fetch","_clearImage","doRefresh","push","Promise","allSettled","processResult","HTMLImageElement","HTMLCanvasElement","image","findExtentInfoAt","contains","getFetchOptions","redraw","_createStageObjects","_","abs","TESTS_DISABLE_OPTIMIZATIONS","material","renderGeometry","loadingPromise","loadingAbortController","pixelData","renderExtent","AbortController","abort","_waitFetchReady","requestAsImageElement","fetchImage","warnOnce","addPromise","finally","removeGeometries","UPDATE","_stage","unload","remove","C","preMultiplyAlpha","wrap","H","CLAMP_TO_EDGE","D","INNER","OUTER","schedule","renderView","renderingContext","P","textureId","id","setParameters","S","L","localOrigin","renderLocalOrigin","addGeometries","viewingMode","ready","stationary","prototype","readOnly","N","slicePlaneEnabled","supportsHeightUnitConversion","postscript","_validateHeightModelInfo","defaultsFromMap","heightModelInfoReady","heightModelInfo","spatialReference","fullExtent","equals","clone","isLocal","portalItem","vec3f","vec2f","vec4u8","COLOR","OBJECTANDLAYERIDCOLOR","_getPipelineState","oitPass","hasOccludees","enableOffset","cullFace","NONE","FrontFace","blending","Color","culling","depthTest","func","depthWrite","drawBuffers","colorWrite","stencilWrite","stencilTest","polygonOffset","initializePipeline","_occludeePipeline","getPipeline","Map","None","hasSlicePlane","writeDepth","cullAboveTerrain","textureCoordinateType","emissionSource","discardInvisibleFragments","occlusionPass","objectAndLayerIdColorInstanced","count","COUNT","_configuration","vertexAttributeLocations","supportsEdges","produces","OPAQUE_MATERIAL","TRANSPARENT_MATERIAL","parameters","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","DRAPED_MATERIAL","getConfiguration","camera","relativeElevation","visible","createGLMaterial","createBufferWriter","f32","beginSlot","updateTexture","_material","textureBindParameters","acquireTechnique","write","vertexBufferLayout","fields","keys","get","size","getField","initTextureTransparent","intersect","EventedMixin","parent","when","name","title","fullOpacity","canResume","suspendInfo","getSuspendInfo","legendEnabled","updating","isUpdating","updatingProgress","updateSuspended","_overrideIfSome","visibleAtCurrentTimeExtent","timeExtent","visibilityTimeExtent","intersection","isEmpty","loaded","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","type","Boolean","dataChanged"],"sourceRoot":""}