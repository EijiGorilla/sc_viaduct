{"version":3,"file":"static/js/7318.997308c1.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/PointRenderer.glsl.js","../node_modules/@arcgis/core/core/workers/WorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/PointCloudLayerViewPerformanceInfo.js","../node_modules/@arcgis/core/views/3d/layers/PointCloudWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/i3s/LoDUtil.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PagedNodeIndex.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointGraphic.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointHighlights.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointRenderer.js","../node_modules/@arcgis/core/views/3d/layers/PointCloudLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/support/highlightUtils.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{numberMaxFloat32 as e}from\"../core/mathUtils.js\";import{multiply as i,fromTranslation as o}from\"../core/libs/gl-matrix-2/math/mat4.js\";import{create as r}from\"../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as t}from\"../core/libs/gl-matrix-2/math/vec2.js\";import{create as a}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{i as s}from\"./vec32.js\";import{create as n}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as c,positiveInfinity as l}from\"../geometry/support/aaBoundingBox.js\";import{ShaderOutput as p}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SlicePlaneParameters as d,SliceDraw as m}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as f}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{RgbaFloatEncoding as g}from\"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";import{Float2DrawUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{Float2PassUniform as S}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float3DrawUniform as x}from\"../views/3d/webgl-engine/core/shaderModules/Float3DrawUniform.js\";import{NoParameters as w,glsl as h}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Matrix4DrawUniform as v}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4DrawUniform.js\";import{Matrix4PassUniform as z}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js\";import{ShaderBuilder as b}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as M}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";class j extends w{constructor(){super(...arguments),this.clipBox=c(l),this.useFixedSizes=!1,this.useRealWorldSymbolSizes=!1,this.scaleFactor=1,this.minSizePx=0,this.size=0,this.sizePx=0}get fixedSize(){return this.drawScreenSpace?this.sizePx:this.size}get screenMinSize(){return this.useFixedSizes?0:this.minSizePx}get drawScreenSpace(){return this.useFixedSizes&&!this.useRealWorldSymbolSizes}}class P extends d{constructor(e,i,o){super(e),this.origin=e,this.isLeaf=i,this.splatSize=o}}function y(r){const a=new b,n=r.output===p.Color,{vertex:c,fragment:l}=a;return a.include(m,r),a.attributes.add(M.POSITION,\"vec3\"),a.attributes.add(M.COLOR,\"vec3\"),c.uniforms.add(new v(\"modelView\",((e,r)=>i(R,r.camera.viewMatrix,o(R,e.origin)))),new z(\"proj\",((e,i)=>i.camera.projectionMatrix)),new u(\"screenMinMaxSize\",((e,i,o)=>t(F,o.useFixedSizes?0:o.minSizePx*i.camera.pixelRatio,O(e.isLeaf)*i.camera.pixelRatio))),r.useFixedSizes?new S(\"pointScale\",((e,i)=>t(F,e.fixedSize*i.camera.pixelRatio,i.camera.fullHeight))):new u(\"pointScale\",((e,i,o)=>t(F,e.splatSize*o.scaleFactor*i.camera.pixelRatio,i.camera.fullHeight/i.camera.pixelRatio)))),r.clippingEnabled?c.uniforms.add(new x(\"clipMin\",((e,i,o)=>s(B,o.clipBox[0]-e.origin[0],o.clipBox[1]-e.origin[1],o.clipBox[2]-e.origin[2]))),new x(\"clipMax\",((e,i,o)=>s(B,o.clipBox[3]-e.origin[0],o.clipBox[4]-e.origin[1],o.clipBox[5]-e.origin[2])))):(c.constants.add(\"clipMin\",\"vec3\",[-e,-e,-e]),c.constants.add(\"clipMax\",\"vec3\",[e,e,e])),n&&a.varyings.add(\"vColor\",\"vec3\"),c.main.add(h`\n    // Move clipped points outside of clipspace\n    if (position.x < clipMin.x || position.y < clipMin.y || position.z < clipMin.z ||\n      position.x > clipMax.x || position.y > clipMax.y || position.z > clipMax.z) {\n      gl_Position = vec4(0.0,0.0,0.0,2.0);\n      gl_PointSize = 0.0;\n      return;\n    }\n\n    if (rejectBySlice(position)) {\n      gl_Position = vec4(0.0, 0.0, 0.0, 2.0);\n      gl_PointSize = 0.0;\n      return;\n    }\n\n    // Position in camera space\n    vec4 camera = modelView * vec4(position, 1.0);\n\n    float pointSize = pointScale.x;\n    vec4 position = proj * camera;\n    ${r.drawScreenSize?h`float clampedScreenSize = pointSize;`:h`float pointRadius = 0.5 * pointSize;\n           vec4 cameraOffset = camera + vec4(0.0, pointRadius, 0.0, 0.0);\n           vec4 positionOffset = proj * cameraOffset;\n           float radius = abs(positionOffset.y - position.y);\n           float viewHeight = pointScale.y;\n           // screen diameter = (2 * r / w) * (h / 2)\n           float screenPointSize = (radius / position.w) * viewHeight;\n           float clampedScreenSize = clamp(screenPointSize, screenMinMaxSize.x, screenMinMaxSize.y);\n           // Shift towards camera, to move rendered point out of terrain i.e. to\n           // the camera-facing end of the virtual point when considering it as a\n           // 3D sphere.\n           camera.xyz -= normalize(camera.xyz) * pointRadius * clampedScreenSize / screenPointSize;\n           position = proj * camera;`}\n\n    gl_PointSize = clampedScreenSize;\n    gl_Position = position;\n    ${n?h`vColor = color;`:\"\"}`),l.include(g,r),a.include(f,r),l.main.add(h`\n    vec2 vOffset = gl_PointCoord - vec2(0.5, 0.5);\n    float r2 = dot(vOffset, vOffset);\n\n    if (r2 > 0.25) {\n      discard;\n    }\n    calculateOcclusionAndOutputHighlight();\n    ${n?h`fragColor = vec4(vColor, 1.0);`:\"\"}`),a}function O(e){return e?256:64}const R=r(),B=n(),F=a(),_=Object.freeze(Object.defineProperty({__proto__:null,PointRendererDrawParameters:P,PointRendererPassParameters:j,build:y,getMaxPointSizeScreenspace:O},Symbol.toStringTag,{value:\"Module\"}));export{j as P,P as a,_ as b,y as c,O as g};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{remove as e}from\"../arrayUtils.js\";import{makeHandle as t}from\"../handleUtils.js\";import s from\"../Logger.js\";import{throwIfAborted as r}from\"../promiseUtils.js\";import{open as i}from\"./workers.js\";class h{constructor(e,t,r,h,o={}){this._mainMethod=t,this._transferLists=r,this._listeners=[],this._promise=i(e,{...o,schedule:h}).then((e=>{if(void 0===this._thread){this._thread=e,this._promise=null,o.hasInitialize&&this.broadcast({},\"initialize\");for(const e of this._listeners)this._connectListener(e)}else e.close()})),this._promise.catch((t=>s.getLogger(\"esri.core.workers.WorkerHandle\").error(`Failed to initialize ${e} worker: ${t}`)))}on(s,r){const i={removed:!1,eventName:s,callback:r,threadHandle:null};return this._listeners.push(i),this._connectListener(i),t((()=>{i.removed=!0,e(this._listeners,i),this._thread&&null!=i.threadHandle&&i.threadHandle.remove()}))}destroy(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null,this._listeners.length=0,this._transferLists={}}invoke(e,t){return this.invokeMethod(this._mainMethod,e,t)}invokeMethod(e,t,s){if(this._thread){const r=this._transferLists[e],i=r?r(t):[];return this._thread.invoke(e,t,{transferList:i,signal:s})}return this._promise?this._promise.then((()=>(r(s),this.invokeMethod(e,t,s)))):Promise.reject(null)}broadcast(e,t){return this._thread?Promise.all(this._thread.broadcast(t,e)).then((()=>{})):this._promise?this._promise.then((()=>this.broadcast(e,t))):Promise.reject()}get promise(){return this._promise}_connectListener(e){this._thread&&this._thread.on(e.eventName,e.callback).then((t=>{e.removed||(e.threadHandle=t)}))}}export{h as WorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{LayerViewPerformanceInfo as s}from\"./support/LayerViewPerformanceInfo.js\";class e extends s{constructor(s,e,o,r,i){super(s,e,-1,o,r),this.queue=i}}class o{constructor(s,e,o,r){this.loading=s,this.indexLoading=e,this.processing=o,this.idleProcessing=r}}export{e as PointCloudLayerViewPerformanceInfo,o as QueuePerformanceInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{WorkerHandle as t}from\"../../../core/workers/WorkerHandle.js\";class r extends t{constructor(t){super(\"PointCloudWorker\",\"transform\",{transform:t=>u(t)},t)}}function u(t){const r=[t.geometryBuffer];if(null!=t.primaryAttributeData&&t.primaryAttributeData.buffer&&r.push(t.primaryAttributeData.buffer),null!=t.modulationAttributeData&&t.modulationAttributeData.buffer&&r.push(t.modulationAttributeData.buffer),null!=t.filterAttributesData)for(const u of t.filterAttributesData)null!=u&&u.buffer&&r.push(u.buffer);for(const u of t.userAttributesData)u.buffer&&r.push(u.buffer);return r}export{r as PointCloudWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{f as e}from\"../../../../chunks/vec32.js\";function t(e,t,g){for(let n=0;n<t.length;n++)r[n]=!1,o[n]=null;for(let r=0;r<e.length;r++)n[r]=!1,l[r]=null;for(let n=0;n<t.length;n++){const o=h(t[n],e,g);o>=0&&(r[n]=!0,null!=l[o]?l[o].push(t[n]):l[o]=[t[n]])}for(let l=0;l<e.length;l++){const r=h(e[l],t,g);r>=0&&(n[l]=!0,null!=o[r]?o[r].push(e[l]):o[r]=[e[l]])}const u=[];for(let r=0;r<e.length;r++)null!=l[r]||n[r]||u.push({load:[],remove:[e[r]]});for(let n=0;n<t.length;n++)null!=o[n]||r[n]||u.push({load:[t[n]],remove:[]});for(let n=0;n<t.length;n++)null!=o[n]&&(o[n].length>1||o[n][0]!==t[n])&&u.push({load:[t[n]],remove:o[n]});for(let n=0;n<e.length;n++)null!=l[n]&&(l[n].length>1||l[n][0]!==e[n])&&u.push({load:l[n],remove:[e[n]]});return u}const n=[!1],l=[null],r=[!1],o=[null];function h(e,t,n){let l=e;for(;l>0;){const e=t.indexOf(l);if(e>=0)return e;l=n.getParentId(l)}return t.indexOf(l)}function g(t,n,l){return t.sort(((t,r)=>{if(0===t.load.length&&0===r.load.length)return 0;if(0===t.load.length)return-1;if(0===r.load.length)return 1;if(0===t.remove.length&&0===r.remove.length){const o=l.getRenderObb(t.load[0]).center,h=l.getRenderObb(r.load[0]).center;return e(o,n)-e(h,n)}if(0===t.remove.length)return-1;if(0===r.remove.length)return 1;if(1===t.load.length&&1===r.load.length){const o=l.getRenderObb(t.load[0]).center,h=l.getRenderObb(r.load[0]).center;return e(o,n)-e(h,n)}if(1===t.load.length)return-1;if(1===r.load.length)return 1;{const o=l.getRenderObb(t.remove[0]).center,h=l.getRenderObb(r.remove[0]).center;return e(o,n)-e(h,n)}}))}function u(e,t,n){for(let l=0;l<e.length;++l){const r=e[l];r.load.length>t&&1===r.remove.length&&d(e,r,n)}}function d(e,t,n){const l=[t.remove[0]],r=[];for(;1===l.length;){const e=l.pop();r.length=0;for(let o=0;o<t.load.length;o++){let h=t.load[o],g=n.getParentId(h);for(;g!==e;)h=g,g=n.getParentId(h);let u=l.indexOf(h);u<0&&(u=l.length,l.push(h),r.push([])),r[u].push(t.load[o])}}t.load=l;for(let o=0;o<l.length;o++)r[o].length>1?e.push({remove:[l[o]],load:r[o]}):l[o]=r[o][0]}export{t as nodeDiff,g as sortFrontToBack,u as splitWorkEntries,d as splitWorkEntry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{getSphericalPCPF as e}from\"../../../../geometry/spatialReferenceEllipsoidUtils.js\";import{create as t,contains as s,intersects as n}from\"../../../../geometry/support/aaBoundingBox.js\";class i{constructor(t,s,n){this._pages=[],this.pageSize=0,this._nodeSR=t,this._renderSR=s,this._renderSRSphericalPCPF=e(s),this.pageSize=n}addPage(e,t,s=0){for(;this._pages.length<e;)this._pages.push(null);r(t,this._nodeSR,this._renderSR,s,this._renderSRSphericalPCPF),this._pages[e]={nodes:t,parents:new Uint32Array(this.pageSize)},p(this._pages,this.pageSize)}hasPage(e){return!!this._pages[e]}getNode(e){const t=this.pageSize;return this._pages[a(e,t)].nodes[h(e,t)]}getRenderObb(e){const t=this.pageSize;return this._pages[a(e,t)].nodes[h(e,t)].obbInRenderSR}setRenderObb(e,t){const s=this.pageSize;this._pages[a(e,s)].nodes[h(e,s)].obbInRenderSR.copy(t)}getParentId(e){const t=this.pageSize;return this._pages[a(e,t)].parents[h(e,t)]}hasNodes(e,t){const s=a(e,this.pageSize),n=a(e+t-1,this.pageSize);for(let i=s;i<=n;i++)if(null==this._pages[i])return!1;return!0}forEachNodeId(e){for(let t=0;t<this._pages.length;t++){const s=this._pages[t];if(s)for(let n=0;n<s.nodes.length;n++)e(t*this.pageSize+n)}}createVisibilityTraverse(){const e={index:this,queue:[],masks:[],tempAabb:t()};return(t,s)=>o(e,t,s)}}function o(e,t,i){const o=e.index;if(!o.hasNodes(0,1))return;const r=e.queue;r.length=0,r.push(0);const p=e.masks;for(p.length=0,p.push(0);r.length>0;){const h=r.pop();let g=p.pop();const l=o.getNode(h),c=o.getRenderObb(h);let u=!0;if(null!=t.clippingBox){const i=1<<t.frustum.length;g&i||(c.toAaBoundingBox(e.tempAabb),s(t.clippingBox,e.tempAabb)?g|=i:n(t.clippingBox,e.tempAabb)||(u=!1))}for(let e=0;e<t.frustum.length&&u;e++){const s=1<<e;if(!(g&s)){const n=c.intersectPlane(t.frustum[e]);n>0?u=!1:n<0&&(g|=s)}}if(i.predicate(h,l,u)){const e=l.firstChild,t=l.childCount;let s=!1;const n=a(e,o.pageSize),c=a(e+t-1,o.pageSize);for(let r=n;r<=c;r++)if(!o.hasPage(r)){i.pageMiss(h,r),s=!0;break}if(!s)for(let i=0;i<t;i++)r.push(e+i),p.push(g)}}}function r(e,t,s,n,i){for(let o=0;o<e.length;o++){const r=e[o];r.obb.transform(r.obbInRenderSR,t,s,n,i)}}function p(e,t){const s=[0];for(;s.length;){const n=s.pop(),i=e[a(n,t)].nodes[h(n,t)];for(let o=0;o<i.childCount;o++){const r=i.firstChild+o;null!=e[a(r,t)]&&(e[a(r,t)].parents[h(r,t)]=n,s.push(r))}}}function a(e,t){return e/t|0}function h(e,t){return e%t}export{i as PagedNodeIndex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction t(t){const e=t.renderer,n=e?.type,o=e?.toJSON()??null;let l=null,i=!1;const a=t.attributeStorageInfo;\"point-cloud-unique-value\"===n||\"point-cloud-stretch\"===n||\"point-cloud-class-breaks\"===n?l=u(a,e.field):\"point-cloud-rgb\"===n?(l=r(a,e.field),i=null!=l):(l=r(a,\"RGB\"),i=null!=l);let s=null;return e?.colorModulation&&(s=u(a,e.colorModulation.field)),{rendererJSON:o,isRGBRenderer:i,primaryAttribute:l,modulationAttribute:s}}function e(t){const e=t.filters;return e?e.map((e=>({filterJSON:e.toJSON(),attributeInfo:u(t.attributeStorageInfo,e.field)}))):[]}function n(t){const e=t?.pointSizeAlgorithm;return e&&\"splat\"===e.type?e:null}function o(t){const e=t?.pointSizeAlgorithm;return e&&\"fixed-size\"===e.type?e:null}function l(t){const e=t?.pointSizeAlgorithm;return!!e?.type&&\"fixed-size\"===e.type}function r(t,e){for(const n of t??[])if(n.name===e&&null!=n.attributeValues&&\"UInt8\"===n.attributeValues.valueType&&3===n.attributeValues.valuesPerElement)return{name:e,storageInfo:n,useElevation:!1};return null}function u(t,e){for(const n of t??[])if(n.name===e){const t=\"embedded-elevation\"===n.encoding;return t?{name:e,storageInfo:null,useElevation:t}:{name:e,storageInfo:n,useElevation:t}}return\"elevation\"===e?.toLowerCase()?{name:e,storageInfo:null,useElevation:!0}:null}export{u as getAttributeInfo,e as getFilterInfo,o as getFixedSizeAlgorithm,t as getRendererInfo,n as getSplatSizeAlgorithm,l as rendererUsesFixedSizes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../Graphic.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";let e=class extends r{constructor(o){super(o),this.pointCloudMetadata=null}};o([s({constructOnly:!0,clonable:\"reference\"})],e.prototype,\"pointCloudMetadata\",void 0),e=o([t(\"esri.views.3d.layers.i3s.PointGraphic\")],e);export{e as PointGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../../core/handleUtils.js\";import{Object3DHighlightStateID as t}from\"../../webgl-engine/lib/Object3DStateID.js\";class i{constructor(e){this._context=e,this._highlights=new Set}get empty(){return 0===this._highlights.size}destroy(){this._highlights=null}add(t,i){const s=new h(t,i);return this._highlights.add(s),this._enableSet(s),e((()=>this._removeSet(s)))}_removeSet(e){this._disableSet(e),this._highlights.delete(e)}_enableSet(e){e.enabled||(e.enabled=!0,this._context.forEachNode((t=>this._enableSetForNode(e,t))))}_enableSetForNode(e,t){if(!e.enabled)return;const i=e.ids.get(t.id);i&&i.forEach((i=>this._context.addHighlight(t,i,e.id)))}_disableSet(e){e.enabled&&(e.enabled=!1,this._context.forEachNode((t=>this._disableSetForNode(e,t))))}_disableSetForNode(e,t){e.enabled||this._context.removeHighlight(t,e.id)}nodeAdded(e){this._highlights.forEach((t=>this._enableSetForNode(t,e)))}nodeRemoved(e){this._highlights.forEach((t=>this._disableSetForNode(t,e)))}removeAll(){this._highlights.forEach((e=>this._disableSet(e)))}}class h{constructor(e,i){this.ids=new Map,this.enabled=!1;for(const t of e)null!=t&&this._add(t.nodeId,t.pointId);this.id=new t(i)}_add(e,t){const i=this.ids.get(e);i?i.add(t):this.ids.set(e,new Set([t]))}}export{i as PointHighlights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{stencilWriteMaskOn as s,stencilBaseAllZerosParams as i}from\"../lib/StencilUtils.js\";import{b as o}from\"../../../../chunks/PointRenderer.glsl.js\";import{CompareFunction as l,SpecialDrawBuffers as n}from\"../../../webgl/enums.js\";import{makePipelineState as u,defaultDepthWrite as c,defaultColorWrite as d}from\"../../../webgl/renderState.js\";class a extends t{constructor(e,t,s){super(e,t,new r(o,(()=>import(\"./PointRenderer.glsl.js\"))),s)}initializePipeline(r){return u({depthTest:{func:l.LESS},depthWrite:c,colorWrite:d,stencilWrite:r.hasOccludees?s:null,stencilTest:r.hasOccludees?i:null,drawBuffers:r.output===e.Depth?{buffers:[n.NONE]}:null})}}export{a as PointRendererTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as s}from\"../materials/DefaultTechniqueConfiguration.js\";class o extends s{constructor(){super(...arguments),this.hasSlicePlane=!1,this.drawScreenSize=!1,this.useFixedSizes=!1,this.hasOccludees=!1,this.clippingEnabled=!1,this.hasSliceInVertexProgram=!0}}e([i()],o.prototype,\"hasSlicePlane\",void 0),e([i()],o.prototype,\"drawScreenSize\",void 0),e([i()],o.prototype,\"useFixedSizes\",void 0),e([i()],o.prototype,\"hasOccludees\",void 0),e([i()],o.prototype,\"clippingEnabled\",void 0);export{o as PointRendererTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{disposeMaybe as t}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{d as n,l as o,h as a,v as h,f as l,k as c}from\"../../../../chunks/vec32.js\";import{create as d}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as u}from\"../../../../chunks/vec42.js\";import{create as m,offset as p,contains as g,containsPoint as _,set as f,positiveInfinity as P,equals as b}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as x}from\"../../../../geometry/support/plane.js\";import{fromPoints as S}from\"../../../../geometry/support/ray.js\";import{PclTarget as R}from\"./Intersector.js\";import{PointHighlights as w}from\"./PointHighlights.js\";import{isDepth as z,ShaderOutput as A}from\"../../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SyncRenderPlugin as j}from\"../../webgl-engine/effects/RenderPlugin.js\";import{Default3D as y}from\"../../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{newIntersectorResult as I}from\"../../webgl-engine/lib/Intersector.js\";import{IntersectorType as q,StoreResults as E}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{RenderSlot as N}from\"../../webgl-engine/lib/RenderSlot.js\";import{VertexArrayObject as O}from\"../../webgl-engine/lib/VertexArrayObject.js\";import{VertexAttribute as v}from\"../../webgl-engine/lib/VertexAttribute.js\";import{P as L,a as T,g as F}from\"../../../../chunks/PointRenderer.glsl.js\";import{PointRendererTechnique as H}from\"../../webgl-engine/shaders/PointRendererTechnique.js\";import{PointRendererTechniqueConfiguration as M}from\"../../webgl-engine/shaders/PointRendererTechniqueConfiguration.js\";import{BufferObject as G}from\"../../../webgl/BufferObject.js\";import{DataType as U,PrimitiveType as B,Usage as C}from\"../../../webgl/enums.js\";import{VertexElementDescriptor as W}from\"../../../webgl/VertexElementDescriptor.js\";const D=new Map([[\"positions\",[new W(v.POSITION,3,U.FLOAT,0,12)]],[\"colors\",[new W(v.COLOR,3,U.UNSIGNED_BYTE,0,3,!0)]]]);let V=class extends j{constructor(e){super(e),this.type=q.PCL,this.isGround=!1,this._passParameters=new L,this._highlights=new w({forEachNode:e=>this.forEachNode(e),addHighlight:(e,t,s)=>this._addHighlight(e,t,s),removeHighlight:(e,t)=>this._removeHighlight(e,t)}),this.produces=new Map([[N.OPAQUE_MATERIAL,e=>!(z(e)||e===A.Highlight&&this._highlights.empty)],[N.OPAQUE_MATERIAL_WITHOUT_NORMALS,e=>z(e)]]),this.layerUid=\"\",this._slicePlaneEnabled=!1,this._configuration=new M,this._nodes=new s}initializeRenderContext(e){this._context=e,e.requestRender()}uninitializeRenderContext(){}intersect(e,t,s,i){const r=d(),f=d(),P=d(),b=d(),w=x(),z=e.camera.perScreenPixelRatio/2,A=e.camera.near;n(f,i,s);const j=1/o(f);a(f,f,j),h(P,f),u(w,f[0],f[1],f[2],-l(f,s));const y=new Z,q=new Z,N=new Array,O=m(),v=m(this._passParameters.clipBox);p(v,-s[0],-s[1],-s[2],v),this._nodes.forAll((o=>{const a=o.splatSize*this._passParameters.scaleFactor;let h=o.obb.minimumDistancePlane(w),d=o.obb.maximumDistancePlane(w);h-=J(a,h+A,this._passParameters,z,o.isLeaf),d-=J(a,d+A,this._passParameters,z,o.isLeaf);const u=d<0,m=null!=y.dist&&null!=q.dist&&y.dist<h*j&&q.dist>d*j;if(u||m)return;const x=Y(a,d+A,this._passParameters,z,o.isLeaf);if(!o.obb.intersectRay(s,f,x))return;const S=x*x;o.obb.toAaBoundingBox(O),p(O,-s[0],-s[1],-s[2],O);const R=!g(v,O);n(b,o.origin,s);const I=o.coordinates.length/3;for(let n=0;n<I;n++){if(r[0]=b[0]+o.coordinates[3*n],r[1]=b[1]+o.coordinates[3*n+1],r[2]=b[2]+o.coordinates[3*n+2],R&&!_(v,r))continue;const h=l(r,f),d=c(r)-h*h;if(d>S)continue;let u=h+A;const m=J(a,u,this._passParameters,z,o.isLeaf);if(h-m<0)continue;u-=m;const p=Y(a,u,this._passParameters,z,o.isLeaf);if(d>p*p)continue;const g=(h-m)*j,x=e=>(e.point=K(o,n,e.point),e.dist=g,e.normal=P,e.node=o,e.pointId=n,e.layerUid=this.layerUid,e);if((null==y.dist||g<y.dist)&&(null==t||t(s,i,g))&&x(y),e.options.store!==E.MIN&&(null==q.dist||g>q.dist)&&(null==t||t(s,i,g))&&x(q),e.options.store===E.ALL&&(null==t||t(s,i,g))){const e=new Z;N.push(x(e))}}}));const L=e=>{const{layerUid:t,node:s,pointId:i}=e;return new R(e.point,t,i,(()=>this.createGraphic(s,i,e.point)))},T=(e,t)=>{const s=L(t);e.set(this.type,s,t.dist,t.normal)};if($(y)){const t=e.results.min;(null==t.dist||y.dist<t.dist)&&T(t,y)}if($(q)&&e.options.store!==E.MIN){const t=e.results.max;(null==t.dist||q.dist>t.dist)&&T(t,q)}if(e.options.store===E.ALL){const t=S(s,i);for(const s of N){const i=I(t);T(i,s),e.results.all.push(i)}}}acquireTechniques(e){return 0!==this._nodes.length&&(e.output===A.Color||z(e.output)&&e.bind.slot===N.OPAQUE_MATERIAL_WITHOUT_NORMALS||e.output===A.Highlight)?(this._nodes.forAll((t=>this._initNode(e,t))),this._configuration.drawScreenSize=this._passParameters.drawScreenSpace,this._configuration.useFixedSizes=this._passParameters.useFixedSizes,this._configuration.hasSlicePlane=this._slicePlaneEnabled,this._configuration.hasOccludees=e.bind.hasOccludees,this._configuration.clippingEnabled=this._clippingEnabled,this._configuration.output=e.output,this._context.techniques.acquire(H,this._configuration)):null}render(e,t){const{rctx:s,bind:i,output:r}=e,n=s.bindTechnique(t,i,this._passParameters),o=r===A.Highlight;this._nodes.forAll((t=>{0!==t.coordinates.length&&(!o||t.highlights&&t.highlights.some((e=>i.highlightGroupName===e.id.highlightGroupName)))&&(n.bindDraw(i,this._passParameters,t),s.bindVAO(t.vao),o?this._renderHighlightFragments(e,t):s.drawArrays(B.POINTS,0,t.coordinates.length/3))}))}_renderHighlightFragments(e,t){const{highlights:s}=t;if(null==s)return;const{rctx:i,bind:r}=e,{highlightGroupName:n}=r;let o=0,a=s[0].componentIndex,h=a+1;const l=()=>{for(;o<s.length&&s[o].id.highlightGroupName!==n;)a=s[o].componentIndex,++o;h=a+1};l();const c=(e,t)=>{const s=t-e;s>0&&i.drawArrays(B.POINTS,e,s)};for(;o<s.length;){const e=s[o];if(e.id.highlightGroupName!==r.highlightGroupName){c(a,h),++o,l();continue}const t=e.componentIndex;t!==h&&(c(a,h),a=t),h=t+1,++o}c(a,h)}set useFixedSizes(e){this._passParameters.useFixedSizes!==e&&(this._passParameters.useFixedSizes=e,this._requestRender())}get useFixedSizes(){return this._passParameters.useFixedSizes}set scaleFactor(e){this._passParameters.scaleFactor!==e&&(this._passParameters.scaleFactor=e,this._requestRender())}get scaleFactor(){return this._passParameters.scaleFactor}set minSizePx(e){this._passParameters.minSizePx!==e&&(this._passParameters.minSizePx=e,this._requestRender())}get minSizePx(){return this._passParameters.minSizePx}set useRealWorldSymbolSizes(e){this._passParameters.useRealWorldSymbolSizes!==e&&(this._passParameters.useRealWorldSymbolSizes=e,this._requestRender())}get useRealWorldSymbolSizes(){return this._passParameters.useRealWorldSymbolSizes}set size(e){this._passParameters.size!==e&&(this._passParameters.size=e,this._requestRender())}get size(){return this._passParameters.size}set sizePx(e){this._passParameters.sizePx!==e&&(this._passParameters.sizePx=e,this._requestRender())}get sizePx(){return this._passParameters.sizePx}set clippingBox(e){f(this._passParameters.clipBox,e||P)}get _clippingEnabled(){return!b(this._passParameters.clipBox,P,((e,t)=>e===t))}get slicePlaneEnabled(){return this._slicePlaneEnabled}set slicePlaneEnabled(e){this._slicePlaneEnabled!==e&&(this._slicePlaneEnabled=e,this._requestRender())}addNode(e){this._nodes.push(e),this._highlights.nodeAdded(e),this._requestRender()}removeNode(e){let s=null;return this._nodes.filterInPlace((i=>i.id!==e||(s=i,i.vao=t(i.vao),this._highlights.nodeRemoved(i),!1))),this._requestRender(),s}forEachNode(e){this._nodes.forAll(e)}removeAll(){this._nodes.forAll((e=>e.vao=t(e.vao))),this._highlights.removeAll(),this._nodes.clear(),this._requestRender()}highlight(e,t){return this._highlights.add(e,t)}_addHighlight(e,t,s){e.addHighlight(t,s),this._requestRender()}_removeHighlight(e,t){e.removeHighlight(t),this._requestRender()}_initNode(e,t){t.vao??=new O(e.rctx,y,D,new Map([[\"positions\",G.createVertex(e.rctx,C.STATIC_DRAW,t.coordinates)],[\"colors\",G.createVertex(e.rctx,C.STATIC_DRAW,t.rgb)]]))}_requestRender(){this._context&&this._context.requestRender()}};e([i({constructOnly:!0})],V.prototype,\"createGraphic\",void 0),V=e([r(\"esri.views.3d.layers.i3s.PointRenderer\")],V);class k extends T{constructor(e,t,s,i,r,n,o,a,h=null){super(s,r,t),this.id=e,this.obb=i,this.coordinates=n,this.rgb=o,this.attributes=a,this.pointIdFilterMap=h,this.highlights=null}addHighlight(e,t){let{highlights:s}=this;null==s&&(s=[],this.highlights=s);const i=new ee(e,t);s.push(i);const r=X(i);for(let n=s.length-1;n>0&&r<X(s[n-1]);--n)[s[n-1],s[n]]=[s[n],s[n-1]]}removeHighlight(e){const{highlights:t}=this;if(null==t)return;const s=t.filter((t=>t.id!==e));0===s.length&&(this.highlights=null),this.highlights=s}}function Q(e){return e.hasOwnProperty(\"splatSize\")}function Y(e,t,s,i,r){if(s.drawScreenSpace)return s.fixedSize*t*i;const n=F(r)*t*i;return s.useFixedSizes?Math.min(s.fixedSize/2,n):s.screenMinSize>0?Math.min(Math.max(s.screenMinSize*t*i,e/2),n):Math.min(e/2,n)}function J(e,t,s,i,r){return s.drawScreenSpace?0:Y(e,t,s,i,r)}function K(e,t,s){return null==s&&(s=d()),s[0]=e.origin[0]+e.coordinates[3*t],s[1]=e.origin[1]+e.coordinates[3*t+1],s[2]=e.origin[2]+e.coordinates[3*t+2],s}function X(e){return null!=e.componentIndex?e.componentIndex:-1}class Z{constructor(){this.node=null,this.pointId=null,this.point=null,this.dist=null,this.normal=null,this.layerUid=\"\"}}function $(e){return null!=e.dist&&null!=e.point&&null!=e.pointId&&null!=e.node}class ee{constructor(e,t){this.componentIndex=e,this.id=t}}export{V as PointRenderer,k as PointRendererNode,Q as isPointRendererNode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../core/arrayUtils.js\";import{result as i,forEach as r}from\"../../../core/asyncUtils.js\";import s from\"../../../core/Collection.js\";import\"../../../core/has.js\";import o from\"../../../core/Logger.js\";import{destroyMaybe as n,abortMaybe as a}from\"../../../core/maybe.js\";import{isAbortError as d,allSettledValues as l,throwIfAborted as h}from\"../../../core/promiseUtils.js\";import{initial as u,watch as p,sync as _}from\"../../../core/reactiveUtils.js\";import{pt2px as c}from\"../../../core/screenUtils.js\";import{estimateSize as m,isArrayBuffer as g}from\"../../../core/typedArrayUtil.js\";import{property as f}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as y}from\"../../../core/accessorSupport/decorators/subclass.js\";import{f as b,c as w}from\"../../../chunks/vec32.js\";import{clone as P}from\"../../../core/libs/gl-matrix-2/factories/vec3f32.js\";import{create as N}from\"../../../geometry/support/aaBoundingBox.js\";import{create as x,fromNormalAndOffset as v}from\"../../../geometry/support/plane.js\";import{CodedValue as C}from\"../../../layers/support/CodedValue.js\";import A from\"../../../layers/support/CodedValueDomain.js\";import\"../../../layers/support/Domain.js\";import\"../../../layers/support/InheritedDomain.js\";import\"../../../layers/support/RangeDomain.js\";import{unpackFieldNames as I}from\"../../../layers/support/fieldUtils.js\";import{PromiseQueue as S}from\"../../../layers/support/PromiseQueue.js\";import{getElevationOffset as k}from\"../../../support/elevationInfoUtils.js\";import{LayerView3D as V}from\"./LayerView3D.js\";import{PointCloudLayerViewPerformanceInfo as R,QueuePerformanceInfo as D}from\"./PointCloudLayerViewPerformanceInfo.js\";import{PointCloudWorkerHandle as j}from\"./PointCloudWorkerHandle.js\";import{checkPointCloudLayerValid as L,checkPointCloudLayerCompatibleWithView as Q}from\"./i3s/I3SUtil.js\";import{nodeDiff as U,sortFrontToBack as W,splitWorkEntries as F}from\"./i3s/LoDUtil.js\";import{PagedNodeIndex as M}from\"./i3s/PagedNodeIndex.js\";import{getSplatSizeAlgorithm as z,getFixedSizeAlgorithm as E,getRendererInfo as H,getFilterInfo as O,rendererUsesFixedSizes as q,getAttributeInfo as G}from\"./i3s/PointCloudRendererUtil.js\";import{getAttributeValues as B,readGeometry as T,elevationFromPositions as $}from\"./i3s/PointCloudWorkerUtil.js\";import{PointGraphic as J}from\"./i3s/PointGraphic.js\";import{PointRenderer as K,isPointRendererNode as X,PointRendererNode as Y}from\"./i3s/PointRenderer.js\";import{emptyHighlightHandle as Z}from\"./support/highlightUtils.js\";import{PopupSceneLayerView as ee}from\"./support/PopupSceneLayerView.js\";import{projectToBoundingBox as te}from\"../support/extentUtils.js\";import{computeMapPointFromVec3d as ie}from\"../support/hitTest.js\";import{ClientType as re}from\"../support/index.js\";import{Obb as se}from\"../support/orientedBoundingBox.js\";import{updatingProgress as oe}from\"../support/updatingProperties.js\";import ne from\"../../layers/LayerView.js\";import{defaultHighlightName as ae}from\"../../support/HighlightDefaults.js\";import{isInEffectiveScaleRange as de}from\"../../support/layerViewUtils.js\";import{TaskPriority as le}from\"../../support/Scheduler.js\";const he=8,ue=x();let pe=class extends(ee(V(ne))){constructor(){super(...arguments),this.type=\"point-cloud-3d\",this.maximumPointCount=4e6,this.slicePlaneEnabled=!1,this._renderer=null,this._rendererAdded=!1,this._renderedNodes=new Set,this._updateViewNeeded=!0,this._lodFactor=1,this._maxLoggedBoxWarnings=5,this._pageMultiplier=1,this._nodeLoadEpoch=0,this._indexQueue=[],this._workQueue=new Array,this._idleQueue=new S,this._indexPagesLoading=new Map,this._loadingNodes=new Map,this._recalcWork=!0,this._layerIsVisible=!1,this._codedDomainPopulationPromise=null,this._codedDomainPopulationAbortController=null,this._totalWork=0,this._index=null,this._loadingInitNodePage=!1,this._nodeIdArray=[],this.ignoresMemoryFactor=!1}get baseUrl(){return this.layer.parsedUrl?.path??\"\"}get pointScale(){const e=z(this.layer?.renderer),t=1;return null!=e?.scaleFactor?e.scaleFactor:t}get useRealWorldSymbolSizes(){const e=E(this.layer?.renderer),t=!1;return null!=e?.useRealWorldSymbolSizes?e.useRealWorldSymbolSizes:t}get pointSize(){const e=E(this.layer?.renderer),t=0;return null!=e?.size?e.size:t}get inverseDensity(){const e=96;return this.layer?.renderer?1*e/this.layer.renderer.pointsPerInch:5}get availableFields(){const e=H(this.layer),t=new Set;e.primaryAttribute&&t.add(e.primaryAttribute.name),e.modulationAttribute&&t.add(e.modulationAttribute.name);const i=O(this.layer);if(i)for(const r of i)r.attributeInfo&&t.add(r.attributeInfo.name);if(this.layer.outFields)for(const r of I(this.layer.fieldsIndex,this.layer.outFields))t.add(r);return Array.from(t)}get _clippingBox(){if(!this.view||!this.view.clippingArea)return null;const e=N(),t=this.view.renderSpatialReference;return te(this.view.clippingArea,e,t)?e:null}get _elevationOffset(){const e=this.layer&&this.layer.elevationInfo;return e&&\"absolute-height\"===e.mode?k(e,this.layer.spatialReference):0}initialize(){const e=this.view.resourceController,t=ge(e);this._worker=new j(t),this.addResolvingPromise(this._worker.promise),L(this.layer),Q(this.layer,this.view),this._indexRequester=e.createStreamDataRequester(re.I3S_INDEX),this._dataRequester=e.createStreamDataRequester(re.I3S_DATA),this._initRenderer();const i=this._initNodePages(),r=this.view.resourceController.memoryController;this._memCache=r.newCache(`pcl-${this.layer.uid}`),this._updatingHandles.add((()=>this._clippingBox),(()=>this._setUpdateViewNeeded()),u),this._updatingHandles.add((()=>this._elevationOffset),(()=>this._elevationOffsetChanged()),u),this._updatingHandles.add((()=>this.layer.renderer),(()=>this._rendererChanged()),u),this._updatingHandles.add((()=>this.layer.filters),(()=>this._reload()),u),this._updatingHandles.add((()=>this.layer.outFields),(()=>this._reload()),u),this._updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this._setUpdateViewNeeded())),this._updatingHandles.add((()=>this.view.state.contentCamera),(()=>this._setUpdateViewNeeded())),this.addHandles([p((()=>this.view.quality),(()=>this._setUpdateViewNeeded()),_)]),this.addResolvingPromise(i),this.when((()=>{this.addHandles([e.scheduler.registerTask(le.POINT_CLOUD_LAYER,this),e.scheduler.registerIdleStateCallbacks((()=>this._idleBegin()),(()=>this._idleEnd())),this._updatingHandles.add((()=>this.suspended),(e=>{e?this._clearNodeState():this._setUpdateViewNeeded()}),u)])}),(()=>{this._updatingHandles.removeAll(),this.removeAllHandles()}))}_setUpdateViewNeeded(){this._updateViewNeeded=!0,this._updateLoading()}destroy(){this.cancelLoading(),this._worker=n(this._worker),this._destroyRenderer(),this._memCache=n(this._memCache),this._codedDomainPopulationAbortController=a(this._codedDomainPopulationAbortController),this._codedDomainPopulationPromise=null}_initRenderer(){this._renderer=new K({createGraphic:(e,t,i)=>this._createGraphic(e,t,i)}),this._renderer.layerUid=this.layer.uid,this._updatingHandles.add((()=>this._clippingBox),(e=>this._renderer.clippingBox=e),u),this._updatingHandles.add((()=>this.suspended),(e=>this._setPointsVisible(!e)),u),this._updatingHandles.add((()=>this.pointScale),(e=>this._renderer.scaleFactor=e),u),this._renderer.minSizePx=Math.sqrt(2),this._updatingHandles.add((()=>this.useRealWorldSymbolSizes),(e=>this._renderer.useRealWorldSymbolSizes=e),u),this._updatingHandles.add((()=>this.pointSize),(e=>{const t=c(e);this._renderer.size=e,this._renderer.sizePx=t}),u),this._updatingHandles.add((()=>this.slicePlaneEnabled),(e=>this._renderer.slicePlaneEnabled=e),u),this._updatingHandles.add((()=>this.inverseDensity),(()=>this._setUpdateViewNeeded()),u),this._updatingHandles.add((()=>this.maximumPointCount),(()=>this._setUpdateViewNeeded()),u),this._updatingHandles.add((()=>this.view.qualitySettings.sceneService.pointCloud.lodFactor),(e=>{this._lodFactor=e,this._setUpdateViewNeeded()}),u)}_destroyRenderer(){this._renderer.removeAll(),this._setPointsVisible(!1)}_createGraphic(e,t,i){const r=null!=e.pointIdFilterMap?e.pointIdFilterMap[t]:t,s=ie(this.view,i),o=this._createGraphicAttributes(e,r);return new J({pointCloudMetadata:{nodeId:e.id,pointIndexInNode:t,attributePointIndexInNode:r,epoch:this._nodeLoadEpoch},geometry:s,attributes:o,layer:this.layer,sourceLayer:this.layer})}_createGraphicAttributes(e,t){const i={};for(const r of e.attributes)this._encodeGraphicAttribute(r.attributeInfo,r.values,t,i);return i}_encodeGraphicAttribute(e,t,i,r){const s=e.storageInfo?.attributeValues,o=s?.valuesPerElement??1;if(1===o)r[e.name]=t[i];else if(\"UInt8\"===s?.valueType&&o<=4){let s=0;const n=i*o;for(let e=n;e<n+o;e++)s=(s<<8)+t[e];r[e.name]=s}else r[e.name]=void 0}_setPointsVisible(e){e&&!this._rendererAdded?(this.view._stage.addRenderPlugin(this._renderer),this._rendererAdded=!0):!e&&this._rendererAdded&&(this.view._stage.removeRenderPlugin(this._renderer),this._rendererAdded=!1)}_rendererChanged(){this._renderer.useFixedSizes=q(this.layer.renderer),this._reload()}_reload(){this._clearNodeState(),this._memCache.clear(),this._setUpdateViewNeeded()}_elevationOffsetChanged(){this._clearNodeState(),this._memCache.clear(),this._initNodePages()}_displayNodes(e){this._workQueue=U([...this._renderedNodes],e,this._index),W(this._workQueue,this.view.state.contentCamera.viewForward,this._index),F(this._workQueue,he,this._index),this._updateQueues(),this._totalWork=this._computeWork(),this._updateLoading(),this._layerIsVisible=e.length>0||this._loadingInitNodePage,this.notifyChange(\"suspended\")}cancelLoading(){this._cancelNodeLoading(),this._cancelIndexLoading()}_cancelNodeLoading(){const e=new Array;this._loadingNodes.forEach((({abortController:t})=>e.push(t))),this._loadingNodes.clear();for(const t of e)t.abort();this._workQueue=[],this._idleQueue.cancelAll(),this._totalWork=this._computeWork(),this._updateLoading()}_updateQueues(){const e=new Set;this._workQueue.forEach((t=>t.load.forEach((t=>e.add(t)))));const t=new Array,i=new Map;this._loadingNodes.forEach(((r,s)=>{e.has(s)?i.set(s,r):t.push(r)})),this._loadingNodes=i;for(const{abortController:r}of t)r.abort();this._workQueue=this._workQueue.filter((e=>{for(const t of e.load)if(this._loadingNodes.has(t))return this._recalcWork=!0,!1;return!0})),this._totalWork=this._computeWork(),this._updateLoading()}_cancelIndexLoading(){this._indexQueue=[],this._indexPagesLoading.forEach((({abortController:e})=>e.abort())),this._indexPagesLoading.clear(),this._totalWork=this._computeWork(),this._updateLoading()}_clearNodeState(){this._nodeLoadEpoch++,this._renderedNodes.forEach((e=>this._removeFromRenderer(e))),this._cancelNodeLoading()}_idleBegin(){this._setUpdateViewNeeded()}_idleEnd(){this._setUpdateViewNeeded()}get running(){return this.suspended?this._updateViewNeeded:this._updateViewNeeded||this._indexQueue.length>0||this._workQueue.length>0||this._idleQueue.running}runTask(e){if(this.suspended){if(this._updateViewNeeded){this._updateViewNeeded=!1;const e=this._isRootNodeVisible();e!==this._layerIsVisible&&(this._layerIsVisible=e,this.notifyChange(\"suspended\")),this._updateLoading()}}else{for(e.run((()=>this._updateWorkQueues()));this._indexQueue.length>0&&e.run((()=>this._processIndexQueue())););this._processWorkQueue(e),this._idleQueue.runTask(e)}}_processIndexQueue(){const e=this._indexQueue.shift(),t=this._loadNodePage(e);return this._indexPagesLoading.set(e,t),t.promise.then((t=>{this._index.addPage(e,t,this._elevationOffset),this._setUpdateViewNeeded()})).then((()=>{this._indexPagesLoading.delete(e)}),(()=>{this._indexPagesLoading.delete(e)})),!0}_processWorkQueue(e){for(;!e.done;){const t=this._scheduleWorkEntry();if(null==t)return void e.madeProgress();this._processWorkEntry(t),e.madeProgress()}}_scheduleWorkEntry(){let e=this._workQueue.length;for(;e--;){const e=this._workQueue.shift();if(!e.remove.find((e=>!this._renderedNodes.has(e))))return e;this._workQueue.push(e)}return null}_processWorkEntry(e){if(0!==e.load.length)Promise.all(e.load.map((e=>{const t=new AbortController,i=this._memCache.pop(e.toString());return null!=i?this._loadingNodes.set(e,{abortController:t,promise:Promise.resolve(i)}):this._loadingNodes.has(e)||this._loadingNodes.set(e,{abortController:t,promise:this._loadNode(e,t.signal)}),this._loadingNodes.get(e).promise}))).then((t=>{for(let i=0;i<e.load.length;i++)if(t[i]){const r=this._setupRendererData(e.load[i],t[i]);this._addToRenderer(r)}for(const i of e.remove)this._removeFromRenderer(i)})).catch((()=>{})).then((()=>{for(const t of e.load)this._loadingNodes.delete(t);this._updateLoading(),this._recalcWork&&!this._idleQueue.running&&0===this._indexQueue.length&&0===this._loadingNodes.size&&(this._recalcWork=!1,this._setUpdateViewNeeded())})),this._updateLoading();else for(const t of e.remove)this._removeFromRenderer(t)}async _populateClassCodeCodedDomain(e,t){const r=\"CLASS_CODE\",s=this.layer.fieldsIndex.get(r);if(!s||s.domain)return;if(!e.includes(s.name))return;const o=await i(this.layer.queryCachedStatistics(r,{signal:t}));if(!1===o.ok)return;const n=o.value?.stats?.labels?.labels;n&&Array.isArray(n)&&(s.domain=new A({name:\"CLASS_CODE\",codedValues:n.map((e=>new C({code:e.value,name:e.label})))}))}async prepareFetchPopupFeatures(e){return this._codedDomainPopulationPromise||(this._codedDomainPopulationAbortController=new AbortController,this._codedDomainPopulationPromise=this._populateClassCodeCodedDomain(e,this._codedDomainPopulationAbortController.signal).then((()=>{this._codedDomainPopulationAbortController=null}))),this._codedDomainPopulationPromise}async whenGraphicAttributes(e,i){const s=this._splitGraphicsPerNode(e),o=this.layer.attributeStorageInfo,n=i.map((e=>G(o,e))).filter(t),a=async(e,t)=>{const i=this._index.getNode(t);await r(n,(async t=>{const r=t.useElevation?await this._loadElevationAttributeFromGeometry(i.resourceId):await this._loadAndParseAttribute(i,t);if(r)for(const i of e)if(this._isValidPointGraphic(i)){const e=i.pointCloudMetadata.attributePointIndexInNode;this._encodeGraphicAttribute(t,r,e,i.attributes)}}))},d=[];return s.forEach(((e,t)=>{d.push(a(e,t))})),await Promise.allSettled(d),e}_isValidPointGraphic(e){return e instanceof J&&e.pointCloudMetadata?.epoch===this._nodeLoadEpoch}_splitGraphicsPerNode(e){const t=new Map;for(const i of e){if(!this._isValidPointGraphic(i))continue;const e=i.pointCloudMetadata,r=t.get(e.nodeId);r?r.push(i):t.set(e.nodeId,[i])}return t}async _loadAndParseAttribute(e,t){const i=await this._loadAttribute(e.resourceId,t,null);return null!=i?B({attributeInfo:t,buffer:i},null,e.vertexCount):null}async _loadElevationAttributeFromGeometry(e){const t=this.layer.store.defaultGeometrySchema,i=T(t,await this._loadGeometry(e,null));return $(i,i.length/3)}highlight(e,t){if(!e)return Z;const i=s.isCollection(e)?e.toArray():Array.isArray(e)?e:[e];return 0===i.length?Z:this._renderer.highlight(i.map((e=>this._graphicToPointDefinition(e))),t??ae)}_graphicToPointDefinition(e){if(!this._isValidPointGraphic(e))return null;const{nodeId:t,pointIndexInNode:i}=e.pointCloudMetadata;return null!=t&&null!=i?{nodeId:t,pointId:i}:null}_computeWork(){let e=0;for(const t of this._workQueue)e+=t.load.length+t.remove.length;return e+=this._loadingNodes.size,e+=(this._indexQueue.length+this._indexPagesLoading.size)*this._index.pageSize,e+=this._loadingInitNodePage?100:0,e+=this._updateViewNeeded?100:0,e}get updatingProgressValue(){if(this.suspended)return this._updateViewNeeded?0:1;const e=this._computeWork();return 1-Math.min(this._totalWork,e)/this._totalWork}_updateLoading(){this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")}canResume(){return super.canResume()&&this._layerIsVisible}isUpdating(){return this.suspended?this._updateViewNeeded:this._computeWork()>0}get visibleAtCurrentScale(){return de(this.layer.effectiveScaleRange,this.view.scale)}_initNodePages(){const e=this.layer.store.index,t=e.nodesPerPage||e.nodePerIndexBlock;return this._index=new M(this.layer.spatialReference,this.view.renderCoordsHelper.spatialReference,t),this._cancelIndexLoading(),this._traverseVisible=this._index.createVisibilityTraverse(),this._loadingInitNodePage=!0,this._layerIsVisible=!0,this.notifyChange(\"suspended\"),this._updateLoading(),this._pageMultiplier=null!=e.nodesPerPage?1:e.nodePerIndexBlock,this._loadNodePage(0).promise.then((e=>{this._index.addPage(0,e,this._elevationOffset),this._loadingInitNodePage=!1,this._setUpdateViewNeeded()}))}_loadNodePage(e){const t=new AbortController,i=`${this.baseUrl}/nodepages/${e*this._pageMultiplier}`;return{promise:this._requestNodePage(i,t.signal).then((t=>t.nodes.map(((t,i)=>({resourceId:null!=t.resourceId?t.resourceId:e*this._index.pageSize+i,obb:se.fromJSON(t.obb),obbInRenderSR:new se,firstChild:t.firstChild,childCount:t.childCount,vertexCount:t.vertexCount??t.pointCount,lodThreshold:t.lodThreshold??t.effectiveArea}))))),abortController:t}}_updateWorkQueues(){if(!this._updateViewNeeded)return!1;const e=this.view.quality;let t=this.inverseDensity/this._lodFactor*e;const i=this.maximumPointCount*this._lodFactor*e;let r=this._computeNodesForMinimumDensity(t),s=this._computePointCount(r),o=Math.sqrt(s/(.75*i));for(;s>i;)t*=o,r=this._computeNodesForMinimumDensity(t),s=this._computePointCount(r),o=Math.sqrt(2);return this._displayNodes(r),this._updateViewNeeded=!1,this._updateLoading(),!0}_computePointCount(e){let t=0;for(let i=0;i<e.length;i++){const r=this._index.getNode(e[i]);r&&(t+=r.vertexCount)}return t}_isRootNodeVisible(){let e=!1;return this._traverseVisible({frustum:this.view.state.contentCamera.frustum,clippingBox:this._clippingBox},{predicate:(t,i,r)=>(e=r,!1),pageMiss:()=>{}}),e}_computeNodesForMinimumDensity(e){const t=this.view.state.contentCamera,i=t.frustum,r=this._clippingBox,s=t.viewForward,o=b(s,t.eye),n=v(s,-o,ue),a=t.perScreenPixelRatio/2,d=e*e,l=this._nodeIdArray;l.length=0;const h=e=>l.push(e);return this._traverseVisible({frustum:i,clippingBox:r},{predicate:(e,t,i)=>{if(!i)return!1;if(0===t.childCount)return h(e),!1;const r=this._index.getRenderObb(e);return!(this._computeAveragePixelArea(r,t.lodThreshold,t.vertexCount,n,a)<=d)||(h(e),!1)},pageMiss:(e,t)=>{h(e),this._indexQueue.includes(t)||this._indexQueue.push(t)}}),l}_computeAveragePixelArea(e,t,i,r,s){const o=1e-7,n=Math.max(o,e.minimumDistancePlane(r));return t/(n*n)/(4*s*s)/i}_loadNode(e,t){try{return this._loadNodeAsync(e,t)}catch(i){throw d(i)||o.getLogger(this).error(i),i}}async _loadAdditionalUserAttributes(e,i,r){const s=this.layer.outFields;if(!s)return[];const o=I(this.layer.fieldsIndex,s),n=new Set(e.map((e=>null!=e?e.name:null))),a=this.layer.attributeStorageInfo,d=[];for(const t of o){if(n.has(t))continue;const e=G(a,t);e&&d.push(i(e))}const u=await l(d);return h(r),u.filter(t)}async _loadNodeAsync(e,t){const i=this._index.getNode(e),r=H(this.layer),s=O(this.layer),o=i.resourceId,n=async e=>{if(!e)return null;if(e.useElevation)return{attributeInfo:e,buffer:null};const i=await this._loadAttribute(o,e,t);return null!=i?{attributeInfo:e,buffer:i}:null};return this._idleQueue.push((async()=>{const i=this._loadGeometry(o,t),{primaryAttribute:a,modulationAttribute:d}=r,l=n(a),u=n(d),p=s.map((e=>e.attributeInfo)),_=p.map((e=>n(e))),c=this._loadAdditionalUserAttributes([a,d,...p],n,t),[m,g,f,y,b]=await Promise.all([i,l,u,Promise.all(_),c]);h(t);const w={geometryBuffer:m,primaryAttributeData:g,modulationAttributeData:f,filterAttributesData:y,userAttributesData:b,schema:this.layer.store.defaultGeometrySchema,rendererInfo:r,filterInfo:s,obbData:this._index.getRenderObb(e).data,elevationOffset:this._elevationOffset,inSR:this.layer.spatialReference.toJSON(),outSR:this.view.renderCoordsHelper.spatialReference.toJSON()};return this._worker.invoke(w,t)}),t)}async _loadGeometry(e,t){return this._requestData(`${this.baseUrl}/nodes/${e}/geometries/0`,t)}async _loadAttribute(e,t,i){if(!t?.storageInfo)return null;const r=t.storageInfo.key;return this._requestData(`${this.baseUrl}/nodes/${e}/attributes/${r}`,i)}_requestNodePage(e,t){const i={f:\"json\",...this.layer.customParameters,token:this.layer.apiKey};return this._indexRequester.request(e,\"json\",{query:i,signal:t})}_requestData(e,t){return this._dataRequester.request(e,\"binary\",{query:{...this.layer.customParameters,token:this.layer.apiKey},signal:t})}_removeFromRenderer(e){if(this._renderedNodes.has(e)){const t=this._renderer.removeNode(e);this._renderedNodes.delete(e),this._memCache.put(t.id.toString(),t,ce(t))}}_addToRenderer(e){this._renderedNodes.has(e.id)||(this._renderedNodes.add(e.id),this._renderer.addNode(e))}_setupRendererData(e,t){const i=this._index.getNode(e),r=Math.sqrt(i.lodThreshold/i.vertexCount),s=this._index.getRenderObb(e);if(X(t))return t.splatSize=r,t.obb=s,w(t.origin,t.obb.center),t;const n=se.fromData(t.obbData),a=n.halfSize,d=s.halfSize,l=.01*Math.max(d[0],d[1],d[2]);if(a[0]>d[0]+l||a[1]>d[1]+l||a[2]>d[2]+l){if(this._maxLoggedBoxWarnings>0){const t=e=>`[${e.halfSize[0]}, ${e.halfSize[1]}, ${e.halfSize[2]}]`;o.getLogger(this).warn(`Node ${e} reported bounding box too small. got ${t(s)} but points cover ${t(n)}`),0==--this._maxLoggedBoxWarnings&&o.getLogger(this).warn(\"  Too many bounding box errors, stopping reporting for this layer.\")}this._index.setRenderObb(e,n)}return new Y(e,r,P(s.center),s,0===i.childCount,t.points,t.rgb,t.attributes,t.pointIdFilterMap)}get usedMemory(){let e=0;return this._renderer.forEachNode((t=>{e+=me,e+=m(t.coordinates);for(const i of t.attributes){const t=i.values;g(t.buffer)&&(e+=m(t))}})),e}get unloadedMemory(){const e=this._renderedNodes.size;if(e<4)return 0;const t=[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount));let i=this._loadingNodes.size;for(let r=0;r<this._workQueue.length;r++)i+=this._workQueue[r].load.length,i-=this._workQueue[r].remove.length;if(i<0)return 0;return i*t/e*((this.usedMemory-e*me)/t)+i*me}get performanceInfo(){return new R(this.usedMemory,this._renderedNodes.size,[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount),0),this.maximumPointCount,new D(this._loadingNodes.size,this._indexQueue.length,this._workQueue.length,this._idleQueue.length))}get test(){}};e([f()],pe.prototype,\"layer\",void 0),e([f()],pe.prototype,\"baseUrl\",null),e([f()],pe.prototype,\"pointScale\",null),e([f()],pe.prototype,\"useRealWorldSymbolSizes\",null),e([f()],pe.prototype,\"pointSize\",null),e([f()],pe.prototype,\"inverseDensity\",null),e([f()],pe.prototype,\"maximumPointCount\",void 0),e([f({readOnly:!0})],pe.prototype,\"availableFields\",null),e([f({readOnly:!0})],pe.prototype,\"_clippingBox\",null),e([f({readOnly:!0})],pe.prototype,\"_elevationOffset\",null),e([f({type:Boolean})],pe.prototype,\"slicePlaneEnabled\",void 0),e([f()],pe.prototype,\"updating\",void 0),e([f(oe)],pe.prototype,\"updatingProgress\",void 0),e([f({readOnly:!0})],pe.prototype,\"updatingProgressValue\",null),e([f({readOnly:!0})],pe.prototype,\"visibleAtCurrentScale\",null),pe=e([y(\"esri.views.3d.layers.PointCloudLayerView3D\")],pe);const _e=pe;function ce(e){return 5*e.coordinates.length+128}const me=160;function ge(e){return t=>e.immediate.schedule(t)}export{_e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Error.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as s,populateMissingFields as a}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as o,getRequiredFields as p}from\"../../../layers/support/popupUtils.js\";const i=i=>{let c=class extends i{_validateFetchPopupFeatures(e){const{layer:r}=this,{popupEnabled:s}=r;if(!s)throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:r});if(!o(r,e))throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:r})}async prepareFetchPopupFeatures(e){}async fetchPopupFeaturesFromGraphics(e,t){if(this._validateFetchPopupFeatures(t),0===e.length)return[];const r=\"scene\"===this.layer.type&&null!=this.layer.associatedLayer?this.layer.associatedLayer:this.layer;let i=[];\"fieldsIndex\"in this.layer&&(i=s(this.layer.fieldsIndex,await p(r,o(this.layer,t)))),await this.prepareFetchPopupFeatures(i);const c=new Set,n=[],l=[];for(const s of e)a(i,s,c)?l.push(s):n.push(s);if(0===l.length)return n;const u=new Map;for(let s=0;s<e.length;s++)u.set(e[s].getObjectId()??0,s);const h=await this.whenGraphicAttributes(l,[...c]).catch((()=>l)).then((e=>n.concat(e)));return h.sort(((e,t)=>{const r=e.getObjectId()??0,s=u.get(r)??0,a=t.getObjectId()??0;return s-(u.get(a)??0)})),h}};return c=e([r(\"esri.views.3d.layers.support.PopupSceneLayerView\")],c),c};export{i as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{C as r}from\"../../../../chunks/languageUtils.js\";import o from\"../../../../core/Collection.js\";import{makeHandle as t}from\"../../../../core/handleUtils.js\";function n(t){return e(t)||r(t)?[t]:o.isCollection(t)?t.toArray():Array.isArray(t)?t:i}function e(r){return\"number\"==typeof r||\"string\"==typeof r}const i=[],s=t();export{s as emptyHighlightHandle,e as isObjectId,n as normalizeHighlightTargetExceptQuery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i(l(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n"],"names":["j","w","constructor","super","arguments","this","clipBox","c","l","useFixedSizes","useRealWorldSymbolSizes","scaleFactor","minSizePx","size","sizePx","fixedSize","drawScreenSpace","screenMinSize","P","d","e","i","o","origin","isLeaf","splatSize","y","r","a","b","n","output","p","Color","vertex","fragment","include","m","attributes","add","M","POSITION","COLOR","uniforms","v","R","camera","viewMatrix","z","projectionMatrix","u","t","F","pixelRatio","O","S","fullHeight","clippingEnabled","x","s","B","constants","varyings","main","h","drawScreenSize","g","f","_","Object","freeze","defineProperty","__proto__","PointRendererDrawParameters","PointRendererPassParameters","build","getMaxPointSizeScreenspace","Symbol","toStringTag","value","length","undefined","_mainMethod","_transferLists","_listeners","_promise","schedule","then","_thread","hasInitialize","broadcast","_connectListener","close","catch","getLogger","error","on","removed","eventName","callback","threadHandle","push","remove","destroy","invoke","invokeMethod","transferList","signal","Promise","reject","all","promise","slicePlaneEnabled","supportsHeightUnitConversion","postscript","layer","addResolvingPromise","_validateHeightModelInfo","AbortController","addHandles","abort","view","defaultsFromMap","heightModelInfoReady","heightModelInfo","prototype","queue","loading","indexLoading","processing","idleProcessing","transform","geometryBuffer","primaryAttributeData","buffer","modulationAttributeData","filterAttributesData","userAttributesData","indexOf","getParentId","pop","load","_pages","pageSize","_nodeSR","_renderSR","_renderSRSphericalPCPF","addPage","obb","obbInRenderSR","nodes","parents","Uint32Array","childCount","firstChild","hasPage","getNode","getRenderObb","setRenderObb","copy","hasNodes","forEachNodeId","createVisibilityTraverse","index","masks","tempAabb","clippingBox","frustum","toAaBoundingBox","intersectPlane","predicate","pageMiss","renderer","type","toJSON","attributeStorageInfo","field","colorModulation","rendererJSON","isRGBRenderer","primaryAttribute","modulationAttribute","filters","map","filterJSON","attributeInfo","pointSizeAlgorithm","name","attributeValues","valueType","valuesPerElement","storageInfo","useElevation","encoding","toLowerCase","pointCloudMetadata","constructOnly","clonable","_context","_highlights","Set","empty","_enableSet","_removeSet","_disableSet","delete","enabled","forEachNode","_enableSetForNode","ids","get","id","forEach","addHighlight","_disableSetForNode","removeHighlight","nodeAdded","nodeRemoved","removeAll","Map","_add","nodeId","pointId","set","initializePipeline","depthTest","func","LESS","depthWrite","colorWrite","stencilWrite","hasOccludees","stencilTest","drawBuffers","Depth","buffers","NONE","hasSlicePlane","hasSliceInVertexProgram","D","W","U","FLOAT","UNSIGNED_BYTE","V","q","PCL","isGround","_passParameters","L","_addHighlight","_removeHighlight","produces","N","OPAQUE_MATERIAL","A","Highlight","OPAQUE_MATERIAL_WITHOUT_NORMALS","layerUid","_slicePlaneEnabled","_configuration","_nodes","initializeRenderContext","requestRender","uninitializeRenderContext","intersect","perScreenPixelRatio","near","Z","Array","forAll","minimumDistancePlane","maximumDistancePlane","J","dist","Y","intersectRay","I","coordinates","point","K","normal","node","options","store","E","MIN","ALL","createGraphic","T","$","results","min","max","acquireTechniques","bind","slot","_initNode","_clippingEnabled","techniques","acquire","H","render","rctx","bindTechnique","highlights","some","highlightGroupName","bindDraw","bindVAO","vao","_renderHighlightFragments","drawArrays","POINTS","componentIndex","_requestRender","addNode","removeNode","filterInPlace","clear","highlight","G","createVertex","C","STATIC_DRAW","rgb","k","pointIdFilterMap","ee","X","filter","Math","ue","pe","ne","maximumPointCount","_renderer","_rendererAdded","_renderedNodes","_updateViewNeeded","_lodFactor","_maxLoggedBoxWarnings","_pageMultiplier","_nodeLoadEpoch","_indexQueue","_workQueue","_idleQueue","_indexPagesLoading","_loadingNodes","_recalcWork","_layerIsVisible","_codedDomainPopulationPromise","_codedDomainPopulationAbortController","_totalWork","_index","_loadingInitNodePage","_nodeIdArray","ignoresMemoryFactor","baseUrl","parsedUrl","path","pointScale","pointSize","inverseDensity","pointsPerInch","availableFields","outFields","fieldsIndex","from","_clippingBox","clippingArea","renderSpatialReference","te","_elevationOffset","elevationInfo","mode","spatialReference","initialize","resourceController","immediate","ge","_worker","Q","_indexRequester","createStreamDataRequester","re","I3S_INDEX","_dataRequester","I3S_DATA","_initRenderer","_initNodePages","memoryController","_memCache","newCache","uid","_updatingHandles","_setUpdateViewNeeded","_elevationOffsetChanged","_rendererChanged","_reload","effectiveScaleRange","state","contentCamera","quality","when","scheduler","registerTask","le","POINT_CLOUD_LAYER","registerIdleStateCallbacks","_idleBegin","_idleEnd","suspended","_clearNodeState","removeAllHandles","_updateLoading","cancelLoading","_destroyRenderer","_createGraphic","_setPointsVisible","sqrt","qualitySettings","sceneService","pointCloud","lodFactor","ie","_createGraphicAttributes","pointIndexInNode","attributePointIndexInNode","epoch","geometry","sourceLayer","_encodeGraphicAttribute","values","_stage","addRenderPlugin","removeRenderPlugin","_displayNodes","sort","center","viewForward","_updateQueues","_computeWork","notifyChange","_cancelNodeLoading","_cancelIndexLoading","_ref","abortController","cancelAll","has","_ref2","_removeFromRenderer","running","runTask","_isRootNodeVisible","run","_updateWorkQueues","_processIndexQueue","_processWorkQueue","shift","_loadNodePage","done","_scheduleWorkEntry","madeProgress","_processWorkEntry","find","toString","resolve","_loadNode","_setupRendererData","_addToRenderer","_populateClassCodeCodedDomain","domain","includes","queryCachedStatistics","ok","stats","labels","isArray","codedValues","code","label","prepareFetchPopupFeatures","whenGraphicAttributes","_splitGraphicsPerNode","async","_loadElevationAttributeFromGeometry","resourceId","_loadAndParseAttribute","_isValidPointGraphic","allSettled","_loadAttribute","vertexCount","defaultGeometrySchema","_loadGeometry","isCollection","toArray","_graphicToPointDefinition","ae","updatingProgressValue","canResume","isUpdating","visibleAtCurrentScale","de","scale","nodesPerPage","nodePerIndexBlock","renderCoordsHelper","_traverseVisible","_requestNodePage","se","fromJSON","pointCount","lodThreshold","effectiveArea","_computeNodesForMinimumDensity","_computePointCount","eye","_computeAveragePixelArea","_loadNodeAsync","_loadAdditionalUserAttributes","schema","rendererInfo","filterInfo","obbData","data","elevationOffset","inSR","outSR","_requestData","key","customParameters","token","apiKey","request","query","put","ce","hasOwnProperty","fromData","halfSize","warn","points","usedMemory","me","unloadedMemory","reduce","performanceInfo","test","readOnly","Boolean","oe","_e","_validateFetchPopupFeatures","popupEnabled","fetchPopupFeaturesFromGraphics","associatedLayer","getObjectId","concat","EventedMixin","parent","title","fullOpacity","opacity","destroyed","suspendInfo","getSuspendInfo","legendEnabled","updating","updatingProgress","updateSuspended","visible","_overrideIfSome","visibleAtCurrentTimeExtent","timeExtent","visibilityTimeExtent","intersection","isEmpty","loaded","ready","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible"],"sourceRoot":""}