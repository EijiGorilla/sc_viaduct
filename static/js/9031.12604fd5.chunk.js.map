{"version":3,"file":"static/js/9031.12604fd5.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/i3s/featureEditing.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/core/AsyncUpdate.js","../node_modules/@arcgis/core/views/3d/layers/support/SceneLayerViewRequiredFields.js","../node_modules/@arcgis/core/views/3d/layers/support/fieldProperties.js","../node_modules/@arcgis/core/views/layers/SceneLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{resultOrAbort as e}from\"../../../../core/asyncUtils.js\";import{clone as t}from\"../../../../core/lang.js\";import{normalizeGlobalID as n}from\"../../../../core/uuid.js\";import{queryAllJSON as o}from\"../../../../layers/support/featureQueryAll.js\";const r={setAttribute(){},rollback(){},commit(){}};var i;function s(e,n){const o=n.attributes[e.objectIdField];if(null==o)return r;const s=e.sessions.get(o);if(s)return s;const l=t(n.attributes),u=new Set,a=e.i3sOverrides.createInteractiveEditSession(o),d=new Map,f=(e,t)=>{const n=d.get(e);if(null==n){const n=t.indexOf(o);return d.set(e,n),n}return n};let c=i.EDITING;const I={setAttribute(t,o){if(c!==i.EDITING)return;const r=e.fieldsIndex.get(t);if(!r)return;const s=e.attributeStorageInfo.findIndex((e=>e.name===r.name));if(s<0)return;if(!(t in l))throw new Error(`Attribute \"${t}\" is not an attribute of the edited feature.`);a.setAttribute(s,o);const d=e.attributeStorageInfo[s];let I=!1;u.add(t),e.forEachNode(((t,r)=>{const i=f(t,r);if(-1===i)return;const s=e.getAttributeData(t.index);if(s){const r=s[d.name];r&&(r[i]=o,e.setAttributeData(t.index,s,n),I=!0)}})),I&&e.clearMemCache()},rollback(){if(c===i.EDITING){for(const e of u)this.setAttribute(e,l[e]);a.remove(),c=i.ROLLED_BACK,e.sessions.delete(o)}},commit(){c===i.EDITING&&(a.remove(),c=i.COMMITTED,e.sessions.delete(o))}};return e.sessions.set(o,I),I}function l(e,t,n){const{gidToFeatureInfo:o,oidToFeatureInfo:r,fieldsIndex:i,objectIdField:s,globalIdField:l,featureOrIdentifierList:u}=n;if(!n.featuresResolved&&null!=u){for(const e of u){const t={feature:null,oid:-1,gid:null};if(\"attributes\"in e){t.feature=e;const n=e.attributes;if(null!=n)for(const e in n){if(-1!==t.oid&&null!=t.gid)break;const o=i.normalizeFieldName(e);o===s&&(t.oid=n[e]??-1),o===l&&(t.gid=n[e])}}else t.oid=e.objectId??-1,t.gid=e.globalId;null!=t.gid&&o.set(t.gid,t),-1!==t.oid&&r.set(t.oid,t)}n.featuresResolved=!0}return(-1!==e?r.get(e):null)??(null!=t?o.get(t):null)}function u(e,t,o,r,i=null,s=!0){const u=[],a={gidToFeatureInfo:new Map,oidToFeatureInfo:new Map,featuresResolved:null==o,fieldsIndex:e.fieldsIndex,objectIdField:e.objectIdField,globalIdField:e.globalIdField,featureOrIdentifierList:o};for(const d of t){if(null!=d.error)continue;const e=d.objectId??-1,t=d.globalId,o=(-1===e||s?l(e,t,a):null)??{feature:null,oid:e,gid:t},f={oid:-1===e?o.oid:e,gid:t??o.gid,feature:o.feature,result:d};u.push(f);const c=f.gid?n(f.gid):null;if(-1===f.oid&&null!=c&&null!=i&&(f.oid=i.get(c)??-1),-1===f.oid&&null!=c){let e=r.get(c);null==e&&(e={gid:f.gid,edits:[]},r.set(c,e)),e.edits.push(f)}}return u}async function a(e,t){const n=new Map,o=u(e,t.addedFeatures,t.edits?.addFeatures,n),r=u(e,t.updatedFeatures,t.edits?.updateFeatures,n),i=u(e,t.deletedFeatures,t.edits?.deleteFeatures,n,t.globalIdToObjectId,!1);return n.size>0&&await d(e,n),{adds:o.filter((e=>-1!==e.oid)),updates:r.filter((e=>-1!==e.oid)),deletes:i.filter((e=>-1!==e.oid))}}async function d(t,r){const i=t.i3sOverrides.layer.associatedLayer;if(null==i?.globalIdField)return;const s=i.createQuery(),{objectIdField:l,globalIdField:u}=i;s.where=Array.from(r.values()).map((({gid:e})=>`${u}='${e}'`)).join(\" OR \"),s.returnGeometry=!1,s.outFields=[l,u],s.cacheHint=!1;const a=await e(o(i,s));if(!a.ok)return;const d=a.value.features;for(const e of d){const t=e.attributes[u],o=e.attributes[l];if(null==t||null==o||-1===o)continue;const i=r.get(n(t));if(null!=i)for(const e of i.edits)e.oid=o}}function f(e,t){const n=new Map,o=e=>{for(const{oid:t,feature:o}of e){const e=o?.geometry;\"mesh\"===e?.type&&n.set(t,e)}};o(t.adds),o(t.updates);for(const r of t.deletes)n.set(r.oid,null);for(const[r,i]of n)e.i3sOverrides.updateGeometry(r,i)}function c(e,t){const n=g(e,t),o=I(e,t);if(0===n.size&&0===o.size)return;const r=new Map;for(let c=0;c<e.attributeStorageInfo.length;c++)r.set(e.attributeStorageInfo[c].name,c);let i=!1;n.forEach(((t,n)=>{const o=e.getAttributeData(n);let s=!1;t.forEach(((t,n)=>{const l=null!=o?o[n]:null,u=r.get(n);for(const{featureIndex:o,value:r,featureId:a}of t)l&&(l[o]=r,s=!0,i=!0),e.i3sOverrides.updateAttributeValue(a,u,r)})),s&&e.setAttributeData(n,o,null)})),i&&e.clearMemCache();const{fieldsIndex:s,i3sOverrides:l,objectIdField:u,globalIdField:a}=e,d=l.layer.associatedLayer?.infoFor3D,f=new Set(d?[...Object.values(d.assetMapFieldRoles),...Object.values(d.transformFieldRoles)]:[]);for(const[c,I]of o){l.featureAdded(c);const{attributes:e}=I;for(const t in e){if(t!==u&&t!==a&&f.has(t))continue;const n=s.normalizeFieldName(t),o=null!=n?r.get(n):null;if(null==o)continue;const i=e[t];l.updateAttributeValue(c,o,i)}}}function I(e,t){const n=new Map,o=t.adds;if(!o||0===o.length||null==e.globalIdField)return n;for(const r of o){const e=r.oid,t=r.feature;\"mesh\"===t?.geometry?.type&&n.set(e,t)}return n}function g(e,t){const n=t.updates;if(!n||0===n.length)return new F;const o=new F,r=new Map;for(let i=0;i<e.attributeStorageInfo.length;i++)r.set(e.attributeStorageInfo[i].name,i);return e.forEachNode(((t,r)=>{for(const i of n){if(null==i.feature)continue;const n=i.feature,s=i.oid,l=r.indexOf(s);for(const r in n.attributes){const i=e.fieldsIndex.normalizeFieldName(r),u=b(o,t.index,i),a=n.attributes[r];u.push({featureIndex:l,featureId:s,value:a})}}})),o}function b(e,t,n){const o=m(e,t),r=null!=n&&o.get(n);if(r)return r;const i=new Array;return o.set(n,i),i}function m(e,t){const n=e.get(t);if(n)return n;const o=new p;return e.set(t,o),o}!function(e){e[e.EDITING=0]=\"EDITING\",e[e.ROLLED_BACK=1]=\"ROLLED_BACK\",e[e.COMMITTED=2]=\"COMMITTED\"}(i||(i={}));const p=Map,F=Map;export{s as createInteractiveEditSession,a as normalizeEditResultsEvent,c as processAttributeEdits,f as processGeometryEdits};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Error.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as s,populateMissingFields as a}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as o,getRequiredFields as p}from\"../../../layers/support/popupUtils.js\";const i=i=>{let c=class extends i{_validateFetchPopupFeatures(e){const{layer:r}=this,{popupEnabled:s}=r;if(!s)throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:r});if(!o(r,e))throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:r})}async prepareFetchPopupFeatures(e){}async fetchPopupFeaturesFromGraphics(e,t){if(this._validateFetchPopupFeatures(t),0===e.length)return[];const r=\"scene\"===this.layer.type&&null!=this.layer.associatedLayer?this.layer.associatedLayer:this.layer;let i=[];\"fieldsIndex\"in this.layer&&(i=s(this.layer.fieldsIndex,await p(r,o(this.layer,t)))),await this.prepareFetchPopupFeatures(i);const c=new Set,n=[],l=[];for(const s of e)a(i,s,c)?l.push(s):n.push(s);if(0===l.length)return n;const u=new Map;for(let s=0;s<e.length;s++)u.set(e[s].getObjectId()??0,s);const h=await this.whenGraphicAttributes(l,[...c]).catch((()=>l)).then((e=>n.concat(e)));return h.sort(((e,t)=>{const r=e.getObjectId()??0,s=u.get(r)??0,a=t.getObjectId()??0;return s-(u.get(a)??0)})),h}};return c=e([r(\"esri.views.3d.layers.support.PopupSceneLayerView\")],c),c};export{i as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import s from\"./Accessor.js\";import r from\"./Logger.js\";import{debounce as o}from\"./promiseUtils.js\";import{watch as e,initial as n}from\"./reactiveUtils.js\";import{property as i}from\"./accessorSupport/decorators/property.js\";import{subclass as p}from\"./accessorSupport/decorators/subclass.js\";const c=s=>{let c=class extends s{constructor(){super(...arguments),this._numUpdating=0}get updating(){return this._numUpdating>0}autoUpdateAsync(t,s){const i=o((async s=>{++this._numUpdating;try{const r=await s;this.destroyed||this._set(t,r)}catch(o){r.getLogger(this).warn(`Async update of \"${String(t)}\" failed. Async update functions should not throw exceptions.`)}--this._numUpdating}));return e(s,i,n)}};return t([i({readOnly:!0})],c.prototype,\"updating\",null),t([i()],c.prototype,\"_numUpdating\",void 0),c=t([p(\"esri.core.AsyncUpdate\")],c),c};let a=class extends(c(s)){};a=t([p(\"esri.core.AsyncUpdate\")],a);export{a as AsyncUpdate,c as AsyncUpdateMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{AsyncUpdateMixin as s}from\"../../../../core/AsyncUpdate.js\";import t from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fixFields as l,collectLabelingFields as d,collectFilterFields as n}from\"../../../../layers/support/fieldUtils.js\";let a=class extends(s(r)){get layer(){return this.layerView.layer}get requiredFields(){const{layerView:{layer:{fieldsIndex:e},definitionExpressionFields:r},rendererFields:s,labelingFields:t,viewFilterFields:i}=this;return l(e,[...r??[],...s??[],...t??[],...i??[]])}constructor(e){super(e)}initialize(){this.addHandles([this.autoUpdateAsync(\"rendererFields\",(async()=>{const{fieldsIndex:e,renderer:r}=this.layer;return r?this._getFieldsAsync((s=>r.collectRequiredFields(s,e))):null})),this.autoUpdateAsync(\"labelingFields\",(async()=>{const{layer:e}=this;return e.labelsVisible?this._getFieldsAsync((r=>d(r,e))):null})),this.autoUpdateAsync(\"viewFilterFields\",(()=>{const{layer:e,mergedFilter:r}=this.layerView;return this._getFieldsAsync((s=>n(s,e,r)))}))])}async _getFieldsAsync(e){const r=new Set;try{return await e(r),Array.from(r).sort()}catch(s){return t.getLogger(this).error(s),null}}};e([i()],a.prototype,\"layerView\",void 0),e([i()],a.prototype,\"layer\",null),e([i()],a.prototype,\"requiredFields\",null),e([i()],a.prototype,\"rendererFields\",void 0),e([i()],a.prototype,\"labelingFields\",void 0),e([i()],a.prototype,\"viewFilterFields\",void 0),a=e([o(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\")],a);export{a as SceneLayerViewRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{fixFields as e,unpackFieldNames as r}from\"../../../../layers/support/fieldUtils.js\";function i(){return{requiredFields:{type:[String],readOnly:!0},availableFields:{type:[String],readOnly:!0,get:function(){const{layer:i,layer:{fieldsIndex:t},requiredFields:l}=this;return i.outFields?e(t,[...r(t,i.outFields),...l]):e(t,l)}}}}export{i as defineFieldProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{isSome as t}from\"../../core/arrayUtils.js\";import r from\"../../core/Logger.js\";import{abortMaybe as o}from\"../../core/maybe.js\";import{unwrapUpdating as i,updating as n,isUpdating as l}from\"../../core/maybeUpdating.js\";import{throwIfAbortError as s,throwIfNotAbortError as a}from\"../../core/promiseUtils.js\";import{whenOnce as m}from\"../../core/reactiveUtils.js\";import{property as p}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{project as u,canProjectWithoutEngine as g,isLoaded as y,load as h}from\"../../geometry/projection.js\";import d from\"./LayerView.js\";let f=class extends d{constructor(){super(...arguments),this.layer=null,this.filter=null,this._geometryEngine=null,this._projectionEngineLoaded=!1,this._abortController=new AbortController}get availableFields(){return[]}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){throw new Error(\"Not implemented\")}get maximumNumberOfFeaturesExceeded(){return!1}get layerFilter(){return i(this._layerFilter)}get _layerFilter(){const e=this.layer?.filter;if(null==e||e.geometries.length<1)return null;const o=this._geometryEngine;if(null==o||!this._projectionEngineLoaded&&this._filterNeedsProjectionEngine)return n;const i=e.geometries.at(0).spatialReference,l=e.geometries.toArray().map((e=>{try{e=o.simplify(e)}catch(t){return r.getLogger(this).warnOncePerTick(\"Failed to simplify scene filter mask polygon. Polygon will be ignored.\"),null}if(null==e)return null;if(e.spatialReference.equals(i))return e;try{return u(e,i)}catch(t){return r.getLogger(this).warnOncePerTick(\"Failed to project scene filter mask polygon. Polygon will be ignored.\"),null}})).filter(t).sort(((e,t)=>e.extent.xmin-t.extent.xmin)),s=new Set,a=new Array,m=new Array;for(let t of l){const e=t.extent.xmin;if(a.length=0,s.forEach((r=>{if(e>=r.extent.xmax)return m.push(r),void s.delete(r);t.extent.ymin<=r.extent.ymax&&t.extent.ymax>=r.extent.ymin&&o.intersects(t,r)&&a.push(r)})),a.length>0){a.push(t);try{t=o.union(a)}catch(p){r.getLogger(this).warnOncePerTick(\"Failed to unify filter mask polygons. Polygon will be ignored.\");continue}a.pop(),a.forEach((e=>s.delete(e)))}s.add(t)}return s.forEach((e=>m.push(e))),m.length>0?{spatialRelationship:e.spatialRelationship,geometries:m}:null}get _filterNeedsProjectionEngine(){const e=this.layer.filter;if(null==e||e.geometries.length<=1)return!1;const t=e.geometries.at(0).spatialReference;return e.geometries.some((({spatialReference:e})=>!e.equals(t)&&!g(e,t)))}get layerFilterUpdating(){return l(this._layerFilter)}initialize(){const{signal:e}=this._abortController;m((()=>this.destroyed||!this._geometryEngine&&this.layer?.filter?.geometries?.length),e).then((async()=>{s(e),this._geometryEngine=await import(\"../../geometry/geometryEngine.js\")})).catch(a),this._projectionEngineLoaded=y(),m((()=>this.destroyed||!this._projectionEngineLoaded&&this._filterNeedsProjectionEngine),e).then((async()=>{s(e),await h(),this._projectionEngineLoaded=!0})).catch(a)}destroy(){this._abortController=o(this._abortController)}highlight(e){throw new Error(\"Not implemented\")}queryFeatures(e,t){throw new Error(\"Not implemented\")}queryObjectIds(e,t){throw new Error(\"Not implemented\")}queryFeatureCount(e,t){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(e,t){throw new Error(\"Not implemented\")}};e([p()],f.prototype,\"layer\",void 0),e([p()],f.prototype,\"availableFields\",null),e([p()],f.prototype,\"maximumNumberOfFeatures\",null),e([p({readOnly:!0})],f.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([p()],f.prototype,\"filter\",void 0),e([p({readOnly:!0})],f.prototype,\"layerFilter\",null),e([p({readOnly:!0})],f.prototype,\"_layerFilter\",null),e([p()],f.prototype,\"_geometryEngine\",void 0),e([p()],f.prototype,\"_projectionEngineLoaded\",void 0),e([p()],f.prototype,\"_filterNeedsProjectionEngine\",null),e([p()],f.prototype,\"layerFilterUpdating\",null),f=e([c(\"esri.views.layers.SceneLayerView\")],f);const w=f;export{w as default};\n"],"names":["r","setAttribute","rollback","commit","i","e","s","n","o","attributes","objectIdField","sessions","get","l","t","u","Set","a","i3sOverrides","createInteractiveEditSession","d","Map","f","indexOf","set","c","EDITING","I","fieldsIndex","attributeStorageInfo","findIndex","name","Error","add","forEachNode","getAttributeData","index","setAttributeData","clearMemCache","this","remove","ROLLED_BACK","delete","COMMITTED","gidToFeatureInfo","oidToFeatureInfo","globalIdField","featureOrIdentifierList","featuresResolved","feature","oid","gid","normalizeFieldName","objectId","globalId","arguments","length","undefined","error","result","push","edits","async","addedFeatures","addFeatures","updatedFeatures","updateFeatures","deletedFeatures","deleteFeatures","globalIdToObjectId","size","layer","associatedLayer","createQuery","where","Array","from","values","map","_ref","join","returnGeometry","outFields","cacheHint","ok","value","features","adds","filter","updates","deletes","geometry","type","updateGeometry","F","b","featureIndex","featureId","g","forEach","updateAttributeValue","infoFor3D","Object","assetMapFieldRoles","transformFieldRoles","featureAdded","has","p","m","_validateFetchPopupFeatures","popupEnabled","prepareFetchPopupFeatures","fetchPopupFeaturesFromGraphics","getObjectId","h","whenGraphicAttributes","catch","then","concat","sort","constructor","super","_numUpdating","updating","autoUpdateAsync","destroyed","_set","getLogger","warn","String","readOnly","prototype","layerView","requiredFields","definitionExpressionFields","rendererFields","labelingFields","viewFilterFields","initialize","addHandles","renderer","_getFieldsAsync","collectRequiredFields","labelsVisible","mergedFilter","availableFields","_geometryEngine","_projectionEngineLoaded","_abortController","AbortController","maximumNumberOfFeatures","maximumNumberOfFeaturesExceeded","layerFilter","_layerFilter","geometries","_filterNeedsProjectionEngine","at","spatialReference","toArray","simplify","warnOncePerTick","equals","extent","xmin","xmax","ymin","ymax","intersects","union","pop","spatialRelationship","some","layerFilterUpdating","signal","y","destroy","highlight","queryFeatures","queryObjectIds","queryFeatureCount","queryExtent","w"],"sourceRoot":""}