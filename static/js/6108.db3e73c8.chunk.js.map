{"version":3,"file":"static/js/6108.db3e73c8.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js","../node_modules/@arcgis/core/views/layers/WMSLayerView.js","../node_modules/@arcgis/core/views/3d/layers/WMSLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const a={visible:\"visibleSublayers\"};let o=class extends r{constructor(e){super(e),this.scale=0}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.removeHandles(\"layer\"),e&&this.addHandles([e.sublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"wms-sublayer-update\",(e=>this.notifyChange(a[e.propertyName])))],\"layer\"))}get layers(){return this.visibleSublayers.filter((({name:e})=>e)).map((({name:e})=>e)).join()}get version(){this.commitProperty(\"layers\");const e=this.layer;return e&&e.commitProperty(\"imageTransparency\"),(this._get(\"version\")||0)+1}get visibleSublayers(){const{layer:e,scale:r}=this,s=e?.sublayers,t=[],a=e=>{const{minScale:s,maxScale:o,sublayers:l,visible:i}=e;i&&(0===r||(0===s||r<=s)&&(0===o||r>=o))&&(l?l.forEach(a):t.push(e))};return s?.forEach(a),t}toJSON(){const{layer:e,layers:r}=this,{imageFormat:s,imageTransparency:t,version:a}=e;return{format:s,request:\"GetMap\",service:\"WMS\",styles:\"\",transparent:t?\"TRUE\":\"FALSE\",version:a,layers:r}}};e([s()],o.prototype,\"layer\",null),e([s({readOnly:!0})],o.prototype,\"layers\",null),e([s({type:Number})],o.prototype,\"scale\",void 0),e([s({readOnly:!0})],o.prototype,\"version\",null),e([s({readOnly:!0})],o.prototype,\"visibleSublayers\",null),o=e([t(\"esri.layers.support.ExportWMSImageParameters\")],o);export{o as ExportWMSImageParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{destroyMaybe as t}from\"../../core/maybe.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as p}from\"../../layers/support/commonProperties.js\";import{ExportWMSImageParameters as a}from\"../../layers/support/ExportWMSImageParameters.js\";const i=i=>{let m=class extends i{initialize(){this.exportImageParameters=new a({layer:this.layer})}destroy(){this.exportImageParameters=t(this.exportImageParameters)}get exportImageVersion(){return this.exportImageParameters?.commitProperty(\"version\"),this.commitProperty(\"timeExtent\"),(this._get(\"exportImageVersion\")||0)+1}fetchPopupFeatures(e){const{layer:t}=this;if(!e)return Promise.reject(new r(\"wmslayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:t}));const{popupEnabled:o}=t;if(!o)return Promise.reject(new r(\"wmslayerview:fetchPopupFeatures\",\"popupEnabled should be true\",{popupEnabled:o}));const s=this.createFetchPopupFeaturesQuery(e);if(!s)return Promise.resolve([]);const{extent:p,width:a,height:i,x:m,y:n}=s;if(!(p&&a&&i))throw new r(\"wmslayerview:fetchPopupFeatures\",\"WMSLayer does not support fetching features.\",{extent:p,width:a,height:i});return t.fetchFeatureInfo(p,a,i,m,n)}};return e([o()],m.prototype,\"exportImageParameters\",void 0),e([o({readOnly:!0})],m.prototype,\"exportImageVersion\",null),e([o()],m.prototype,\"layer\",void 0),e([o(p)],m.prototype,\"timeExtent\",void 0),m=e([s(\"esri.layers.mixins.WMSLayerView\")],m),m};export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../geometry/Extent.js\";import i from\"./DynamicLayerView3D.js\";import o from\"../../layers/WMSLayerView.js\";let a=class extends(o(i)){constructor(){super(...arguments),this.type=\"wms-3d\"}initialize(){this.layer.serviceSupportsSpatialReference(this.view.spatialReference)||this.addResolvingPromise(Promise.reject(new t(\"layerview:spatial-reference-incompatible\",\"The spatial references supported by this WMS layer are incompatible with the spatial reference of the view\"))),this._updatingHandles.add((()=>this.exportImageParameters?.version),(()=>{this._updatingHandles.addPromise(this.refreshDebounced())}))}createFetchPopupFeaturesQuery(e){const t=this.findExtentInfoAt(e),r=t.extent,i=new s(r[0],r[1],r[2],r[3],this._spatialReference),o=t.imageSize,a=o.width,n=o.height,p=i.width/a;return{extent:i,width:a,height:n,x:Math.round((e.x-i.xmin)/p),y:Math.round((i.ymax-e.y)/p)}}getFetchOptions(){return{timeExtent:this.timeExtent}}};a=e([r(\"esri.views.3d.layers.WMSLayerView3D\")],a);const n=a;export{n as default};\n"],"names":["a","visible","o","r","constructor","e","super","this","scale","layer","_get","_set","removeHandles","addHandles","sublayers","on","notifyChange","propertyName","layers","visibleSublayers","filter","_ref","name","map","_ref2","join","version","commitProperty","s","t","minScale","maxScale","l","i","forEach","push","toJSON","imageFormat","imageTransparency","format","request","service","styles","transparent","prototype","readOnly","type","Number","m","initialize","exportImageParameters","destroy","exportImageVersion","_this$exportImagePara","fetchPopupFeatures","Promise","reject","popupEnabled","createFetchPopupFeaturesQuery","resolve","extent","p","width","height","x","y","n","fetchFeatureInfo","arguments","serviceSupportsSpatialReference","view","spatialReference","addResolvingPromise","_updatingHandles","add","addPromise","refreshDebounced","findExtentInfoAt","_spatialReference","imageSize","Math","round","xmin","ymax","getFetchOptions","timeExtent"],"sourceRoot":""}