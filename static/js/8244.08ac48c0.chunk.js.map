{"version":3,"file":"static/js/8244.08ac48c0.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/ExportImageParameters.js","../node_modules/@arcgis/core/layers/support/floorFilterUtils.js","../node_modules/@arcgis/core/layers/support/rasterFormats/pixelRangeUtils.js","../node_modules/@arcgis/core/layers/support/sublayerUtils.js","../node_modules/@arcgis/core/renderers/support/rendererConversion.js","../node_modules/@arcgis/core/smartMapping/renderers/support/referenceSizeUtils.js","../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/featureReductionUtils.js","../node_modules/@arcgis/core/layers/effects/EffectView.js","../node_modules/@arcgis/core/widgets/Legend/support/ActiveLayerInfo.js","../node_modules/@arcgis/core/widgets/smartMapping/support/utils.js","../node_modules/@arcgis/core/widgets/Legend/support/clusterUtils.js","../node_modules/@arcgis/core/widgets/Legend/LegendViewModel.js","../node_modules/@arcgis/core/widgets/Legend/styles/CardCSS.js","../node_modules/@arcgis/core/widgets/Legend/styles/support/univariateUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/styleUtils.js","../node_modules/@arcgis/core/widgets/Legend/styles/Card.js","../node_modules/@arcgis/core/widgets/Legend/styles/ClassicCSS.js","../node_modules/@arcgis/core/widgets/Legend/styles/Classic.js","../node_modules/@arcgis/core/widgets/Legend.js","../node_modules/@arcgis/core/widgets/Legend/support/sizeRampUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{sqlAnd as s}from\"../../core/sql.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import{isInScaleRange as a}from\"../../geometry/support/scaleUtils.js\";import{getLayerFloorFilterClause as o}from\"./floorFilterUtils.js\";import{isExportDynamic as l}from\"./sublayerUtils.js\";const n={visible:\"visibleSublayers\",definitionExpression:\"layerDefs\",labelingInfo:\"hasDynamicLayers\",labelsVisible:\"hasDynamicLayers\",opacity:\"hasDynamicLayers\",minScale:\"visibleSublayers\",maxScale:\"visibleSublayers\",renderer:\"hasDynamicLayers\",source:\"hasDynamicLayers\"};let y=class extends r{constructor(e){super(e),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>{const r=o(this.floors,e);return e.toExportImageJSON(r)}));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&l(this.visibleSublayers,this.layer.serviceSublayers,this.layer.gdbVersion)}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.removeHandles(\"layer\"),e&&this.addHandles([e.allSublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"sublayer-update\",(e=>this.notifyChange(n[e.propertyName])))],\"layer\"))}get layers(){const e=this.visibleSublayers;return e?e.length?\"show:\"+e.map((e=>e.id)).join(\",\"):\"show:-1\":null}get layerDefs(){const e=!!this.floors?.length,r=this.visibleSublayers.filter((r=>null!=r.definitionExpression||e&&null!=r.floorInfo));return r.length?JSON.stringify(r.reduce(((e,r)=>{const t=o(this.floors,r),i=s(t,r.definitionExpression);return null!=i&&(e[r.id]=i),e}),{})):null}get version(){this.commitProperty(\"layers\"),this.commitProperty(\"layerDefs\"),this.commitProperty(\"dynamicLayers\");const e=this.layer;return e&&(e.commitProperty(\"dpi\"),e.commitProperty(\"imageFormat\"),e.commitProperty(\"imageTransparency\"),e.commitProperty(\"gdbVersion\")),(this._get(\"version\")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const r=this.layer.sublayers,s=this.scale,t=r=>{r.visible&&(0===s||a(s,r.minScale,r.maxScale))&&(r.sublayers?r.sublayers.forEach(t):e.unshift(r))};r&&r.forEach(t);const i=this._get(\"visibleSublayers\");return!i||i.length!==e.length||i.some(((r,s)=>e[s]!==r))?e:i}toJSON(){const e=this.layer;let r={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?r.dynamicLayers=this.dynamicLayers:r={...r,layers:this.layers,layerDefs:this.layerDefs},r}};e([t({readOnly:!0})],y.prototype,\"dynamicLayers\",null),e([t()],y.prototype,\"floors\",void 0),e([t({readOnly:!0})],y.prototype,\"hasDynamicLayers\",null),e([t()],y.prototype,\"layer\",null),e([t({readOnly:!0})],y.prototype,\"layers\",null),e([t({readOnly:!0})],y.prototype,\"layerDefs\",null),e([t({type:Number})],y.prototype,\"scale\",void 0),e([t({readOnly:!0})],y.prototype,\"version\",null),e([t({readOnly:!0})],y.prototype,\"visibleSublayers\",null),y=e([i(\"esri.layers.support.ExportImageParameters\")],y);export{y as ExportImageParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction o(o){const n=o.layer;if(\"floorInfo\"in n&&n.floorInfo?.floorField&&\"floors\"in o.view){return l(o.view.floors,n.floorInfo.floorField)}return null}function n(o,n){return\"floorInfo\"in n&&n.floorInfo?.floorField?l(o,n.floorInfo.floorField):null}function l(o,n){if(!o?.length)return null;const l=o.filter((o=>\"\"!==o)).map((o=>`'${o}'`));return l.push(\"''\"),`${n} IN (${l.join(\",\")}) OR ${n} IS NULL`}export{o as getFloorFilterClause,n as getLayerFloorFilterClause};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst t=9999999e31,n=2e-7,e={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34028234663852886e22,34028234663852886e22],f64:[-Number.MAX_VALUE,Number.MAX_VALUE],unknown:void 0,c64:void 0,c128:void 0};function s(t){return e[t]??[-34028234663852886e22,34028234663852886e22]}function u(t,n){return null==t||null==n?\"s32\":t<0?t>=-128&&n<128?\"s8\":t>=-32768&&n<32768?\"s16\":\"s32\":n<256?\"u8\":n<65536?\"u16\":\"u32\"}function o(t){return(t?.startsWith(\"s\")||t?.startsWith(\"u\"))??!1}function i(t,n,e,u){let[i,l]=s(e);const a=o(e);return a&&(i-=1e-5,l+=1e-5),a?e.startsWith(\"u\")?c(t,n,u,[i,l]):f(t,n,u,[i,l]):r(t,n,u,[i,l])}function l(t,n){for(let e=0;e<n.length;e++)n[e]&&isNaN(t[e])&&(n[e]=0,t[e]=0)}function c(t,n,e,s){const[u,o]=s;for(let i=0;i<n.length;i++)if(n[i]){const s=t[i];s<u||s>o?n[i]=0:e[i]=s+.5|0}}function f(t,n,e,s){const[u,o]=s;for(let i=0;i<n.length;i++)if(n[i]){const s=t[i];s<u||s>o?n[i]=0:e[i]=s+(s>0?.5:-.5)|0}}function r(t,n,e,s){const[u,o]=s;for(let i=0;i<n.length;i++)if(n[i]){const s=t[i];s<u||s>o?n[i]=0:e[i]=s}}function a(e,u,o){if(e.depthCount&&e.depthCount>1)return;const{pixels:i,statistics:l,pixelType:c}=e,f=i[0].length,r=e.bandMasks??[],a=e.mask??new Uint8Array(f).fill(255),h=\"f32\"===c||\"f64\"===c,b=s(c);let m=!1;for(let s=0;s<i.length;s++){const e=\"number\"==typeof u?u:u[s];if(null==e)continue;const f=l?.[s]?.minValue??b[0],d=l?.[s]?.maxValue??b[1];if(f>e+Number.EPSILON||d<e-Number.EPSILON)continue;const p=r[s]||a.slice(),N=i[s],g=o?.customFloatTolerance;if(h&&0!==g){let s=g;s||(s=Math.abs(e)>=t?n*Math.abs(e):\"f32\"===c?2**-23:Number.EPSILON);for(let t=0;t<N.length;t++)p[t]&&Math.abs(N[t]-e)<s&&(N[t]=0,p[t]=0,a[t]=0,m=!0)}else for(let t=0;t<N.length;t++)p[t]&&N[t]===e&&(N[t]=0,p[t]=0,a[t]=0,m=!0);r[s]=p}m&&(e.bandMasks=e.bandMasks||e.pixels.length>1?r:null,e.mask=a),m&&\"updateStatistics\"in e&&e.updateStatistics()}export{i as clipBandToPixelTypeRange,a as convertNoDataToMask,l as fixNaN,u as getIntegerPixelType,s as getPixelValueRange,o as isIntegerPixelType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{OriginId as r}from\"../../core/accessorSupport/PropertyOrigin.js\";function e(r,e,n){const o=e.flatten((({sublayers:r})=>r)).length;if(o!==r.length)return!0;return!!r.some((r=>r.originIdOf(\"minScale\")>n||r.originIdOf(\"maxScale\")>n||r.originIdOf(\"renderer\")>n||r.originIdOf(\"labelingInfo\")>n||r.originIdOf(\"opacity\")>n||r.originIdOf(\"labelsVisible\")>n||r.originIdOf(\"source\")>n))||!i(r,e)}function n(e,n,o){return!!e.some((e=>{const n=e.source,i=!n||\"map-layer\"===n.type&&n.mapLayerId===e.id&&(null==n.gdbVersion||n.gdbVersion===o);return e.commitProperty(\"renderer\"),e.commitProperty(\"labelingInfo\"),e.commitProperty(\"opacity\"),e.commitProperty(\"labelsVisible\"),!i||e.originIdOf(\"renderer\")>r.SERVICE||e.originIdOf(\"labelingInfo\")>r.SERVICE||e.originIdOf(\"opacity\")>r.SERVICE||e.originIdOf(\"labelsVisible\")>r.SERVICE}))||!i(e,n)}function i(r,e){if(!r?.length||null==e)return!0;const n=e.slice().reverse().flatten((({sublayers:r})=>r&&r.toArray().reverse())).map((r=>r.id)).toArray();if(r.length>n.length)return!1;let i=0;const o=n.length;for(const{id:t}of r){for(;i<o&&n[i]!==t;)i++;if(i>=o)return!1}return!0}function o(r){return!!r&&r.some((r=>null!=r.minScale||null!=r.layerDefinition?.minScale))}export{n as isExportDynamic,o as isSublayerOverhaul,e as shouldWriteSublayerStructure};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{isSome as r}from\"../../core/arrayUtils.js\";import\"../../core/has.js\";import e from\"../../core/Error.js\";import{defaultTo3DOptions as n,to3D as o}from\"../../symbols/support/symbolConversion.js\";function t(r){return null==r||\"simple\"===r.type||\"unique-value\"===r.type||\"class-breaks\"===r.type||\"dictionary\"===r.type||\"heatmap\"===r.type}function s(r,n){if(null==r)return null;if(!t(r))return new e(\"renderer-conversion-3d:unsupported-renderer\",`Unsupported renderer of type '${r.type||r.declaredClass}'`,{renderer:r});switch(r.type){case\"simple\":return a(r,n);case\"unique-value\":return u(r,n);case\"class-breaks\":return i(r,n);case\"dictionary\":case\"heatmap\":return null}return null}function l(r,n){if(!n)return null;let o;if(o=Array.isArray(n)?n:[n],o.length>0){const n=o.map((r=>r.details.symbol.type||r.details.symbol.declaredClass)).filter((r=>!!r));n.sort();const t=[];return n.forEach(((r,e)=>{0!==e&&r===n[e-1]||t.push(r)})),new e(\"renderer-conversion-3d:unsupported-symbols\",`Renderer contains symbols (${t.join(\", \")}) which are not supported in 3D`,{renderer:r,symbolErrors:o})}return null}function a(r,e){const t={...n,...e,cimFallbackEnabled:!0};return l(r,o(r.symbol,t).error)}function u(e,t){const s={...n,...t,cimFallbackEnabled:!0},a=e.uniqueValueInfos?.map((r=>o(r.symbol,s).error)).filter(r),u=o(e.defaultSymbol,s);return u.error&&a?.unshift(u.error),l(e,a)}function i(e,t){const s={...n,...t,cimFallbackEnabled:!0},a=e.classBreakInfos.map((r=>o(r.symbol,s).error)).filter(r),u=o(e.defaultSymbol,s);return u.error&&a.unshift(u.error),l(e,a)}export{t as isSupportedRenderer3D,s as validateTo3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../../symbols.js\";import e from\"../../../core/Error.js\";import{clone as r}from\"../../../core/lang.js\";import n from\"../../../renderers/visualVariables/support/SizeStop.js\";import{PlacementPolygonCenterMethod as t}from\"../../../symbols/cim/enums.js\";import i from\"../../../symbols/CIMSymbol.js\";var o;function a(r){if(null!=r.minDataValue&&null!=r.maxDataValue&&null!=r.minSize&&null!=r.maxSize&&\"number\"==typeof r.minSize&&\"number\"==typeof r.maxSize)return[new n({value:r.minDataValue,size:r.minSize}),new n({value:r.maxDataValue,size:r.maxSize})];throw new e(\"create-reference-size-symbol\",\"Invalid size variable\")}function l(e){const{view:r,field:n,normalizationField:t,sizeStops:i,sizeByScaleEnabled:a}=e,{value:l,size:s}=i[0],{value:m,size:c}=i[1];let u,y=0;n&&(y=`$feature[\"${n}\"]`,u=`\\n      if(!HasValue($feature, \"${n}\")){\\n        return 0;\\n      }\\n      $feature[\"${n}\"];\\n    `),t&&(y=`$feature[\"${n}\"] / $feature[\"${t}\"]`,u=`if(!HasValue($feature, \"${n}\") || !HasValue($feature, \"${t}\") || $feature[\"${t}\"] <= 0){\\n        return 0;\\n      }\\n      $feature[\"${n}\"];\\n      $feature[\"${t}\"];`);const p={type:\"CIMExpressionInfo\",title:\"Size in pixels of outer ring\",expression:a?`\\n      ${u}\\n      var maxSize = ${c};\\n      var referenceScale = ${r.scale};\\n      return (maxSize * (referenceScale / $view.scale));\\n    `:`${u}\\n      return ${c}`,returnType:\"Default\"},f={type:\"CIMExpressionInfo\",title:\"Size in pixels of inner ring\",expression:`\\n        ${u}\\n        var value = ${y};\\n\\n        var referenceScale = ${r.scale};\\n        var referenceScaleRatio = ${a?\"(referenceScale / $view.scale)\":1};\\n        var maxSize = ${c} * referenceScaleRatio;\\n        var minSize = ${s} * referenceScaleRatio;\\n\\n        var minDataValue = ${l};\\n        var maxDataValue = ${m};\\n\\n        var ratio = Constrain(( value - minDataValue ) / ( maxDataValue - minDataValue ), 0, 1);\\n\\n        var innerDotSize = Constrain(maxSize * ratio, minSize, maxSize);\\n        return innerDotSize;\\n      `,returnType:\"Default\"};return[{type:\"CIMPrimitiveOverride\",primitiveName:o.OuterRing,propertyName:\"Size\",valueExpressionInfo:p},{type:\"CIMPrimitiveOverride\",primitiveName:o.InnerDot,propertyName:\"Size\",valueExpressionInfo:f}]}function s(e){switch(e){case\"circle\":return{rings:[[[8.5,.2],[7.06,.33],[5.66,.7],[4.35,1.31],[3.16,2.14],[2.14,3.16],[1.31,4.35],[.7,5.66],[.33,7.06],[.2,8.5],[.33,9.94],[.7,11.34],[1.31,12.65],[2.14,13.84],[3.16,14.86],[4.35,15.69],[5.66,16.3],[7.06,16.67],[8.5,16.8],[9.94,16.67],[11.34,16.3],[12.65,15.69],[13.84,14.86],[14.86,13.84],[15.69,12.65],[16.3,11.34],[16.67,9.94],[16.8,8.5],[16.67,7.06],[16.3,5.66],[15.69,4.35],[14.86,3.16],[13.84,2.14],[12.65,1.31],[11.34,.7],[9.94,.33],[8.5,.2]]]};case\"square\":return{rings:[[[.5,.5],[.5,16.5],[16.5,16.5],[16.5,.5],[.5,.5]]]};case\"diamond\":return{rings:[[[8.5,.5],[.2,8.5],[8.5,16.5],[16.5,8.5],[8.5,.5]]]};case\"hexagon-pointy\":return{rings:[[[15.86,12.75],[15.86,4.25],[8.5,0],[1.14,4.25],[1.14,12.75],[8.5,17],[15.86,12.75]]]};case\"hexagon-flat\":return{rings:[[[12.75,15.86],[17,8.5],[12.75,1.14],[4.25,1.14],[0,8.5],[4.25,15.86],[12.75,15.86]]]}}}function m(e){const{type:r,color:n,colorLocked:i}=e;return{type:\"CIMVectorMarker\",enable:!0,colorLocked:!1,anchorPoint:{x:0,y:0},anchorPointUnits:\"Relative\",primitiveName:o.OuterRing,frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:s(r),symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:n.toArray(),colorLocked:!!i,effects:[{type:\"CIMGeometricEffectDonut\",width:.75}]}]}}],scaleSymbolsProportionally:!1,respectFrame:!0,markerPlacement:{type:\"CIMMarkerPlacementPolygonCenter\",placePerPart:!1,method:t.OnPolygon,offsetX:0,offsetY:0,clipAtBoundary:!1},size:20}}function c(e){const{type:r,color:n}=e;return{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:\"Relative\",primitiveName:o.InnerDot,frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:s(r),symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:n.toArray()}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:\"CIMMarkerPlacementPolygonCenter\",placePerPart:!1,method:t.OnPolygon,offsetX:0,offsetY:0,clipAtBoundary:!1},size:10}}function u(e){const{primitiveOverrides:r}=e;return new i({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[m(e),c(e)]},primitiveOverrides:r}})}function y(e){return\"CIMVectorMarker\"===e?.type?e.markerGraphics?.[0]:void 0}function p(e){return\"CIMPolygonSymbol\"===e?.symbol?.type?e.symbol.symbolLayers?.[0]:void 0}function f(e,r){\"CIMVectorMarker\"===e?.type&&null!=r&&(e.size=r)}function v(e,r){const n=y(e);n&&null!=r&&(n.geometry=s(r))}function S(e,r){const n=p(y(e));n&&null!=r&&(n.color=r.toArray())}function z(e,r,n){const t=p(y(e));t&&null!=r&&n&&(t.colorLocked=r)}function d(e,n){const{outerRingSize:t,innerDotSize:i,type:a,color:l,colorLocked:s,primitiveOverrides:m}=n,c=\"CIMPolygonSymbol\"===e.data.symbol?.type?e.data.symbol.symbolLayers:null;if(2===c?.length)for(const r of c){const e=r.primitiveName===o.OuterRing;f(r,e?t:i),v(r,a),S(r,l),z(r,s,e)}return null!=t&&null!=i&&(e.data.primitiveOverrides=null),void 0!==m&&(e.data.primitiveOverrides=r(m)),e}!function(e){e.OuterRing=\"reference-size-outer-ring\",e.InnerDot=\"reference-size-inner-dot\"}(o||(o={}));export{l as createPrimitiveOverrides,u as createReferenceSizeSymbol,a as getReferenceSizeStops,d as updateReferenceSizeSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction e(e,a){const c=e.featureReduction;return c&&\"selection\"!==c.type&&(!(\"maxScale\"in c)||!c.maxScale||c.maxScale<a.scale)?c:null}export{e as getEffectiveFeatureReduction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import has from\"../../core/has.js\";import{clone as s}from\"../../core/lang.js\";import r from\"../../core/Logger.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{parse as c}from\"./parser.js\";import{canInterpolateEffects as o,normalizeEffects as f}from\"./utils.js\";const l=-1;let a=class extends e{constructor(t){super(t),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=has(\"mapview-transitions-duration\"),this.effects=[]}set effect(t){if(this._get(\"effect\")!==(t=t||\"\")){this._set(\"effect\",t);try{this._transitionTo(h(t))}catch(e){this._transitionTo([]),r.getLogger(this).warn(\"Invalid Effect\",{effect:t,error:e})}}}get final(){return this._final}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(t){this._updateForScale(t)}get transitioning(){return null!==this._to}canTransitionTo(t){try{return this.scale>0&&u(this._current,h(t),this.scale)}catch{return!1}}transitionStep(t,e){this._applyTimeTransition(t),this._updateForScale(e)}endTransition(){this._applyTimeTransition(this.duration)}_transitionTo(t){this.scale>0&&u(this._current,t,this.scale)?(this._final=t,this._to=s(t),_(this._current,this._to,this.scale),this._from=s(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=t),this._set(\"effects\",this._current[0]?s(this._current[0].effects):[])}_applyTimeTransition(t){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=t;const e=Math.min(1,this._time/this.duration);for(let s=0;s<this._current.length;s++){const t=this._current[s],r=this._from[s],i=this._to[s];t.scale=p(r.scale,i.scale,e);for(let s=0;s<t.effects.length;s++){const n=t.effects[s],c=r.effects[s],o=i.effects[s];n.interpolate(c,o,e)}}1===e&&(this._current=this._final,this._set(\"effects\",this._current[0]?s(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(t){if(this._set(\"scale\",t),0===this._current.length)return;const e=this._current,s=this._current.length-1;let r,i,n=1;if(1===e.length||t>=e[0].scale)i=r=e[0].effects;else if(t<=e[s].scale)i=r=e[s].effects;else for(let c=0;c<s;c++){const s=e[c],o=e[c+1];if(s.scale>=t&&o.scale<=t){n=(t-s.scale)/(o.scale-s.scale),r=s.effects,i=o.effects;break}}for(let c=0;c<this.effects.length;c++){this.effects[c].interpolate(r[c],i[c],n)}}};function h(t){const e=c(t)||[];return m(e)?[{scale:l,effects:e}]:e}function u(t,e,s){if(!t[0]?.effects||!e[0]?.effects)return!0;return!((t[0]?.scale===l||e[0]?.scale===l)&&(t.length>1||e.length>1)&&s<=0)&&o(t[0].effects,e[0].effects)}function _(t,e,s){const r=t.length>e.length?t:e,i=t.length>e.length?e:t,n=i[i.length-1],c=n?.scale??s,o=n?.effects??[];for(let f=i.length;f<r.length;f++)i.push({scale:c,effects:[...o]});for(let a=0;a<r.length;a++)i[a].scale=i[a].scale===l?s:i[a].scale,r[a].scale=r[a].scale===l?s:r[a].scale,f(i[a].effects,r[a].effects)}function p(t,e,s){return t+(e-t)*s}function m(t){const e=t[0];return!!e&&\"type\"in e}t([i()],a.prototype,\"_to\",void 0),t([i()],a.prototype,\"duration\",void 0),t([i({value:\"\"})],a.prototype,\"effect\",null),t([i({readOnly:!0})],a.prototype,\"effects\",void 0),t([i({readOnly:!0})],a.prototype,\"final\",null),t([i({readOnly:!0})],a.prototype,\"hasEffects\",null),t([i({value:0})],a.prototype,\"scale\",null),t([i({readOnly:!0})],a.prototype,\"transitioning\",null),a=t([n(\"esri.layers.effects.EffectView\")],a);export{a as EffectView,u as canInterpolateEffectStops,h as convertEffectToStops,_ as normalizeEffectStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import\"../../../intl.js\";import{addTokenParameter as i}from\"../../../kernel.js\";import s from\"../../../request.js\";import\"../../../symbols.js\";import l from\"../../../core/Accessor.js\";import{isSome as r}from\"../../../core/arrayUtils.js\";import n from\"../../../core/Collection.js\";import has from\"../../../core/has.js\";import{JSONMap as a}from\"../../../core/jsonMap.js\";import o from\"../../../core/Logger.js\";import{debounce as u}from\"../../../core/promiseUtils.js\";import{on as c,watch as d,whenOnce as y,initial as h}from\"../../../core/reactiveUtils.js\";import{px2pt as m}from\"../../../core/screenUtils.js\";import{parseWhereClause as f}from\"../../../core/sql.js\";import{addQueryParameters as p}from\"../../../core/urlUtils.js\";import{property as g}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as b}from\"../../../core/accessorSupport/decorators/subclass.js\";import{OriginId as S}from\"../../../core/accessorSupport/PropertyOrigin.js\";import{EffectView as _}from\"../../../layers/effects/EffectView.js\";import{effectFunctionsFromJSON as w}from\"../../../layers/effects/jsonUtils.js\";import{ExportImageParameters as v}from\"../../../layers/support/ExportImageParameters.js\";import{getRendererFields as L}from\"../../../layers/support/fieldUtils.js\";import{isFeatureLayer as E}from\"../../../layers/support/layerUtils.js\";import{getPixelValueRange as C}from\"../../../layers/support/rasterFormats/pixelRangeUtils.js\";import{fromJSON as I}from\"../../../renderers/support/jsonUtils.js\";import{isSupportedRenderer3D as R}from\"../../../renderers/support/rendererConversion.js\";import F from\"../../../renderers/visualVariables/SizeVariable.js\";import V from\"../../../renderers/visualVariables/support/SizeVariableLegendOptions.js\";import{updateReferenceSizeSymbol as x}from\"../../../smartMapping/renderers/support/referenceSizeUtils.js\";import{applyCIMSymbolColor as D}from\"../../../symbols/support/cimSymbolUtils.js\";import{SymbolSizeDefaults as z}from\"../../../symbols/support/previewUtils.js\";import{renderSymbol as T}from\"../../../symbols/support/renderUtils.js\";import{renderColorRampPreviewHTML as j,renderDotDensityPreviewHTML as O,renderPieChartPreviewHTML as P,renderPreviewHTML as A}from\"../../../symbols/support/symbolUtils.js\";import{isVolumetricSymbol as M}from\"../../../symbols/support/utils.js\";import{getEffectiveClusterSizeVariable as U}from\"./clusterUtils.js\";import{getColorFromPointCloudStops as k,getRampStopsForPointCloud as B,getStretchRampStops as N,getRampStops as q}from\"./colorRampUtils.js\";import{getHeatmapRampStops as H}from\"./heatmapRampUtils.js\";import{getRotationAngleForFocus as $,getRelationshipRampElement as W}from\"./relationshipRampUtils.js\";import{getRampStops as G,realWorldMaxSize as J,realWorldMinSize as Q}from\"./sizeRampUtils.js\";import{specialCharsLessThan as Z,specialCharsGreaterThan as K,getReferenceSizeAuthoringInfoVisualVariable as X,getSymbolForFlowRenderer as Y,getMedianColor as ee,rgbImgSource as te,getDateFormatOptions as ie}from\"./utils.js\";import{formatNumberLabel as se}from\"../../smartMapping/support/utils.js\";import le from\"../../../symbols/SimpleMarkerSymbol.js\";import re from\"../../../symbols/SimpleFillSymbol.js\";import{fetchMessageBundle as ne}from\"../../../intl/messages.js\";import{substitute as ae}from\"../../../intl/substitute.js\";const oe=16,ue=\"https://utility.arcgis.com/sharing/tools/legend\",ce=\"esri.layers.ImageryLayer\",de=\"esri.layers.ImageryTileLayer\",ye=\"esri.layers.WCSLayer\",he=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i,me=new a({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryMultiPatch:\"multipatch\"}),fe=new le({size:6,outline:{color:[128,128,128,.5],width:.5}}),pe=new re({style:\"solid\"});function ge(e){return\"flow\"===e.type}function be(e){return\"vector-field\"===e.type}function Se(e){return\"raster-colormap\"===e.type}function _e(e){return\"raster-stretch\"===e.type}function we(e){return\"raster-shaded-relief\"===e.type}function ve(e){return\"esri.renderers.SimpleRenderer\"===e.declaredClass}function Le(e){return\"esri.renderers.ClassBreaksRenderer\"===e.declaredClass}function Ee(e){return\"esri.renderers.UniqueValueRenderer\"===e.declaredClass}function Ce(e){return\"esri.renderers.HeatmapRenderer\"===e.declaredClass}function Ie(e){return Fe(e)||Ve(e)||xe(e)||Re(e)}function Re(e){return\"esri.renderers.PointCloudRGBRenderer\"===e.declaredClass}function Fe(e){return\"esri.renderers.PointCloudClassBreaksRenderer\"===e.declaredClass}function Ve(e){return\"esri.renderers.PointCloudStretchRenderer\"===e.declaredClass}function xe(e){return\"esri.renderers.PointCloudUniqueValueRenderer\"===e.declaredClass}function De(e){return\"esri.renderers.DotDensityRenderer\"===e.declaredClass}function ze(e){return\"esri.renderers.PieChartRenderer\"===e.declaredClass}function Te(e,t){return ve(e)||Le(e)||Ee(e)||Ce(e)||De(e)||ze(e)?\"2d\"===t.type||R(e):_e(e)||Se(e)||we(e)||Fe(e)||Ve(e)||xe(e)||be(e)||ge(e)}function je(e){return\"esri.layers.BuildingSceneLayer\"===e.declaredClass}function Oe(e){return\"esri.layers.SubtypeGroupLayer\"===e.declaredClass}function Pe(e){return\"esri.layers.VoxelLayer\"===e.declaredClass}function Ae(e){return\"esri.layers.WMSLayer\"===e.declaredClass}function Me(e){return\"esri.layers.WMTSLayer\"===e.declaredClass}function Ue(e){return\"esri.layers.MapImageLayer\"===e.declaredClass}function ke(e){return\"esri.layers.TileLayer\"===e.declaredClass}function Be(e){return e.declaredClass===ce}function Ne(e){return e.declaredClass===de}function qe(e){return e.declaredClass===ye}function He(e){return\"stretch-ramp\"===e.type}function $e(e){const t=\"authoringInfo\"in e?e?.authoringInfo:null;return\"univariate-color-size\"===t?.type}function We(e){const t=\"authoringInfo\"in e?e?.authoringInfo:null;return\"univariate-color-size\"===t?.type&&\"above-and-below\"===t?.univariateTheme}function Ge(e){return\"sublayers\"in e}async function Je(e,t){const i=await ne(\"esri/widgets/Legend/t9n/Legend\");return\"previewTemplateAriaLabel\"!==e||t||(e=\"previewAriaLabel\"),ae(i[e],{label:t})}function Qe(e,t){const{field:i,field2:s,field3:l,fieldDelimiter:r,valueExpression:n}=e;if(!i)return null;const a=!(!i&&!n||!s&&!l)?t?.toString().split(r||\"\"):[t],o=i?{[i]:a?.[0]}:null;return o&&(s&&(o[s]=a?.[1]),l&&(o[l]=a?.[2])),o}const Ze=new le({style:\"path\",path:\"M10,5 L5,0 0,5 M5,0 L5,15\",size:15,outline:{width:1,color:[85,85,85,1]}});let Ke={},Xe=class extends l{constructor(e){super(e),this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._webStyleSymbolCache=new Map,this._dotDensityUrlCache=new Map,this._scaleDrivenSizeVariable=null,this._hasClusterSizeVariable=!1,this._layerDefinitionExpression=null,this._layerDefinitionExpressionClause=null,this.children=new n,this.layerView=null,this.layer=null,this.legendElements=[],this.parent=null,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerDefinitionExpression=!1,this.respectLayerVisibility=!0,this.sublayerIds=[],this.title=null,this.view=null}initialize(){const e=()=>this.notifyChange(\"ready\");this.addHandles([c((()=>this.children),\"change\",(t=>{const{added:i,removed:s}=t;i.forEach((t=>{const i=`activeLayerInfo-ready-watcher-${t.layer.uid}`;this.addHandles(d((()=>t.ready),e,h),i)})),s.forEach((e=>this.removeHandles(e.layer.uid))),e()}))]),this.keepCacheOnDestroy||(Ke={})}destroy(){this._webStyleSymbolCache=null,this._dotDensityUrlCache=null,this._scaleDrivenSizeVariable=null,this.keepCacheOnDestroy||(Ke=null),this._layerDefinitionExpressionClause=null}get effectList(){const e=this.layer;let t=null;return\"effect\"in e&&e.effect&&(t=new _,t.effect=e.effect,t.endTransition(),t.scale=this.scale),t}get opacity(){const e=this.layer.opacity,t=this.parent?.opacity,i=this.layer.parent,s=i&&\"uid\"in i?this._getParentLayerOpacity(i):null;return null!=t?t*e:null!=s?s*e:e}get ready(){return null===this.layer||(this.children.length>0?this._isGroupActive():this.legendElements.length>0)}get scale(){return this.view?.scale??0}get isScaleDriven(){const e=this.layer;if(null===e)return!1;if(\"effect\"in e&&e.effect&&Array.isArray(e.effect))return!0;if(\"featureReduction\"in e&&e.featureReduction){if(\"cluster\"===e.featureReduction.type)return!0;if(\"binning\"===e.featureReduction.type&&\"renderer\"in e.featureReduction&&e.featureReduction.renderer)return this._isRendererScaleDriven(e.featureReduction.renderer)}return\"renderer\"in e&&e.renderer?this._isRendererScaleDriven(e.renderer):this._isLayerScaleDriven(this.layer)}get version(){return this._get(\"version\")+1}async buildLegendElementsForFeatureCollections(e){if(!(!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView()))return this.legendElements=[],void this.notifyChange(\"ready\");const t=Array.from(e,(e=>{if(E(e))return this._getRendererLegendElements(e.renderer,{title:e.title});if(e.featureSet?.features.length){const t=e.layerDefinition,i=t?.drawingInfo,s=i&&I(i.renderer),l=me.read(t.geometryType);return s?this._getRendererLegendElements(s,{title:e.name,geometryType:l}):(o.getLogger(this).warn(\"drawingInfo not available!\"),null)}return null}));try{const e=[],i=await Promise.allSettled(t);for(const t of i)if(\"fulfilled\"===t.status)for(const i of t.value??[])e.push(i);this.legendElements=e,this.notifyChange(\"ready\")}catch(i){o.getLogger(this).warn(\"error while building legend for layer!\",i)}}async buildLegendElementsForRenderer(e){try{const t=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=t?await this._getRendererLegendElements(e):[],this.notifyChange(\"ready\")}catch(t){o.getLogger(this).warn(\"error while building legend for layer!\",t)}}async buildLegendElementsForFeatureReduction(e){try{const t=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=t?await this._getLegendElementsForFeatureReduction(e):[],this.notifyChange(\"ready\")}catch(t){o.getLogger(this).warn(\"error while building legend for layer!\",t)}}async buildLegendElementsForTools(){const e=this.layer;if(Pe(e))this._constructLegendElementsForVoxelLayer();else if(Me(e))this._constructLegendElementsForWMTSlayer();else if(Ae(e))await this._constructLegendElementsForWMSSublayers();else if(je(e))await this._constructLegendElementsForBuildingSceneLayer();else if(Ue(e)||ke(e)||Oe(e))await this._constructLegendElementsForSublayers();else{this.removeHandles(\"imageryLayers-watcher\");let t=\"default\";if(Be(e)){const i=e;t=(i?.rasterFunction?.functionName||\"default\")+\"_\"+(e.bandIds?.length?e.bandIds.join(\"\"):\"###\")}if(Ne(e)||\"link-chart\"===e.type)return;await this._getLegendLayers(`${e.uid}-${t}`).then((async t=>{this.legendElements=[],this.notifyChange(\"ready\");const i=t.map((async t=>{if(Be(e)){const t=d((()=>[e.rasterFunction,e.bandIds]),(()=>u((async()=>{Ke.default=null,e.renderer?await this.buildLegendElementsForRenderer(e.renderer):await this.buildLegendElementsForTools()}))()));this.addHandles(t,\"imageryLayers-watcher\")}const i=this._generateSymbolTableElementForLegendLayer(t);i?.infos.length&&(Be(e)&&(i.title=e.title),this.legendElements.push(i)),this.notifyChange(\"ready\")}));await Promise.allSettled(i)})).catch((e=>{o.getLogger(this).warn(\"Request to server for legend has failed!\",e)}))}}async _isLayerInCurrentView(){const e=this.layer,t=this.layerView,i=t&&\"createQuery\"in t&&\"queryFeatureCount\"in t;if(!i&&!(t&&\"createQuery\"in e&&\"queryFeatureCount\"in e))return!0;await y((()=>!t.updating));const s=i?\"createQuery\"in t&&t.createQuery():\"createQuery\"in e&&e.createQuery();if(!s)return!0;s.geometry=this.view.extent;return 0!==(i?\"queryFeatureCount\"in t&&await t.queryFeatureCount(s):\"queryFeatureCount\"in e&&await e.queryFeatureCount(s))}_getParentLayerOpacity(e){let t=1;const i=e.parent;return i&&\"uid\"in i&&(t=this._getParentLayerOpacity(i)),e.opacity*t}_isGroupActive(){return this.children.some((e=>e.ready))}_isRendererScaleDriven(e){if(\"dot-density\"===e.type)return!0;const t=\"valueExpression\"in e?e.valueExpression:null;if(he.test(t))return!0;const i=\"visualVariables\"in e?e.visualVariables:null;return!!i?.some((e=>this._isScaleDrivenSizeVariable(e)))||this._hasScaleDrivenSymbols(e)}_hasScaleDrivenSymbols(e){switch(e.type){case\"simple\":return this._isScaleDrivenSymbol(e.symbol);case\"class-breaks\":return this._isScaleDrivenSymbol(e.defaultSymbol)||e.classBreakInfos.some((e=>this._isScaleDrivenSymbol(e.symbol)));case\"unique-value\":return this._isScaleDrivenSymbol(e.defaultSymbol)||!!e.uniqueValueInfos?.some((e=>this._isScaleDrivenSymbol(e.symbol)))}return!1}_isScaleDrivenSymbol(e){if(\"cim\"===e?.type){const{primitiveOverrides:t,minScale:i,maxScale:s}=e.data,l=t?.some((e=>/\\$view\\.scale/.test(e.valueExpressionInfo?.expression||\"\")))??!1;return null!=i||null!=s||l}return!1}_isScaleDrivenSizeVariable(e){if(e&&\"size\"!==e.type)return!1;const t=e,i=t.minSize,s=t.maxSize;return!(\"object\"!=typeof i||!i||!this._isScaleDrivenSizeVariable(i))||(!(\"object\"!=typeof s||!s||!this._isScaleDrivenSizeVariable(s))||he.test(t.valueExpression))}_isLayerScaleDriven(e){if(\"minScale\"in e&&e.minScale>0||\"maxScale\"in e&&e.maxScale>0)return!0;if(\"sublayers\"in e&&e.sublayers)return e.sublayers.some((e=>this._isLayerScaleDriven(e)));const t=e.parent;if(!1===e.loaded&&t&&Ue(t)&&\"source\"in e&&e.source&&\"map-layer\"===e.source.type)for(const i of t.sourceJSON.layers??[])if(i.id===e.source.mapLayerId&&(i.minScale>0||i.maxScale>0))return!0;return!1}async _constructLegendElementsForVoxelLayer(){this.legendElements=[],this.removeHandles(\"voxel-style-watcher\"),this.removeHandles(\"voxel-current-variable\");const e=this.layer;this.addHandles(d((()=>e.currentVariableId),(()=>this._constructLegendElementsForVoxelLayer())),\"voxel-current-variable\"),this.addHandles(d((()=>e.getVariableStyles()),(()=>this._constructLegendElementsForVoxelLayer())),\"voxel-style-watcher\");const t=e.getVariableStyle(null),i=[];if(t)if(t.uniqueValues?.length){const e=[];t.uniqueValues.forEach((t=>{t.enabled&&e.push({label:t.label||`${t.value}`,value:t.value,symbol:new re({color:t.color,outline:null})})})),e.length&&i.push({type:\"symbol-table\",title:t.label,infos:e})}else if(t.transferFunction){const{colorStops:e,stretchRange:s}=t.transferFunction,l=e.toArray().reverse(),r=s.map(((e,t)=>`${0===t?Z:K} ${se(e)}`)).reverse(),n=l.map((e=>({color:e.color,value:null,label:null})));n[0].label=r[0],n[n.length-1].label=r[1],i.push({type:\"color-ramp\",title:t.label,infos:n,preview:j(l.map((e=>e.color)),{ariaLabel:await Je(\"previewColorRampAriaLabel\")})})}const s=e.opacity,l=i.reduce(((e,t)=>[...e,...this._getAllInfos(t)]),[]).filter((e=>!!e?.symbol)).map((e=>this._getSymbolPreview(e,s)));await Promise.allSettled(l),this.legendElements=i,this.notifyChange(\"ready\")}_constructLegendElementsForWMTSlayer(){this.legendElements=[],this.removeHandles(\"wmts-activeLayer-watcher\");const e=this.layer.activeLayer;this.addHandles(d((()=>{const{layer:e}=this;return e&&\"activeLayer\"in e&&e.activeLayer}),(()=>this._constructLegendElementsForWMTSlayer())),\"wmts-activeLayer-watcher\");const t=e.styleId?e.styles?.find((({id:t})=>t===e.styleId))?.legendUrl:void 0;t&&(this.legendElements=[{type:\"symbol-table\",title:e.title,infos:[{src:t,opacity:this.opacity}]}]),this.notifyChange(\"ready\")}async _constructLegendElementsForWMSSublayers(){this.legendElements=[],this.removeHandles(\"wms-sublayers-watcher\");const e=this.layer;let t=null;(e.customParameters||e.customLayerParameters)&&(t={...e.customParameters,...e.customLayerParameters}),this.addHandles(d((()=>{const{layer:e}=this;return e&&\"sublayers\"in e&&e.sublayers}),(()=>this._constructLegendElementsForWMSSublayers())),\"wms-sublayers-watcher\"),this.legendElements=await this._generateLegendElementsForWMSSublayers(e.sublayers,t),this.notifyChange(\"ready\")}async _generateLegendElementsForWMSSublayers(e,t){const i=this.layer,s=[];this.addHandles(e.on(\"change\",(()=>this._constructLegendElementsForWMSSublayers())),\"wms-sublayers-watcher\");const l=this.sublayerIds?.map((e=>i.findSublayerById(e)))?.filter(r)??[],n=l.length?l:e.toArray();for(const r of n){const e=d((()=>[r.title,r.visible,r.legendEnabled]),(()=>this._constructLegendElementsForWMSSublayers()));if(this.addHandles(e,\"wms-sublayers-watcher\"),!this.respectLayerVisibility||r.visible&&r.legendEnabled){const e=await this._generateSymbolTableElementForWMSSublayer(r,t);e?.infos.length&&s.unshift(e)}}return s}async _generateSymbolTableElementForWMSSublayer(e,t){if(!e.legendUrl&&e.sublayers){const i=(await this._generateLegendElementsForWMSSublayers(e.sublayers,t)).filter((e=>e));return{type:\"symbol-table\",title:e.title,infos:i}}return this._generateSymbolTableElementForLegendUrl(e,t)}async _generateSymbolTableElementForLegendUrl(e,t){let i=e.legendUrl;if(!i)return;const l={type:\"symbol-table\",title:e.title||e.name||String(e.id??\"\"),infos:[]};t&&(i=p(i,t));let r=null;const n=e.layer?.opacity;try{r=(await s(i,{responseType:\"image\"})).data,r&&(r.style.opacity=n)}catch{}return l.infos.push({src:i,preview:r,opacity:n}),l}_getLegendLayers(e,t){const i=Ke&&Ke[e];return i?Promise.resolve(i):this._legendRequest(t).then((t=>{const i=t.layers;return Ke[e]=i,i}))}_legendRequest(e){const t=this.layer;let i={f:\"json\",dynamicLayers:e};if(Be(t)){const e=t.exportImageServiceParameters.rasterFunction;if(e&&(i.renderingRule=JSON.stringify(e.functionDefinition?.toJSON()||e.toJSON())),t.bandIds&&(i.bandIds=t.bandIds.join()),t.raster||t.viewId||t.customParameters){const{raster:e,viewId:s,customParameters:l}=t;i={raster:e,viewId:s,...i,...l}}}let l=t.url.replace(/(\\/)+$/,\"\");if(\"version\"in t&&+t.version>=10.01){const e=l.indexOf(\"?\");e>-1?l=l.slice(0,e)+\"/legend\"+l.slice(e):l+=\"/legend\"}else{const e=l.toLowerCase().indexOf(\"/rest/\"),t=-1===e?l:l.slice(0,e)+l.slice(e+5);l=ue+\"?soapUrl=\"+encodeURI(t)+\"&returnbytes=true\"}return s(l,{query:i}).then((e=>e.data))}async _constructLegendElementsForBuildingSceneLayer(){this.legendElements=[],this.removeHandles(\"sublayers-watcher\");const e=this.layer;this.addHandles(d((()=>e.sublayers),(()=>this._constructLegendElementsForBuildingSceneLayer())),\"sublayers-watcher\");try{this.legendElements=await this._generateLegendElementsForBuildingSublayers(e.sublayers,this.opacity),this.notifyChange(\"ready\")}catch(t){o.getLogger(this).warn(\"Request to server for legend has failed!\",t)}}async _generateLegendElementsForBuildingSublayers(e,t){let i=[];this.addHandles(e.on(\"change\",(()=>this._constructLegendElementsForBuildingSceneLayer())),\"sublayers-watcher\");const s=e.toArray();for(const l of s){const e=d((()=>[\"renderer\"in l&&l.renderer,l.opacity,l.title,l.visible]),(()=>this._constructLegendElementsForBuildingSceneLayer()));if(this.addHandles(e,\"sublayers-watcher\"),!this.respectLayerVisibility||l.visible){const e=null!=l?.opacity?l.opacity:null,s=null!=e?e*t:t;if(\"building-group\"===l.type){const e={type:\"symbol-table\",title:l.title,infos:[]},t=await this._generateLegendElementsForBuildingSublayers(l.sublayers,s);e.infos.push(...t),i=[e,...i]}else if(l.renderer){i=[...await this._getRendererLegendElements(l.renderer,{title:l.title,opacity:s,sublayer:l}),...i]}}}return i.filter((e=>!!e&&(!(\"infos\"in e)||!e.infos||e.infos.length>0)))}async _constructLegendElementsForSublayers(){this.legendElements=[],this.removeHandles(\"sublayers-watcher\");const e=this.layer;if(Ue(e)||ke(e)||Oe(e)){this.addHandles(d((()=>e.sublayers),(()=>this._constructLegendElementsForSublayers)),\"sublayers-watcher\");try{this.legendElements=await this._generateLegendElementsForSublayers(e.sublayers,this.opacity),this.notifyChange(\"ready\")}catch(t){o.getLogger(this).warn(\"Request to server for legend has failed!\",t)}}}async _generateLegendElementsForSublayers(e,t,i){const s=this.layer;let l=[];this.addHandles(e.on(\"change\",(()=>this._constructLegendElementsForSublayers())),\"sublayers-watcher\");let n=e.toArray();!i&&this.sublayerIds&&this.sublayerIds.length&&(n=Oe(s)?this.sublayerIds.map((e=>s.findSublayerForSubtypeCode(e))).filter(r):this.sublayerIds.map((e=>s.findSublayerById(e))).filter(r));for(const r of n){const e=d((()=>[r.renderer,r.opacity,r.title,r.visible,r.legendEnabled]),(()=>this._constructLegendElementsForSublayers()));if(this.addHandles(e,\"sublayers-watcher\"),!this.respectLayerVisibility||r.visible&&r.legendEnabled&&this._isSublayerInScale(r)){const e=null!=r?.opacity?r.opacity:null,s=null!=e?e*t:t,n=!Ge(r)||r.originIdOf(\"renderer\")>S.SERVICE&&!r.sublayers;if(r.renderer&&n){await r.load();l=[...await this._getRendererLegendElements(r.renderer,{title:r.title,opacity:s,sublayer:r}),...l]}else if(Ge(r)){const e=await this._generateSymbolTableElementForSublayer(r,s,i);e&&l.unshift(e)}}}return l.filter((e=>!!e&&(!(\"infos\"in e)||!e.infos||e.infos.length>0)))}async _generateSymbolTableElementForSublayer(e,t,i){if(!i){i=new Map;const t=this.layer,s=e.source;let l=null;if(!(!s||\"map-layer\"===s.type&&s.mapLayerId===e.id&&(!s.gdbVersion||s.gdbVersion===(\"gdbVersion\"in t&&t.gdbVersion)))||e.originIdOf(\"renderer\")>S.SERVICE||e.originIdOf(\"labelingInfo\")>S.SERVICE||e.originIdOf(\"labelsVisible\")>S.SERVICE){const e=new v({layer:this.layer});l=e.hasDynamicLayers?e.dynamicLayers:null,e.destroy()}const r=l||`${t.uid}-default`;(await this._getLegendLayers(r,l)).forEach((e=>i.set(e.layerId,e)))}const s=i.get(e.id);if((!s||s?.subLayerIds&&s.defaultVisibility)&&e.sublayers){const s=await this._generateLegendElementsForSublayers(e.sublayers,t,i);return{type:\"symbol-table\",title:e.title,infos:s}}return this._generateSymbolTableElementForLegendLayer(s,e,t)}_generateSymbolTableElementForLegendLayer(e,t,i){if(!e?.legend||this.respectLayerVisibility&&!this._isLegendLayerInScale(e,t))return null;const s=t?.renderer;let l=t?.title||e.layerName;if(s&&(!t||t?.originIdOf(\"renderer\")>S.SERVICE)){const e=t?.title||this._getRendererTitle(s,t);e&&(l&&\"string\"!=typeof e&&\"title\"in e&&(e.title=l),l=e)}const r={type:\"symbol-table\",title:l,legendType:e.legendType||null,infos:[]},n=t?this._sanitizeLegendForSublayer(e.legend.slice(),t):e.legend;return e.legendGroups&&e.legendGroups.length>0?e.legendGroups.forEach((t=>{const s={type:\"symbol-table\",title:t.heading,legendType:e.legendType||null,infos:this._generateSymbolTableElementInfosForLegendLayer(n.filter((e=>e.groupId===t.id)),e.layerId,i)};s.infos?.length>0&&r.infos.push(s)})):r.infos=this._generateSymbolTableElementInfosForLegendLayer(n,e.layerId,i),r.infos.length>0?r:null}_generateSymbolTableElementInfosForLegendLayer(e,t,s){return e.map((e=>{let l=e.url;if(e.imageData&&e.imageData.length>0)l=`data:image/png;base64,${e.imageData}`;else{if(0===l.indexOf(\"http\"))return null;l=i(`${this.layer.url}/${t}/images/${l}`)}return{label:e.label,src:l,opacity:s??this.opacity,width:e.width,height:e.height}})).filter(r)}_isSublayerInScale(e){const t=e.minScale||0,i=e.maxScale||0;return!(t>0&&t<this.scale||i>this.scale)}_isLegendLayerInScale(e,t){const i=t||this.layer;let s=null,l=null,r=!0;return!i.minScale&&0!==i.minScale||!i.maxScale&&0!==i.maxScale?(0===e.minScale&&i.tileInfo&&(s=i.tileInfo.lods[0].scale),0===e.maxScale&&i.tileInfo&&(l=i.tileInfo.lods[i.tileInfo.lods.length-1].scale)):(s=Math.min(i.minScale,e.minScale)||i.minScale||e.minScale,l=Math.max(i.maxScale,e.maxScale)),(s>0&&s<this.scale||l>this.scale)&&(r=!1),r}_sanitizeLegendForSublayer(e,t){if(\"version\"in this.layer&&+this.layer.version<10.1||0===e.length)return e;const i=t.renderer,s=e.some((e=>e.values));let l=0,r=null;return s&&e.some(((e,t)=>(e.values||(l=t,r=e,r.label||(r.label=\"others\")),null!=r))),i?\"unique-value\"===i.type?r&&(e.splice(l,1),e.push(r)):\"class-breaks\"===i.type&&(r&&e.splice(l,1),e.reverse(),r&&e.push(r)):r&&(e.splice(l,1),e.push(r)),e}async _getRendererLegendElements(e,t={}){if(!Te(e,this.view))return o.getLogger(this).warn(`Renderer of type '${e.type}' not supported!`),[];if(Ie(e))return this._constructPointCloudRendererLegendElements(e,t);if(De(e))return this._constructDotDensityRendererLegendElements(e);const i=await this._loadRenderer(e);return ze(i)?this._constructPieChartRendererLegendElements(i):this._constructRendererLegendElements(i,t)}async _getLegendElementsForFeatureReduction(e){let t=null;return\"binning\"===e.type?t=e.renderer:\"cluster\"===e.type&&(t=this._getClusterRenderer(e)),t?this._getRendererLegendElements(t):[]}_getPointCloudRendererTitle(e){return(e.legendOptions?.title||e.field)??\"\"}async _constructPointCloudRendererLegendElements(e,t={}){const i=t.title,s=[];let l=null,r=null;if(Fe(e))l={type:\"symbol-table\",title:i||this._getPointCloudRendererTitle(e),infos:[]},e.colorClassBreakInfos.forEach((e=>{l.infos.unshift({label:e.label||e.minValue+\" - \"+e.maxValue,value:[e.minValue,e.maxValue],symbol:this._getAppliedCloneSymbol(fe,e.color)})}));else if(Ve(e)){const t=e.stops;let s=null;if(t?.length&&(1===t.length&&(s=t[0].color),!s)){const e=t[0].value,i=t[t.length-1].value;if(null!=e&&null!=i){s=k(e+(i-e)/2,t)}}l={type:\"symbol-table\",title:null,infos:[{label:null,value:null,symbol:this._getAppliedCloneSymbol(fe,s||fe.color)}]};const n=B(e.stops??[])??[];r={type:\"color-ramp\",title:i||this._getPointCloudRendererTitle(e),infos:n,preview:j(n.map((e=>e.color)),{ariaLabel:await Je(\"previewColorRampAriaLabel\")})}}else xe(e)&&(l={type:\"symbol-table\",title:i||this._getPointCloudRendererTitle(e),infos:[]},e.colorUniqueValueInfos?.forEach((e=>{l.infos.push({label:e.label||e.values.join(\", \"),value:e.values.join(\", \"),symbol:this._getAppliedCloneSymbol(fe,e.color)})})));l?.infos.length&&s.push(l),r?.infos.length&&s.push(r);const n=s.reduce(((e,t)=>[...e,...t.infos??[]]),[]).filter((e=>!!e.symbol)).map((t=>this._getSymbolPreview(t,this.opacity,{symbolConfig:{applyColorModulation:!!e.colorModulation}})));return await Promise.allSettled(n),s}async _getElementInfoForDotDensity(e,t){const{color:i,label:s,valueExpressionTitle:l}=t,{backgroundColor:r,outline:n,dotSize:a}=e,o=this.effectList,u=o?.effects.map((e=>e.toJSON())),c=w(u),d=await Je(\"previewTemplateAriaLabel\",s||l),y=a+\"-\"+i+\"-\"+r+\"-\"+(n&&JSON.stringify(n.toJSON()))+\"-\"+c,h=this._dotDensityUrlCache,m=h.has(y)?h.get(y):O(e,i,{ariaLabel:d});h.set(y,m);const f={shape:{type:\"image\",x:0,y:0,width:m.width,height:m.height,src:m.src},fill:null,stroke:null,offset:[0,0]},p=T([[f]],[m.width,m.height],{effectView:this.effectList,ariaLabel:d});return{opacity:1,src:m.src,preview:p,width:m.width,height:m.height}}async _constructDotDensityRendererLegendElements(e){const t=e.calculateDotValue(this.view.scale),i=e.legendOptions?.unit,s={type:\"symbol-table\",title:{value:t&&Math.round(t),unit:i||\"\"},infos:[]};for(const l of e.attributes){const t=await this._getElementInfoForDotDensity(e,l);t.label=l.label||l.valueExpressionTitle||l.field,s.infos.push(t)}return[s]}async _constructPieChartRendererLegendElements(e){const t=this.layer.opacity,i=[];let s=null;const l=e.outline;e.attributes.forEach((e=>{const t=new le({color:e.color,outline:l}),s=e.label||e.valueExpressionTitle||e.field;i.push({label:s,symbol:t})}));const r=i.length?[...i]:[];if(e.othersCategory?.color&&0!==e.othersCategory?.threshold){const t=new le({color:e.othersCategory.color,outline:l});s=e.othersCategory.label||\"Other\",i.push({label:s,symbol:t})}if(e.defaultColor?.a){const t=new le({color:e.defaultColor,outline:l});i.push({label:e.defaultLabel,symbol:t})}const n=await this._getVisualVariableLegendElements(e,this.layer)||[];if(i.length){n.unshift({type:\"symbol-table\",title:null,infos:i});const t=r.filter((e=>e.label!==s)).map((e=>e.symbol.color)).filter(Boolean),a=P(t,{holePercentage:e.holePercentage,backgroundColor:e.backgroundFillSymbol?.color,effectList:this.effectList,outline:l,ariaLabel:await Je(\"previewPieChartAriaLabel\")});n.unshift({type:\"pie-chart-ramp\",title:this._getRendererTitle(e,this.layer),infos:i,preview:a})}const a=n.reduce(((e,t)=>[...e,...this._getAllInfos(t)]),[]).filter((e=>!!e?.symbol&&!e?.preview)).map((e=>this._getSymbolPreview(e,t,{effectList:this.effectList})));return await Promise.allSettled(a),n}async _constructRendererLegendElements(e,t={}){const{title:i,sublayer:s}=t,l=s||this.layer,r=X(e);if(\"definitionExpression\"in l){const t=l.definitionExpression;if(t&&this.respectLayerDefinitionExpression&&Ee(e)){if(this._layerDefinitionExpression!==t){this._layerDefinitionExpressionClause=await f(t,l.fieldsIndex);const i=new Set((await L(e,l.fieldsIndex)).map((e=>e.toLowerCase()))),s=this._layerDefinitionExpressionClause?.fieldNames.map((e=>e.toLowerCase()));s?.every((e=>i.has(e)))||(this._layerDefinitionExpressionClause=null,s?.length&&o.getLogger(this).warn(\"Definition expression will be ignored in the Legend, as fields in the expression do not match with renderer fields\"))}}else this._layerDefinitionExpressionClause=null;this._layerDefinitionExpression=t}this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._scaleDrivenSizeVariable=null;const n=await this._getVisualVariableLegendElements(e,l)||[],a={type:\"symbol-table\",title:i||this._getRendererTitle(e,l),infos:[]};let u=null,c=!1;const d=new Set;if(ge(e)&&!this._hasSizeRamp){const t=await Y(e);a.infos.push({label:null,symbol:t})}else if($e(e)){let t=i;const s=We(e)?\"univariate-above-and-below-ramp\":\"univariate-color-size-ramp\",l=n.findIndex((e=>\"color-ramp\"===e.type)),r=-1!==l?n.splice(l,1)[0]:null,a=n.findIndex((e=>\"size-ramp\"===e.type)),o=-1!==a?n.splice(a,1)[0]:null,u=[];r&&(t=r.title,u.push(r)),o&&(t=o.title,u.push(o)),u.length>0&&n.push({type:s,title:t,infos:u})}else if(Ce(e)){const t=H(e);n.push({type:\"heatmap-ramp\",title:i||this._getRendererTitle(e,l),infos:t,preview:j(t.map((e=>e.color)),{effectList:this.effectList,ariaLabel:await Je(\"previewColorRampAriaLabel\")})})}else if(Ee(e)){const t=e.authoringInfo;if(t&&\"relationship\"===t.type){const{numClasses:i,field1:s,field2:r}=t,o=t.focus;if(i&&s&&r){const t=[s,r];let u=$(o)||0;for(const e of t){const{field:t,normalizationField:i,label:s}=e,r=s||{field:this._getFieldAlias(t,l),normField:i&&this._getFieldAlias(i,l)},n=Ze.clone();n.angle=u,a.infos.push({label:r,symbol:n}),d.add(n),u+=90}const c=W({focus:o,numClasses:i,infos:e.uniqueValueInfos??[]});n.unshift(c)}}else if(Be(this.layer)||Ne(this.layer))e.uniqueValueInfos?.forEach((t=>{t.symbol&&this._checkDefinitionExpressionForUVR(e,t.value)&&a.infos.push({label:t.label||t.value,value:t.value,symbol:t.symbol})}));else{const{field:t,field2:s,field3:n,fieldDelimiter:o,valueExpression:u,defaultSymbol:d}=e,y=!(!t&&!u||!s&&!n),h=[];if(e.uniqueValueGroups?.forEach((i=>{const a={type:\"symbol-table\",title:i.heading,infos:[]};i.classes?.forEach((i=>{const{symbol:c,values:d}=i;if(c){const h=[],m=[];for(const e of d??[]){const{value:i,value2:r,value3:a}=e,c=[],d=[];(t||u)&&(c.push(i),d.push(this._getDomainName(t,i,l))),s&&(c.push(r),d.push(this._getDomainName(s,r,l))),n&&(c.push(a),d.push(this._getDomainName(n,a,l))),h.push(y?c.join(o||\"\"):c[0]),m.push(d.join(\" - \"))}const f=h.join(\", \");let p=i.label;if(!p){const e=m.filter(Boolean);p=e.length?e.join(\", \"):f}const g=c.clone();\"cim\"===g.type&&r&&x(g,{innerDotSize:.5*oe,outerRingSize:oe}),h.some((t=>this._checkDefinitionExpressionForUVR(e,t)))&&a.infos.push({label:p,value:f,symbol:g})}})),a.infos.length&&h.push(a)})),h.length){const t=h[0];1===h.length&&\"title\"in t&&!t.title?a.infos.push(...t.infos??[]):(d&&(h.push({type:\"symbol-table\",infos:[{label:e.defaultLabel||\"others\",symbol:d}]}),c=!0),a.infos.push(...h)),i||e.legendOptions?.title||e.valueExpressionTitle||(a.title=null)}}e.defaultSymbol&&!c&&(a.infos.push({label:e.defaultLabel||\"others\",symbol:e.defaultSymbol}),c=!0)}else if(Le(e)){if(!r){u=this._isUnclassedRenderer(e);if(!u||!this._hasSizeRamp){const t=e.classBreakInfos.filter((({symbol:e})=>e));for(const{label:e,minValue:i,maxValue:s,symbol:l}of t)a.infos.unshift({label:e||(u?null:`${i} - ${s}`),value:[i,s],symbol:l});u&&(a.title=null),this._updateInfosForClassedSizeRenderer(e,a.infos)}e.defaultSymbol&&!u&&(a.infos.push({label:e.defaultLabel||\"others\",symbol:e.defaultSymbol}),c=!0)}}else if(_e(e))if(Ne(this.layer)||qe(this.layer)){const t=await this._constructTileImageryStretchRendererElements(e);He(t)?n.push(t):a.infos=t}else{const t=this.layer;let i,s;e.customStatistics?.length&&({min:i,max:s}=e.customStatistics[0]);let l=[],r=t.serviceRasterInfo;if(t.rasterFunction)try{r=await t.generateRasterInfo(t.rasterFunction)}catch{}const o=C(r.pixelType);if(1===r.bandCount){const l=t.bandIds?.[0]||0;i=null!=i?i:r.statistics?r.statistics[l].min:o[0],s=null!=s?s:r.statistics?r.statistics[l].max:o[1],i||s?n.push(await this._getStretchLegendElements(e,{min:i,max:s})):this._getServerSideLegend()}else if(t.bandIds&&1===t.bandIds.length)i=null!=i?i:r.statistics?r.statistics[t.bandIds[0]].min:o[0],s=null!=s?s:r.statistics?r.statistics[t.bandIds[0]].max:o[1],i||s?n.push(await this._getStretchLegendElements(e,{min:i,max:s})):this._getServerSideLegend();else if(r.bandCount>=3){const{bandInfos:e}=r,{bandIds:i}=t;e.length>=r.bandCount?3===i?.length?(l=i.map((t=>e[t].name)),a.infos=this._createSymbolTableElementMultiBand(l)):\"lerc\"===t.format?(l=[0,1,2].map((t=>e[t].name)),a.infos=this._createSymbolTableElementMultiBand(l)):this._getServerSideLegend():\"lerc\"===t.format?(l=[\"band1\",\"band2\",\"band3\"],a.infos=this._createSymbolTableElementMultiBand(l)):this._getServerSideLegend()}else this._getServerSideLegend()}else if(Se(e))e.colormapInfos.forEach((e=>{a.infos.push({label:e.label,value:e.value,symbol:this._getAppliedCloneSymbol(pe,e.color)})}));else if(ve(e)){let i=e.symbol;switch(t.geometryType){case\"point\":i=\"pointSymbol\"in l?l.pointSymbol:null;break;case\"polyline\":i=\"lineSymbol\"in l?l.lineSymbol:null;break;case\"polygon\":i=\"polygonSymbol\"in l?l.polygonSymbol:null}const s=this._hasClusterSizeVariable&&this._getClusterSymbol()||!this._hasSizeRamp;e.symbol&&s&&a.infos.push({label:e.label,symbol:i})}else if(be(e)){e.outputUnit&&(this.title=\"(\"+e.toJSON().outputUnit+\")\"),a.title=e.attributeField;const t=e.getClassBreakInfos();t?.length?t.forEach((e=>{a.infos.push({label:e.minValue+\" - \"+e.maxValue,symbol:e.symbol})})):a.infos.push({label:e.attributeField,symbol:e.getDefaultSymbol()})}else we(e)&&n.push(await this._getStretchLegendElements(e,{min:0,max:255}));const y=e.defaultSymbol;!y||c||ve(e)||u&&!this._hasColorRamp&&!this._hasSizeRamp&&!this._hasOpacityRamp||n.push({type:\"symbol-table\",infos:[{label:e.defaultLabel||\"others\",symbol:y}]}),a.infos.length&&n.unshift(a);const h=null==t.opacity?this.opacity:t.opacity,m=this._isTallSymbol(\"visualVariables\"in e?e.visualVariables:null),p=Be(this.layer)||Ne(this.layer),g=n.reduce(((e,t)=>[...e,...this._getAllInfos(t)]),[]).filter((e=>!!e?.symbol)).filter((e=>{if(\"cim\"===e.symbol.type){const{minScale:t,maxScale:i}=e.symbol.data;if(t&&t<this.scale||i&&i>this.scale)return!1}return!0})).map((e=>this._getSymbolPreview(e,h,{isDefault:e.symbol===y,applyScaleDrivenSize:!d.has(e.symbol),symbolConfig:{isTall:m,isSquareFill:p},effectList:d.has(e.symbol)?null:this.effectList})));return e=null,await Promise.allSettled(g),n}_checkDefinitionExpressionForUVR(e,t){if(!this._layerDefinitionExpressionClause)return!0;const i=Qe(e,t);return(i&&this._layerDefinitionExpressionClause.testFeature(i))??!0}_getServerSideLegend(){setTimeout((()=>this.buildLegendElementsForTools()),0)}_getAllInfos(e){const t=e?.infos;return t?t.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]):[e]}async _constructTileImageryStretchRendererElements(e){const t=this.layer,i=t.symbolizer.rasterInfo??t.raster.rasterInfo;let s,l;const r=e?.customStatistics?.length?e.customStatistics:i?.statistics;if(r)({min:s,max:l}=r[0]);else{const e=C(i.pixelType);s=e[0],l=e[1]}if(t.hasStandardTime()&&(s=t.getStandardTimeValue(s),l=t.getStandardTimeValue(l)),1===i.bandCount||1===t.bandIds?.length)return this._getStretchLegendElements(e,{min:s,max:l});const n=(t?.bandIds?.length?t.bandIds:Array.from(Array(Math.min(i.bandCount,3)).keys())).map((e=>i.bandInfos[e].name));return n.length<3?n.push(n[1]):n.length>3&&n.splice(3),this._createSymbolTableElementMultiBand(n)}async _getStretchLegendElements(e,t){const i=e.colorRamp,s=N(i,t);return{type:\"stretch-ramp\",title:\"\",infos:s,preview:j(s.map((e=>e.color)),{ariaLabel:await Je(\"previewColorRampAriaLabel\")})}}_getClusterSymbol(){const e=this.layer,t=\"featureReduction\"in e&&e.featureReduction,i=t&&\"symbol\"in t&&t.renderer;return i&&!0!==i?.authoringInfo?.isAutoGenerated?null:t&&\"symbol\"in t?t.symbol:null}async _getSizeLegendElement(e,t,i,s){return{type:\"size-ramp\",title:this._hasClusterSizeVariable?this._getClusterTitle(t):e,infos:await G(i,t,await ee(i),this.scale,this.view,s,this._hasClusterSizeVariable?this._getClusterSymbol():null)}}_createSymbolTableElementMultiBand(e){const t=[],i=[\"red\",\"green\",\"blue\"];return e.forEach(((e,s)=>{t.push({label:{colorName:i[s],bandName:e},src:te[s],opacity:this.opacity??1})})),t}_updateInfosForClassedSizeRenderer(e,t){const i=e.authoringInfo&&\"class-breaks-size\"===e.authoringInfo.type,s=e.classBreakInfos.some((e=>M(e.symbol)));if(i&&s){const i=J,s=Q,l=e.classBreakInfos.length,r=(i-s)/(l>1?l-1:l);t.forEach(((e,t)=>{e.size=i-r*t}))}}_isTallSymbol(e){let t=!1,i=!1;if(e)for(let s=0;s<e.length&&(!t||!i);s++){const l=e[s];\"size\"===l.type&&(\"height\"===l.axis&&(t=!0),\"width-and-depth\"===l.axis&&(i=!0))}return t&&i}async _getSymbolPreview(e,t,i){let s=!i?.isDefault&&null==e.size&&this._hasSizeRamp?m(z.size):e.size;if(this._scaleDrivenSizeVariable&&i?.applyScaleDrivenSize){const{getSize:t}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");s=t(this._scaleDrivenSizeVariable,null,{view:this.view.type,scale:this.scale,shape:\"simple-marker\"===e.symbol.type?e.symbol.style:null})}const l=!i?.isDefault&&this._hasSizeRamp||!(!this._scaleDrivenSizeVariable||!i?.applyScaleDrivenSize);return A(e.symbol,{size:s,opacity:t,scale:!1,symbolConfig:i?.symbolConfig,effectView:i?.effectList,style:\"legend\",cimOptions:{allowScalingUp:l,viewParams:this.isScaleDriven?{viewingMode:\"2d\"===this.view?.type?\"map\":this.view?.viewingMode,scale:this.view?.scale}:null},ariaLabel:e.label&&\"string\"!=typeof e.label?null:await Je(\"previewTemplateAriaLabel\",e.label)}).then((t=>(e.preview=t,e))).catch((()=>(e.preview=null,e)))}_getClusterRenderer(e){this._hasClusterSizeVariable=!1;const t=\"renderer\"in this.layer?this.layer.renderer:null,i=e.renderer?.clone()||t?.clone(),s=U(e,this.layerView,this.view);if(s&&null!=i&&\"visualVariables\"in i){const t=i.visualVariables?.some((e=>\"size\"===e.type&&\"outline\"!==e.target&&!he.test(e.valueExpression)));if(!t){if(\"clusterMinSize\"in e&&\"clusterMaxSize\"in e){const{clusterMinSize:t,clusterMaxSize:i}=e;s.legendOptions=new V({showLegend:t!==i})}const t=i.visualVariables||[];i.visualVariables=t.concat([s]),this._hasClusterSizeVariable=!0}}return i}async _loadRenderer(e){const t=[],i=e.clone(),s=await ee(i);if(Le(i)||Ee(i)){const e=(i.classBreakInfos||i.uniqueValueInfos).map((e=>this._fetchSymbol(e.symbol,s).then((t=>{e.symbol=t})).catch((()=>{e.symbol=null}))));Array.prototype.push.apply(t,e)}return t.push(this._fetchSymbol(i.symbol||i.defaultSymbol,i.defaultSymbol?null:s).then((e=>{this._applySymbolToRenderer(i,e,ve(i))})).catch((()=>{this._applySymbolToRenderer(i,null,ve(i))}))),await Promise.allSettled(t),i}_applySymbolToRenderer(e,t,i){i?e.symbol=t:e.defaultSymbol=t}async _fetchSymbol(e,t){if(!e)throw new Error;if(\"web-style\"===e.type){const i=this._webStyleSymbolCache;try{const s=await(\"2d\"===this.view.type?e.fetchCIMSymbol({cache:i}):e.fetchSymbol({cache:i}));return this._getAppliedCloneSymbol(s,t)}catch{throw o.getLogger(this).warn(\"Fetching web-style failed!\"),new Error}}return this._getAppliedCloneSymbol(e,t)}_getAppliedCloneSymbol(e,i){if(!e||!i)return e;const s=e.clone(),l=i&&i.toRgba();return s.type.includes(\"3d\")?this._applyColorTo3dSymbol(s,l):\"cim\"===s.type?D(s,i):s.color&&(s.color=new t(l||s.color)),s}_applyColorTo3dSymbol(e,i){i&&e.symbolLayers.forEach((e=>{e&&(e.material||(e.material={}),e.material.color=new t(i))}))}async _getVisualVariableLegendElements(e,t){if(!(\"visualVariables\"in e)||\"vector-field\"===e.type)return null;const i=e.visualVariables??[],s=[],l=[],n=[],a=X(e);if(2===a?.sizeStops?.length&&(Le(e)||Ee(e))){const[e,t]=a.sizeStops;l.push(new F({field:a.field??void 0,normalizationField:a.normalizationField,minSize:e.size,maxSize:t.size,minDataValue:e.value,maxDataValue:t.value}))}for(const r of i)\"color\"===r.type?s.push(r):\"size\"===r.type?l.push(r):\"opacity\"===r.type&&n.push(r);const o=[...s,...l,...n];let u,c;if(0===s.length&&Le(e)&&e.classBreakInfos&&1===e.classBreakInfos.length){const t=e.classBreakInfos[0];u=t&&t.symbol}if(0===s.length&&ve(e)&&(u=e.symbol),u)if(u.type.includes(\"3d\")){const e=u.symbolLayers.at(0);\"water\"===e.type?null!=e.color&&(c=e.color):null!=e.material?.color&&(c=e.material.color)}else u.url||(c=u.color);const d=this.effectList;return(await Promise.all(o.map((async i=>{if(!i.legendOptions||!1!==i.legendOptions.showLegend){const s=ge(e)?i.field:this._getRampTitle(i,t);let l=null;const r=ie(t,i,this.view.timeZone);if(\"color\"===i.type){const e=await q(i,null,r)??[];l={type:\"color-ramp\",title:s,infos:e,preview:j(e.map((e=>e.color)),{effectList:d,ariaLabel:await Je(\"previewColorRampAriaLabel\")})},this._hasColorRamp||(this._hasColorRamp=e.length>0)}else if(\"size\"===i.type&&\"outline\"!==i.target)he.test(i.valueExpression)?this._hasClusterSizeVariable||(this._scaleDrivenSizeVariable=i):(l=await this._getSizeLegendElement(s,i,e,r),this._hasSizeRamp||(this._hasSizeRamp=!(null==l.infos||!l.infos.length)));else if(\"opacity\"===i.type){const e=await q(i,c,r)??[];l={type:\"opacity-ramp\",title:s,infos:e,preview:j(e.map((e=>e.color)),{effectList:d,ariaLabel:await Je(\"previewColorRampAriaLabel\")})},this._hasOpacityRamp||(this._hasOpacityRamp=e.length>0)}return l?.infos?l:null}})))).filter(r)}_getDomainName(e,t,i){if(e&&\"function\"!=typeof e){const s=\"getField\"in i&&i.getField?.(e),l=s&&\"getFieldDomain\"in i&&i.getFieldDomain?i.getFieldDomain(s.name,{excludeImpliedDomains:has(\"esri-widget-legacy-field-domain-calculation\")}):null;return\"coded-value\"===l?.type?l.getName(t):null}return null}_getClusterTitle(e){const t=this.layer,i=e.field;if(\"featureReduction\"in t&&t.featureReduction&&\"cluster\"===t.featureReduction.type){const e=t.featureReduction,s=\"popupTemplate\"in e&&e.popupTemplate,l=s&&s.fieldInfos;if(l)for(const t of l)if(t.fieldName===i)return\"cluster_count\"===i?t.label||{showCount:!0}:t.label}return{showCount:!0}}_getRampTitle(e,t){let i=e.field,s=e.normalizationField,l=!1,r=!1,n=!1,a=null;i=\"function\"==typeof i?null:i,s=\"function\"==typeof s?null:s;const o=e.legendOptions?.title;if(null!=o)a=o;else if(e.valueExpressionTitle)a=e.valueExpressionTitle;else{if(\"renderer\"in t&&t.renderer&&\"authoringInfo\"in t.renderer&&t.renderer.authoringInfo?.visualVariables){const e=t.renderer.authoringInfo.visualVariables;for(let t=0;t<e.length;t++){const i=e[t];if(\"color\"===i.type){if(\"ratio\"===i.style){l=!0;break}if(\"percent\"===i.style){r=!0;break}if(\"percent-of-total\"===i.style){n=!0;break}}}}a={field:i&&this._getFieldAlias(i,t),normField:s&&this._getFieldAlias(s,t),ratio:l,ratioPercent:r,ratioPercentTotal:n}}return a}_getRendererTitle(e,t){const i=e;if(i.legendOptions?.title)return i.legendOptions.title;if(i.valueExpressionTitle)return i.valueExpressionTitle;let s=i.field,l=null,r=null;if(Le(i)&&(l=i.normalizationField,r=\"percent-of-total\"===i.normalizationType),s=\"function\"==typeof s?null:s,l=\"function\"==typeof l?null:l,Ee(i)){const{field2:e,field3:l,fieldDelimiter:r}=i;let n=s&&this._getFieldAlias(s,t);return e&&(n=`<${n}>${r}<${this._getFieldAlias(e,t)}>`,l&&(n=`${n}${r}<${this._getFieldAlias(l,t)}>`)),n}let n=null;return(s||l)&&(n={field:s&&this._getFieldAlias(s,t),normField:l&&this._getFieldAlias(l,t),normByPct:r}),n}_getFieldAlias(e,t){const i=\"popupTemplate\"in t?t.popupTemplate:null,s=i?.fieldInfos;let l=s?.find((t=>e===t.fieldName)),r=null;\"getField\"in t&&t.getField?r=t.getField(e):\"fieldsIndex\"in t&&t.fieldsIndex&&(r=t.fieldsIndex.get(e));let n=null;const a=\"featureReduction\"in t&&t.featureReduction;a&&(l??=\"popupTemplate\"in a?a.popupTemplate?.fieldInfos?.find((t=>e?.toLowerCase()===t.fieldName?.toLowerCase())):void 0,\"fields\"in a&&a.fields&&(n=a.fields.find((t=>t.name?.toLowerCase()===e?.toLowerCase()))));const o=l||r||n;let u=null;return o&&(u=l?.label||r?.alias||n?.alias||\"name\"in o&&o.name||\"fieldName\"in o&&o.fieldName||null),u}_isUnclassedRenderer(e){const t=e.visualVariables;let i=!1;return Le(e)&&e.classBreakInfos&&1===e.classBreakInfos.length&&t&&(i=e.field?t.some((t=>!(!t||e.field!==t.field||(e.normalizationField||t.normalizationField)&&e.normalizationField!==t.normalizationField))):!!t.length),i}};e([g()],Xe.prototype,\"children\",void 0),e([g({readOnly:!0})],Xe.prototype,\"effectList\",null),e([g()],Xe.prototype,\"layerView\",void 0),e([g()],Xe.prototype,\"layer\",void 0),e([g()],Xe.prototype,\"legendElements\",void 0),e([g({readOnly:!0})],Xe.prototype,\"opacity\",null),e([g()],Xe.prototype,\"parent\",void 0),e([g({readOnly:!0,dependsOn:[]})],Xe.prototype,\"ready\",null),e([g()],Xe.prototype,\"hideLayersNotInCurrentView\",void 0),e([g()],Xe.prototype,\"keepCacheOnDestroy\",void 0),e([g()],Xe.prototype,\"respectLayerDefinitionExpression\",void 0),e([g()],Xe.prototype,\"respectLayerVisibility\",void 0),e([g({readOnly:!0})],Xe.prototype,\"scale\",null),e([g()],Xe.prototype,\"sublayerIds\",void 0),e([g({readOnly:!0})],Xe.prototype,\"isScaleDriven\",null),e([g()],Xe.prototype,\"title\",void 0),e([g({readOnly:!0,dependsOn:[\"ready\"],value:0})],Xe.prototype,\"version\",null),e([g()],Xe.prototype,\"view\",void 0),Xe=e([b(\"esri.widgets.Legend.support.ActiveLayerInfo\")],Xe);const Ye=Xe;export{Ye as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport t from\"../../../Color.js\";import{formatDate as n}from\"../../../intl/date.js\";import{formatNumber as i}from\"../../../intl/number.js\";import{timelineDateFormatOptions as o}from\"../../../renderers/support/utils.js\";import e from\"../../../renderers/visualVariables/SizeVariable.js\";function r(t){return n(new Date(t),o)}function s(t){const n=2,o=Math.floor(Math.log10(Math.abs(t)))+1,e=o<4||o>6?4:o,r=1e6,s=Math.abs(t)>=r?\"compact\":\"standard\";return i(t,{notation:s,minimumSignificantDigits:n,maximumSignificantDigits:e})}function a(t,n,i){if(null==n||null==t)return[];const o=[];for(let e=-1*i;e<=i;e++)0!==e&&o.push(n+e*t);return o}function u(t){const{max:n,min:i,padding:o,pathHeight:e,pathWidth:r,stops:s}=t,a=n-i;let u,h=`M0 0 L${r} 0 `;const m=3===s.length?[s[0],s[1],s[2]]:[s[0],s[2],s[4]],f=Math.min.apply(Math,m.map((t=>t.size))),l=Math.max(Math.abs(m[0].size-m[1].size),Math.abs(m[2].size-m[1].size));return m.reverse(),m.forEach((({size:t,value:n},s)=>{const m=Math.round((t-f)/l*100)/100,c=Math.round(e-(n-i)/a*e);u=m*r,0===u&&(u=o*r),0===s&&(h+=`L${u} 0 `),h+=`L${u} ${c} `})),h+=`L${u} ${e} L0 ${e} L0 0 Z`,h}function h(t){const{bottomValue:n,bottomWidth:i,max:o,min:e,pathHeight:r,pathWidth:s,topValue:a,topWidth:u}=t,h=u*s,m=i*s,f=o-e,l=Math.round(r-(n-e)/f*r);return`M${h} 0 L${h} ${Math.round(r-(a-e)/f*r)} L${m} ${l} L${m} ${r} L0 ${r} L0 0 Z`}function m(t){let n=t.maxSize,i=t.minSize;return n instanceof e&&(n=n.stops[0].size),i instanceof e&&(i=i.stops[0].size),[n,i]}function f(t,n,i){const o=i.length-1;if(o<0)return[];const e=i[0],r=i[o]-e,s=n-t,a=[];for(let u=1;u<o;u++){const n=(i[u]-e)/r*s+t;a.push({index:u,value:n})}return a.unshift({index:0,value:t}),a.push({index:o,value:n}),a}function l(n){return n instanceof t?n.toCss(!0):t.fromString(n??\"\").toCss(!0)}export{r as formatDateLabel,s as formatNumberLabel,a as getDeviationValues,u as getDynamicPathForSizeStops,l as getFillFromColor,h as getPathForSizeStops,m as getSizesFromVariable,f as getStopChanges};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../renderers/visualVariables/SizeVariable.js\";function l(l,i,s){const a=l.effectiveClusterRenderer;if(!a||!(\"visualVariables\"in a)||!a.visualVariables)return null;const n=a.visualVariables.find((e=>\"size\"===e.type));if(!(\"stops\"in n)||!n.stops)return null;const t=n.stops.find((e=>e.useMinValue)),u=n.stops.find((e=>e.useMaxValue));if(null==t||null==u)return null;const r=s.featuresTilingScheme.getClosestInfoForScale(s.scale).level,f=n.field,o=i.getDisplayStatistics(r,f);return o?new e({field:n.field,minSize:l.clusterMinSize,minDataValue:o.minValue,maxSize:l.clusterMaxSize,maxDataValue:o.maxValue}):null}export{l as getEffectiveClusterSizeVariable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../intl.js\";import i from\"../../core/Accessor.js\";import r from\"../../core/Collection.js\";import{watch as t,initial as s,when as a}from\"../../core/reactiveUtils.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{get as l}from\"../../core/accessorSupport/get.js\";import{getEffectiveFeatureReduction as y}from\"../../views/2d/layers/features/layerAdapters/featureReductionUtils.js\";import d from\"./support/ActiveLayerInfo.js\";import{onLocaleChange as h}from\"../../intl/locale.js\";const c={state:\"state\",view:\"view\",allLayerViews:\"all-layer-views\",legendProperties:\"legend-properties\"},L=r.ofType(d),p=new Set([\"esri.layers.BuildingSceneLayer\",\"esri.layers.CatalogLayer\",\"esri.layers.CSVLayer\",\"esri.layers.FeatureLayer\",\"esri.layers.GeoJSONLayer\",\"esri.layers.GeoRSSLayer\",\"esri.layers.GroupLayer\",\"esri.layers.HeatmapLayer\",\"esri.layers.ImageryLayer\",\"esri.layers.ImageryTileLayer\",\"esri.layers.MapImageLayer\",\"esri.layers.OGCFeatureLayer\",\"esri.layers.OrientedImageryLayer\",\"esri.layers.PointCloudLayer\",\"esri.layers.StreamLayer\",\"esri.layers.SceneLayer\",\"esri.layers.SubtypeGroupLayer\",\"esri.layers.TileLayer\",\"esri.layers.VoxelLayer\",\"esri.layers.WFSLayer\",\"esri.layers.WMSLayer\",\"esri.layers.WMTSLayer\",\"esri.layers.WCSLayer\",\"esri.layers.LinkChartLayer\",\"esri.layers.catalog.CatalogFootprintLayer\",\"esri.layers.catalog.CatalogDynamicGroupLayer\",\"esri.layers.knowledgeGraph.KnowledgeGraphSublayer\",\"esri.layers.KnowledgeGraphLayer\"]),u=\"view.basemapView.baseLayerViews\",f=\"view.groundView.layerViews\",v=\"view.basemapView.referenceLayerViews\",_=[u,f,\"view.layerViews\",v];let w=class extends i{constructor(e){super(e),this._layerViewByLayerId={},this._layerInfosByLayerViewId={},this._activeLayerInfosByLayerViewId={},this._activeLayerInfosWithNoParent=new r,this.activeLayerInfos=new L,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerDefinitionExpression=!1,this.respectLayerVisibility=!0,this.layerInfos=[],this.view=null}initialize(){this.addHandles(t((()=>this.view),(()=>this._viewHandles()),s),c.view),this.addHandles(h((()=>this._refresh())))}destroy(){this._destroyViewActiveLayerInfos(),this.view=null}get state(){return this.view?.ready?\"ready\":\"disabled\"}_viewHandles(){this.removeHandles(c.state),this.view&&this.addHandles(t((()=>this.state),(()=>this._stateHandles()),s),c.state)}_stateHandles(){this._resetAll(),\"ready\"===this.state&&this._watchPropertiesAndAllLayerViews()}_resetAll(){this.removeHandles([c.allLayerViews,c.legendProperties]),this._destroyViewActiveLayerInfos(),this.activeLayerInfos.removeAll()}_destroyViewActiveLayerInfos(){Object.keys(this._activeLayerInfosByLayerViewId).forEach(this._destroyViewActiveLayerInfo,this)}_destroyViewActiveLayerInfo(e){this.removeHandles(e);const i=this._activeLayerInfosByLayerViewId[e];delete this._activeLayerInfosByLayerViewId[e],i?.parent&&i.parent.children.remove(i)}_watchPropertiesAndAllLayerViews(){const{view:e}=this;if(!e)return;const{allLayerViews:i}=e;i.length&&this._refresh(),this.addHandles(i.on(\"change\",(e=>this._allLayerViewsChangeHandle(e))),c.allLayerViews),this.addHandles(t((()=>[this.layerInfos,this.basemapLegendVisible,this.groundLegendVisible]),(()=>this._propertiesChangeHandle())),c.legendProperties)}_allLayerViewsChangeHandle(e){e.moved.length?this._propertiesChangeHandle():(e.removed.forEach((e=>this._destroyViewActiveLayerInfo(e.uid))),this._refresh())}_propertiesChangeHandle(){this._destroyViewActiveLayerInfos(),this._refresh()}_refresh(){this._layerInfosByLayerViewId={},this.activeLayerInfos.removeAll(),this._generateLayerViews().filter(this._filterLayerViewsByLayerInfos,this).filter(this._isLayerViewSupported,this).forEach(this._generateActiveLayerInfo,this),this._sortActiveLayerInfos(this.activeLayerInfos)}_sortActiveLayerInfos(e){const i=this.view;if(e.length<2||!i)return;const r=[];e.forEach((i=>{if(!i.parent){const t=i.layer.parent,s=t&&\"uid\"in t&&this._layerViewByLayerId[t.uid],a=s&&this._activeLayerInfosByLayerViewId[s.uid];a&&e.includes(a)&&(r.push(i),i.parent=a,a.children.add(i),this._sortActiveLayerInfos(a.children))}})),e.removeMany(r);const t={};i.allLayerViews.forEach(((e,i)=>t[e.layer.uid]=i)),e.sort(((e,i)=>{const r=t[e.layer.uid]||0;return(t[i.layer.uid]||0)-r}))}_generateLayerViews(){const e=[];return _.filter(this._filterLayerViews,this).map((e=>l(this,e))).filter((e=>null!=e)).forEach(this._collectLayerViews(\"layerViews\",e)),e}_filterLayerViews(e){const i=!this.basemapLegendVisible&&(e===u||e===v),r=!this.groundLegendVisible&&e===f;return!i&&!r}_collectLayerViews(e,i){const r=t=>(t&&t.forEach((t=>{i.push(t),r(t[e])})),i);return r}_filterLayerViewsByLayerInfos(e){const i=this.layerInfos;return!i||!i.length||i.some((i=>this._hasLayerInfo(i,e)))}_hasLayerInfo(e,i){const r=this._isLayerUIDMatching(e.layer,i.layer.uid);return r&&(this._layerInfosByLayerViewId[i.uid]=e),r}_isLayerUIDMatching(e,i){return e&&(e.uid===i||this._hasLayerUID(e.layers,i))}_hasLayerUID(e,i){return e&&e.some((e=>this._isLayerUIDMatching(e,i)))}_isLayerViewSupported(e){return!!p.has(e.layer.declaredClass)&&(this._layerViewByLayerId[e.layer.uid]=e,!0)}_generateActiveLayerInfo(e){this._isLayerActive(e)?this._buildActiveLayerInfo(e):(this.removeHandles(e.uid),this.addHandles(t((()=>[e.legendEnabled,e.layer?.legendEnabled]),(()=>this._layerActiveHandle(e))),e.uid))}_layerActiveHandle(e){this._isLayerActive(e)&&(this.removeHandles(e.uid),this._buildActiveLayerInfo(e))}_isLayerActive(e){return!this.respectLayerVisibility||e.legendEnabled&&e.layer?.legendEnabled}_buildActiveLayerInfo(e){const i=e.layer,r=e.uid,n=this._layerInfosByLayerViewId[r];let o=this._activeLayerInfosByLayerViewId[r];if(!o){const t=void 0!==n?.title&&n.layer.uid===i.uid;o=new d({layer:i,layerView:e,title:t?n.title:i.title,view:this.view??void 0,respectLayerDefinitionExpression:this.respectLayerDefinitionExpression,respectLayerVisibility:this.respectLayerVisibility,hideLayersNotInCurrentView:this.hideLayersNotInCurrentView,keepCacheOnDestroy:this.keepCacheOnDestroy,sublayerIds:n?.sublayerIds||[]}),this._activeLayerInfosByLayerViewId[r]=o}const l=i.parent&&\"uid\"in i.parent?this._layerViewByLayerId[i.parent?.uid]:null;if(o.parent=this._activeLayerInfosByLayerViewId[l?.uid],!this.hasHandles(r)){const n=[t((()=>i.title),(e=>this._titleHandle(e,o))),t((()=>[i.opacity,\"renderer\"in i&&i.renderer,\"pointSymbol\"in i&&i.pointSymbol,\"lineSymbol\"in i&&i.lineSymbol,\"polygonSymbol\"in i&&i.polygonSymbol]),(()=>this._constructLegendElements(o))),a((()=>!0===this.view?.stationary),(()=>this._scaleHandle(o)),s),t((()=>e.layer?y(e.layer,e.view):null),(()=>this._constructLegendElements(o))),t((()=>e.updating),(()=>{if(null==e.layer)return;null!=y(e.layer,e.view)&&this._constructLegendElements(o)})),t((()=>\"effect\"in i&&i.effect),(()=>this._constructLegendElements(o))),a((()=>this.view?.timeZone),(()=>this._constructLegendElements(o)),s)];if(this.respectLayerVisibility){const r=t((()=>e.legendEnabled),(e=>this._legendEnabledHandle(e,o))),s=t((()=>i.legendEnabled),(e=>this._legendEnabledHandle(e,o)));n.push(r,s)}if(this.respectLayerDefinitionExpression&&\"definitionExpression\"in i){const e=t((()=>[i.definitionExpression,this.respectLayerDefinitionExpression]),(()=>{o.respectLayerDefinitionExpression=this.respectLayerDefinitionExpression,this._constructLegendElements(o)}));n.push(e)}this.addHandles(n,r)}o.isScaleDriven||this._constructLegendElements(o),this._addActiveLayerInfo(o)}_titleHandle(e,i){i.title=e,this._constructLegendElements(i)}_legendEnabledHandle(e,i){e?this._addActiveLayerInfo(i):this._removeActiveLayerInfo(i)}_scaleHandle(e){(e.isScaleDriven||e.hideLayersNotInCurrentView)&&this._constructLegendElements(e)}_addActiveLayerInfo(e){const{layerView:i,layer:r}=e;if(this._isLayerActive(i)&&!this.activeLayerInfos.includes(e)){const i=e.parent;if(i)i.children.includes(e)||i.children.push(e),this._sortActiveLayerInfos(i.children);else{const i=this.layerInfos?.some((e=>e.layer.uid===r.uid)),t=r.parent;(t&&\"uid\"in t?this._layerViewByLayerId[t.uid]:null)&&!i?this._activeLayerInfosWithNoParent.add(e):(this.activeLayerInfos.add(e),this._sortActiveLayerInfos(this.activeLayerInfos))}if(this._activeLayerInfosWithNoParent.length){const e=[];this._activeLayerInfosWithNoParent.forEach((i=>{const r=i.layer.parent,t=r&&\"uid\"in r?this._layerViewByLayerId[r?.uid]:null,s=this._activeLayerInfosByLayerViewId[t?.uid];s&&(e.push(i),i.parent=s)})),e.length&&(this._activeLayerInfosWithNoParent.removeMany(e),e.forEach((e=>this._addActiveLayerInfo(e))))}}}_removeActiveLayerInfo(e){const i=e.parent;i?i.children.remove(e):this.activeLayerInfos.remove(e)}_constructLegendElements(e){const i=e.layer;\"featureCollections\"in i&&i.featureCollections?e.buildLegendElementsForFeatureCollections(i.featureCollections):\"featureReduction\"in i&&i.featureReduction&&\"renderer\"in i.featureReduction&&(\"binning\"===i.featureReduction.type||\"cluster\"===i.featureReduction.type)&&(!this.view||i.featureReduction.maxScale<=this.view.scale)?e.buildLegendElementsForFeatureReduction(i.featureReduction):\"renderer\"in i&&i.renderer&&!(\"sublayers\"in i)?e.buildLegendElementsForRenderer(i.renderer):\"url\"in i&&i.url&&\"catalog\"!==i.type&&\"knowledge-graph\"!==i.type?e.buildLegendElementsForTools():e.children.forEach((e=>this._constructLegendElements(e)))}};e([n({type:L})],w.prototype,\"activeLayerInfos\",void 0),e([n()],w.prototype,\"basemapLegendVisible\",void 0),e([n()],w.prototype,\"groundLegendVisible\",void 0),e([n()],w.prototype,\"hideLayersNotInCurrentView\",void 0),e([n()],w.prototype,\"keepCacheOnDestroy\",void 0),e([n()],w.prototype,\"respectLayerDefinitionExpression\",void 0),e([n()],w.prototype,\"respectLayerVisibility\",void 0),e([n()],w.prototype,\"layerInfos\",void 0),e([n({readOnly:!0})],w.prototype,\"state\",null),e([n()],w.prototype,\"view\",void 0),w=e([o(\"esri.widgets.Legend.LegendViewModel\")],w);const I=w;export{I as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst e=\"esri-legend--card\",a=\"esri-legend\",r={activated:`${e}__carousel-indicator--activated`,base:e,stacked:`${a}--stacked`,carouselTitle:`${e}__carousel-title`,indicator:`${e}__carousel-indicator`,intervalSeparator:`${e}__interval-separator`,imageryLayerStretchedImage:`${e}__imagery-layer-image--stretched`,imageLabel:`${e}__image-label`,layerCaption:`${e}__layer-caption`,labelElement:`${e}__label-element`,layerRow:`${e}__layer-row`,labelCell:`${e}__label-cell`,message:`${e}__message`,rampLabel:`${e}__ramp-label`,section:`${e}__section`,relationshipSection:`${e}__relationship-section`,serviceCaptionText:`${e}__service-caption-text`,serviceContent:`${e}__service-content`,service:`${e}__service`,groupLayer:`${e}__group-layer`,groupLayerChild:`${e}__group-layer-child`,symbol:`${e}__symbol`,sizeRampRow:`${e}__size-ramp-row`,symbolRow:`${e}__symbol-row`,symbolCell:`${e}__symbol-cell`,indicatorContainer:`${e}__carousel-indicator-container`,intervalSeparatorsContainer:`${e}__interval-separators-container`,relationshipLabelContainer:`${e}__relationship-label-container`,labelContainer:`${e}__label-container`,serviceCaptionContainer:`${e}__service-caption-container`,symbolContainer:`${e}__symbol-container`,sizeRampContainer:`${e}__size-ramp-container`,sizeRampPreview:`${e}__size-ramp-preview`,pieChartRampPreview:`${e}__pie-chart-ramp-preview`,rampContainer:`${a}__ramps`,sizeRampHorizontal:`${a}__size-ramp--horizontal`,rampLabelsContainer:`${a}__ramp-labels`,layerInfo:`${a}__layer-cell ${a}__layer-cell--info`,univariateAboveAndBelowColorRamp:\"esri-univariate-above-and-below-ramp__color--card\"};export{r as css};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../core/screenUtils.js\";import\"../../../../libs/maquette/projection.js\";import{createProjector as t}from\"../../../../libs/maquette/projector.js\";import{renderColorRampPreviewHTML as o}from\"../../../../symbols/support/symbolUtils.js\";import\"../../../support/widgetUtils.js\";import{tsx as i}from\"../../../support/jsxFactory.js\";const l=t(),n=10,r=20,s=10,a=20,c={univariateAboveAndBelowSymbol:\"esri-univariate-above-and-below-ramp__symbol\",colorRamp:\"esri-legend__color-ramp\"};function f(e=\"vertical\"){const t=\"stroke:rgb(200, 200, 200);stroke-width:1\";return\"vertical\"===e?i(\"svg\",{height:\"4\",width:\"10\"},i(\"line\",{style:t,x1:\"0\",x2:\"10\",y1:\"2\",y2:\"2\"})):i(\"svg\",{height:\"10\",width:\"10\"},i(\"line\",{style:t,x1:\"5\",x2:\"5\",y1:\"0\",y2:\"10\"}))}function p(e,t=\"vertical\"){const o=document.createElement(\"div\");return o.style.height=`${r}px`,o.className=c.univariateAboveAndBelowSymbol,null!=e&&(o.style.opacity=e.toString()),l.append(o,f.bind(null,t)),o}function m(t,o,i=\"vertical\",l){t.infos.forEach(((t,n)=>{if(l&&2===n)t.preview=p(o,i);else{const o=e(t.size)+(\"horizontal\"===i?a:s),l=t.preview,n=\"div\"===l?.tagName.toLowerCase(),r=n?l:document.createElement(\"div\");r.className=c.univariateAboveAndBelowSymbol,\"horizontal\"===i?r.style.width=`${o}px`:r.style.height=`${o}px`,!n&&l&&r.appendChild(l),t.preview=r}}))}function u(t,o=\"classic\"){const i=t.infos;return\"classic\"===o?(e(i[0].size)+s)/2:(e(i[0].size)-e(i[i.length-1].size))/2}function h(e,t){if(!e)return null;const i=e.infos.map((e=>e.color)),l=o(\"full\"===t.type?i:\"above\"===t.type?i.slice(0,3):i.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment,effectList:t.effectList,ariaLabel:t.ariaLabel});return l.className=c.colorRamp,null!=t.opacity&&(l.style.opacity=t.opacity.toString()),l}function v(t,o,i,l=\"vertical\"){let c=0;const f=t.infos,p=Math.floor(f.length/2),m=\"full\"===o||\"above\"===o?0:p,u=\"full\"===o||\"below\"===o?f.length-1:p;for(let h=m;h<=u;h++)if(i&&h===p)c+=\"horizontal\"===l?n:r;else{c+=e(f[h].size)+(\"horizontal\"===l?a:s)}return Math.round(c)}function y(t,o,i,l=\"vertical\"){const c=v(t,o,i,l),f=t.infos,p=Math.floor(f.length/2),m=\"full\"===o||\"above\"===o?0:p,u=\"full\"===o||\"below\"===o?f.length-1:p,h=\"full\"===o?f[m].size+f[u].size:\"above\"===o?f[m].size:f[u].size,y=i?\"vertical\"===l?r:n:0,d=\"vertical\"===l?s*(\"full\"===o?2:1):a*(\"full\"===o?2:1);return Math.round(c-(e(h)/2+y/2+d/2))}function d(e,t,o=\"vertical\"){const i=e.infos;let l=i.find((({type:e})=>\"size-ramp\"===e)),n=i.find((({type:e})=>\"color-ramp\"===e));return l&&(l={...l},l.infos=[...l.infos],m(l,t,o,!0)),n&&(n={...n},n.infos=[...n.infos]),\"horizontal\"===o&&(l?.infos.reverse(),n?.infos.reverse()),{sizeRampElement:l,colorRampElement:n}}function b(e,t=\"vertical\"){const o=e.infos;let i=o.find((({type:e})=>\"size-ramp\"===e)),l=o.find((({type:e})=>\"color-ramp\"===e));return i&&(i={...i},i.infos=[...i.infos],m(i,null,t,!1)),l&&(l={...l},l.infos=[...l.infos]),\"horizontal\"===t&&(i?.infos.reverse(),l?.infos.reverse()),{sizeRampElement:i,colorRampElement:l}}export{d as getUnivariateAboveAndBelowRampElements,u as getUnivariateColorRampMargin,h as getUnivariateColorRampPreview,y as getUnivariateColorRampSize,b as getUnivariateColorSizeRampElements,v as getUnivariateSizeRampSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../../intl.js\";import{stripHTML as e}from\"../../../core/string.js\";import{substitute as t}from\"../../../intl/substitute.js\";import{formatNumber as n}from\"../../../intl/number.js\";function r(e,t){return t}function i(e){const t=this;e.appendChild(t)}function o(n,i,o){if(!i)return;if(\"number\"==typeof i)return i;if(\"string\"==typeof i)return e(i);if(\"value\"in i||\"unit\"in i)return t(n.dotValue,i);if(\"colorName\"in i&&\"bandName\"in i)return n[i.colorName]+\": \"+(n[i.bandName]||i.bandName);if(\"showCount\"in i)return i.showCount?n.clusterCountTitle:void 0;let u=null;return r(i,o)?u=i.ratioPercentTotal?\"showRatioPercentTotal\":i.ratioPercent?\"showRatioPercent\":i.ratio?\"showRatio\":i.normField?\"showNormField\":i.field?\"showField\":null:l(i,o)&&(u=i.normField?\"showNormField\":i.normByPct?\"showNormPct\":i.field?\"showField\":null),u?t(\"showField\"===u?\"{field}\":n[u],{field:i.field,normField:i.normField}):void 0}function l(e,t){return!t}function u(e,t){return!!(t&&\"Stretched\"===t&&e.version>=10.3&&\"esri.layers.ImageryLayer\"===e.declaredClass)}function a(e,t){return e.label?t[e.label]+\": \"+(\"string\"==typeof e.value?e.value:n(e.value??0,{style:\"decimal\",notation:e.value?.toString().toLowerCase().includes(\"e\")?\"scientific\":\"standard\"})):\"\"}export{i as attachToNode,a as getStretchStopLabel,o as getTitle,u as isImageryStretchedLegend,l as isRendererTitle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../intl.js\";import{watch as t}from\"../../../core/reactiveUtils.js\";import{pt2px as s}from\"../../../core/screenUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{renderSVG as r}from\"../../../symbols/support/svgUtils.js\";import{getCSSFilterFromEffectList as o}from\"../../../symbols/support/utils.js\";import l from\"../../Widget.js\";import{css as n}from\"./CardCSS.js\";import{renderRelationshipRamp as c}from\"./support/relationshipUtils.js\";import{getUnivariateAboveAndBelowRampElements as p,getUnivariateSizeRampSize as d,getUnivariateColorRampSize as m,getUnivariateColorRampPreview as h,getUnivariateColorRampMargin as y,getUnivariateColorSizeRampElements as g}from\"./support/univariateUtils.js\";import{getTitle as v,attachToNode as f,isImageryStretchedLegend as u,getStretchStopLabel as b}from\"../support/styleUtils.js\";import{Heading as _,incrementHeadingLevel as w}from\"../../support/Heading.js\";import{accessibleHandler as L}from\"../../support/decorators/accessibleHandler.js\";import{messageBundle as x}from\"../../support/decorators/messageBundle.js\";import{tsx as C}from\"../../support/jsxFactory.js\";import{isRTL as S}from\"../../support/widgetUtils.js\";import{substitute as R}from\"../../../intl/substitute.js\";const $=25,k=25,z=768,I=100,N=\"#ddd\",A=window.devicePixelRatio;function j(e){if(e){if(e.type.includes(\"3d\")){const t=e.symbolLayers?.length;if(!t)return;const s=e.symbolLayers.at(t-1),i=s.resource?.primitive;return\"circle\"===i||\"cross\"===i||\"kite\"===i||\"sphere\"===i||\"cube\"===i||\"diamond\"===i}{const t=e.style;return\"circle\"===t||\"diamond\"===t||\"cross\"===t}}}function E(e){if(e){if(e.type.includes(\"3d\")){const t=e.symbolLayers?.length;if(!t)return;const s=e.symbolLayers.at(t-1).get(\"resource.primitive\");return\"triangle\"===s||\"cone\"===s||\"tetrahedron\"===s}return\"triangle\"===e.style}}let F=class extends l{constructor(e,t){super(e,t),this._hasIndicators=!1,this._selectedSectionName=null,this._sectionNames=[],this._sectionMap=new Map,this.activeLayerInfos=null,this.headingLevel=3,this.layout=\"stack\",this.messages=null,this.messagesCommon=null,this.type=\"card\",this.view=null}initialize(){this.addHandles(t((()=>this.activeLayerInfos),(e=>{this.removeAllHandles(),this._watchForSectionChanges(e)})))}render(){const{view:e}=this;this._hasIndicators=\"auto\"===this.layout&&e&&e.container.clientWidth<=z||\"stack\"===this.layout;const t=this.activeLayerInfos,s=t?.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));this._hasIndicators?this._selectedSectionName&&this._sectionNames.includes(this._selectedSectionName)||(this._selectedSectionName=this._sectionNames&&this._sectionNames[0]):this._selectedSectionName=null;const i=this._sectionNames.length,a=this._sectionNames.map(((e,t)=>{const s=R(this.messagesCommon.pagination.pageText,{index:t+1,total:i});return C(\"div\",{\"aria-controls\":`${e}-panel`,\"aria-label\":s,\"aria-selected\":(this._selectedSectionName===e).toString(),bind:this,class:this.classes(n.indicator,{[n.activated]:this._selectedSectionName===e}),\"data-section-name\":e,id:e,key:e,onclick:this._selectSection,onkeydown:this._focusSection,role:\"tab\",tabIndex:this._selectedSectionName===e?0:-1,title:s})})),r=this._hasIndicators&&i>1?C(\"div\",{class:n.indicatorContainer,key:\"carousel-navigation\",role:\"tablist\"},a):null,o=this._hasIndicators?this._sectionMap.get(this._selectedSectionName):s?.length?s:null,l={[n.stacked]:this._hasIndicators};return C(\"div\",{class:this.classes(n.base,l)},o||C(\"div\",{class:n.message},this.messages.noLegend),r)}_selectSection(e){const t=e.target.getAttribute(\"data-section-name\");t&&(this._selectedSectionName=t)}_focusSection(e){switch(e.key){case\"ArrowLeft\":case\"ArrowRight\":this._switchSectionOnArrowPress(e);break;case\"Enter\":case\" \":this._selectSection(e)}}_switchSectionOnArrowPress(e){const t=e.key,s=\"ArrowLeft\"===t?-1:1,i=e.target.getAttribute(\"data-section-name\"),a=this._sectionNames.indexOf(i),r=this._sectionNames;let o=null;-1!==a&&(r[a+s]?o=document.getElementById(r[a+s]):\"ArrowLeft\"===t?o=document.getElementById(r[r.length-1]):\"ArrowRight\"===t&&(o=document.getElementById(r[0])),o?.focus())}_watchForSectionChanges(e){if(this._generateSectionNames(),e){e.forEach((e=>{const s=`activeLayerInfo-${e.layer.uid}-version-change`;this.removeHandles(s),this._watchForSectionChanges(e.children),this.addHandles(t((()=>e.version),(()=>this._generateSectionNames())),s)}));const s=\"activeLayerInfos-collection-change\";this.removeHandles(s),this.addHandles(e.on(\"change\",(()=>this._watchForSectionChanges(e))),s)}}_generateSectionNames(){this._sectionNames.length=0,this._selectedSectionName=null,this.activeLayerInfos&&this.activeLayerInfos.forEach(this._generateSectionNamesForActiveLayerInfo,this)}_getSectionName(e,t,s){return`${this.id}${e.uid}-type-${t.type}-${s}`}_generateSectionNamesForActiveLayerInfo(e){e.children.forEach(this._generateSectionNamesForActiveLayerInfo,this),e.legendElements&&e.legendElements.forEach(((t,s)=>{this._sectionNames.push(this._getSectionName(e.layer,t,s))}))}_renderLegendForLayer(e){if(!e.ready)return null;if(e.children.length){const t=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return C(\"div\",{class:this.classes(n.service,n.groupLayer),key:e.layer.uid},C(\"div\",{class:n.serviceCaptionContainer},e.title),t)}{const t=e.legendElements;if(t&&!t.length)return null;const s=t.some((e=>\"relationship-ramp\"===e.type)),i=t.map(((t,i)=>this._renderLegendForElement(t,e,i,s))).filter((e=>!!e));if(!i.length)return null;const a={[n.groupLayerChild]:!!e.parent};return C(\"div\",{class:this.classes(n.service,a),key:e.layer.uid},C(\"div\",{class:n.serviceCaptionContainer},C(\"div\",{class:n.serviceCaptionText},e.title)),C(\"div\",{class:n.serviceContent},i))}}_renderLegendForElement(e,t,s,i=!1,a=!1){const r=\"color-ramp\"===e.type,o=\"opacity-ramp\"===e.type,l=t.layer;let p=null;if(\"string\"==typeof e.title)p=e.title;else if(e.title){const t=e.title,s=v(this.messages,t,r||o);p=t.title?`${t.title} (${s})`:s}const d=this._getSectionName(l,e,s),m=this._hasIndicators&&!a?C(\"div\",null,C(_,{class:n.carouselTitle,level:this.headingLevel},t.title),C(_,{class:n.layerCaption,level:w(this.headingLevel)},p)):p?C(_,{class:n.layerCaption,level:this.headingLevel},p):null,h=t.effectList;let y=null;switch(e.type){case\"symbol-table\":{const s=e.infos.map(((s,i)=>this._renderLegendForElementInfo(s,t,e.legendType,i))).filter((e=>!!e));if(s.length){const e=s[0].properties.classes?.[n.symbolRow],t={[n.labelContainer]:!e&&!i,[n.relationshipLabelContainer]:i};y=C(\"div\",{class:this.classes(t)},s)}break}case\"color-ramp\":case\"opacity-ramp\":case\"heatmap-ramp\":case\"stretch-ramp\":y=this._renderLegendForRamp(e,l.opacity,h);break;case\"size-ramp\":y=this._renderSizeRamp(e,l.opacity);break;case\"pie-chart-ramp\":y=this._renderPieChartRamp(e);break;case\"relationship-ramp\":y=c(e,this.id,{opacity:l.opacity,effectList:h,ariaLabel:this.messages.previewRelationshipRampAriaLabel});break;case\"univariate-above-and-below-ramp\":y=this._renderUnivariateAboveAndBelowRamp(e,l.opacity,h);break;case\"univariate-color-size-ramp\":y=this._renderUnivariateColorSizeRamp(e,l.opacity,h)}if(!y)return null;const g=C(\"div\",{\"aria-labelledby\":d,class:n.section,id:`${d}-panel`,key:d,role:\"tabpanel\",tabIndex:0},[m,y]);return a||this._sectionMap.set(d,g),g}_renderPieChartRamp(e){return C(\"div\",{afterCreate:f,bind:e.preview,class:n.pieChartRampPreview})}_renderUnivariateAboveAndBelowRamp(e,t,s){const{sizeRampElement:i,colorRampElement:a}=p(e,t,\"horizontal\");if(!i)return null;const r=d(i,\"full\",!0,\"horizontal\"),o=m(i,\"above\",!0,\"horizontal\"),l=m(i,\"below\",!0,\"horizontal\"),c=12,g=this.messages?.previewColorRampAriaLabel,v=h(a,{width:o,height:c,rampAlignment:\"horizontal\",opacity:t,type:\"above\",effectList:s,ariaLabel:g}),u=h(a,{width:l,height:c,rampAlignment:\"horizontal\",opacity:t,type:\"below\",effectList:s,ariaLabel:g}),b=y(i,\"card\"),_=i.infos.map((e=>e.label)),w=_.length-1,L=_.map(((e,t)=>0===t||t===w?C(\"div\",{key:t},e):null)),x={display:\"flex\",flexDirection:\"column\"},R={display:\"flex\",flexDirection:\"row\"},$={marginTop:\"3px\",display:\"flex\"};S(this.container)?$.marginRight=`${b}px`:$.marginLeft=`${b}px`;const k={width:`${r}px`,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"};return C(\"div\",{class:n.layerRow,key:\"size-ramp-preview\",styles:x},C(\"div\",{class:this.classes(n.symbolContainer,n.sizeRampHorizontal),styles:R},i.infos.map(((e,t)=>C(\"div\",{afterCreate:f,bind:e.preview,class:n.symbol,key:t})))),v?C(\"div\",{class:n.univariateAboveAndBelowColorRamp,key:\"color-ramp-preview\",styles:$},C(\"div\",{afterCreate:f,bind:v}),C(\"div\",{afterCreate:f,bind:u})):null,C(\"div\",{class:n.layerInfo},C(\"div\",{class:n.rampLabelsContainer,styles:k},L)))}_renderUnivariateColorSizeRamp(e,t,s){const{sizeRampElement:i,colorRampElement:a}=g(e,\"horizontal\");if(!i)return null;const r=d(i,\"full\",!1,\"horizontal\"),o=m(i,\"full\",!1,\"horizontal\"),l=h(a,{width:o,height:12,rampAlignment:\"horizontal\",opacity:t,type:\"full\",effectList:s,ariaLabel:this.messages?.previewColorRampAriaLabel}),c=y(i,\"card\"),p=i.infos.length-1,v=i.infos.map(((e,t)=>0===t||t===p?C(\"div\",{key:t},e.label):null)),u={display:\"flex\",flexDirection:\"column\"},b={display:\"flex\",flexDirection:\"row\"},_={marginTop:\"3px\",display:\"flex\"};S(this.container)?_.marginRight=`${c}px`:_.marginLeft=`${c}px`;const w={width:`${r}px`,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"};return C(\"div\",{class:n.layerRow,key:\"size-ramp-preview\",styles:u},C(\"div\",{class:this.classes(n.symbolContainer,n.sizeRampHorizontal),styles:b},i.infos.map(((e,t)=>C(\"div\",{afterCreate:f,bind:e.preview,class:n.symbol,key:t})))),C(\"div\",{class:n.univariateAboveAndBelowColorRamp,key:\"color-ramp-preview\",styles:_},C(\"div\",{afterCreate:f,bind:l})),C(\"div\",{class:n.layerInfo},C(\"div\",{class:n.rampLabelsContainer,styles:w},v)))}_renderLegendForElementInfo(e,t,s,i){const a=t.layer;if(e.type)return this._renderLegendForElement(e,t,i,!1,!0);const r=u(a,s),l=v(this.messages,e.label,!1)??\"\";if(e.preview){if(!e.symbol?.type.includes(\"simple-fill\")){if(!e.label)return C(\"div\",{afterCreate:f,bind:e.preview,key:i});const t={[n.symbolCell]:this._hasIndicators};return C(\"div\",{class:this.classes(n.layerRow,{[n.symbolRow]:this._hasIndicators}),key:i},C(\"div\",{afterCreate:f,bind:e.preview,class:this.classes(t)}),C(\"div\",{class:this.classes(n.imageLabel,{[n.labelCell]:this._hasIndicators})},l))}let s=255,r=255,c=255,p=0,d=255,m=255,h=255,y=0;const g=e.symbol.color?.a,v=e.symbol.outline?.color?.a;g&&(s=e.symbol.color.r,r=e.symbol.color.g,c=e.symbol.color.b,p=e.symbol.color.a*a.opacity),v&&(d=e.symbol.outline.color.r,m=e.symbol.outline.color.g,h=e.symbol.outline.color.b,y=e.symbol.outline.color.a*a.opacity);const u=e.symbol.color?.isBright??!0,b=u?\"rgba(255, 255, 255, .6)\":\"rgba(0, 0, 0, .6)\",_={background:g?`rgba(${s}, ${r}, ${c}, ${p})`:\"none\",color:u?\"black\":\"white\",textShadow:`-1px -1px 0 ${b},\\n                                              1px -1px 0 ${b},\\n                                              -1px 1px 0 ${b},\\n                                              1px 1px 0 ${b}`,border:v?`1px solid rgba(${d}, ${m}, ${h}, ${y})`:\"none\",filter:o(t.effectList)??void 0};return C(\"div\",{class:n.layerRow,key:i},C(\"div\",{class:n.labelElement,styles:_},l))}if(e.src){const t=this._renderImage(e,a,r);return C(\"div\",{class:n.layerRow,key:i},t,C(\"div\",{class:n.imageLabel},l))}}_renderImage(e,t,s){const{label:i,src:a,opacity:r}=e,o={[n.imageryLayerStretchedImage]:s,[n.symbol]:!s},l={opacity:`${null!=r?r:t.opacity}`};return C(\"img\",{alt:v(this.messages,i,!1),\"aria-label\":v(this.messages,i,!1),border:0,class:this.classes(o),height:e.height,src:a,styles:l,width:e.width})}_renderSizeRampLines(e){const t=e.infos,i=t[0],a=t[t.length-1],r=i.symbol,o=this._hasIndicators,l=s(i.size+i.outlineSize)*A,n=s(a.size+a.outlineSize)*A,c=o?l:l+50*A,p=o?l/2+50*A:l,d=E(r),m=j(r),h=document.createElement(\"canvas\");h.width=c,h.height=p,h.style.width=h.width/A+\"px\",h.style.height=h.height/A+\"px\";const y=h.getContext(\"2d\");if(o){y.beginPath();const e=0,t=0,s=c/2-n/2,i=p;y.moveTo(e,t),y.lineTo(s,i);const a=c,r=0,o=c/2+n/2,l=p;y.moveTo(a,r),y.lineTo(o,l)}else{y.beginPath();const e=0,t=p/2-n/2,s=c,i=0;y.moveTo(e,t),y.lineTo(s,i);const a=0,r=p/2+n/2,o=c,l=p;y.moveTo(a,r),y.lineTo(o,l)}return y.strokeStyle=N,y.stroke(),C(\"div\",{afterCreate:f,bind:h,styles:o?{display:\"flex\",marginTop:`-${d?0:m?l/2:0}px`,marginBottom:`-${d?n:m?n/2:0}px`}:{display:\"flex\",marginRight:`-${d?0:m?l/2:0}px`,marginLeft:`-${d?0:m?n/2:0}px`}})}_renderSizeRamp(e,t){const s=e.infos,i=s[0].label,a=s[s.length-1].label;let r=s[0].preview,o=s[s.length-1].preview;const l=this._hasIndicators,c={\"flex-direction\":l?\"column\":\"row-reverse\"};r&&(r=r.cloneNode(!0),r.style.display=\"flex\"),o&&(o=o.cloneNode(!0),o.style.display=\"flex\");const p={opacity:null!=t?`${t}`:\"\"};return C(\"div\",{class:this.classes(n.layerRow,{[n.sizeRampRow]:l})},C(\"div\",{class:n.rampLabel},l?i:a),C(\"div\",{class:n.sizeRampContainer,styles:c},C(\"div\",{afterCreate:f,bind:r,class:n.sizeRampPreview,styles:p}),this._renderSizeRampLines(e),C(\"div\",{afterCreate:f,bind:o,class:n.sizeRampContainer,styles:p})),C(\"div\",{class:n.rampLabel},l?a:i))}_getRampStopLabel(e,t){switch(t){case\"heatmap-ramp\":return this.messages[e.label];case\"stretch-ramp\":return b(e,this.messages);default:return e.label}}_renderLegendForRamp(e,t,s){const i=e.infos,a=e.type,l=\"heatmap-ramp\"===a,c=i.length-1,p=k,d=c>2&&!l?$*c:I,m=d+20,h=10,y=i.slice().reverse(),g=y.length-1,v=y.length%2!=0?y[y.length/2|0]:null,f=v&&C(\"div\",{class:n.intervalSeparatorsContainer},C(\"div\",{class:n.intervalSeparator},\"|\"),C(\"div\",{class:n.rampLabel},this._getRampStopLabel(v,a))),u=[[{shape:{type:\"path\",path:`M0 ${p/2} L${h} 0 L${h} ${p} Z`},fill:y[0].color,stroke:{width:0}},{shape:{type:\"rect\",x:h,y:0,width:d,height:p},fill:{type:\"linear\",x1:h,y1:0,x2:d+h,y2:0,colors:y.map(((e,t)=>({color:e.color,offset:l&&\"ratio\"in e?e.ratio:t/c})))},stroke:{width:0}},{shape:{type:\"path\",path:`M${d+h} 0 L${m} ${p/2} L${d+h} ${p} Z`},fill:y[g].color,stroke:{width:0}}]],b=r(u,m,p),_={filter:o(s)??void 0,opacity:null==t?void 0:`${t}`},w={justifyContent:\"center\"};return C(\"div\",{class:n.layerRow,styles:w},C(\"div\",{class:n.rampLabel},this._getRampStopLabel(y[0],a)),C(\"div\",{class:n.symbolContainer},C(\"div\",{styles:_},b),f),C(\"div\",{class:n.rampLabel},this._getRampStopLabel(y[g],a)))}};e([i()],F.prototype,\"activeLayerInfos\",void 0),e([i()],F.prototype,\"headingLevel\",void 0),e([i()],F.prototype,\"layout\",void 0),e([i(),x(\"esri/widgets/Legend/t9n/Legend\")],F.prototype,\"messages\",void 0),e([i(),x(\"esri/t9n/common\")],F.prototype,\"messagesCommon\",void 0),e([i({readOnly:!0})],F.prototype,\"type\",void 0),e([i()],F.prototype,\"view\",void 0),e([L()],F.prototype,\"_selectSection\",null),F=e([a(\"esri.widgets.Legend.styles.Card\")],F);const T=F;export{T as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst e=\"esri-legend\",a={service:`${e}__service`,label:`${e}__service-label`,layer:`${e}__layer`,groupLayer:`${e}__group-layer`,groupLayerChild:`${e}__group-layer-child`,layerTable:`${e}__layer-table`,layerTableSizeRamp:`${e}__layer-table--size-ramp`,layerChildTable:`${e}__layer-child-table`,layerCaption:`${e}__layer-caption`,layerBody:`${e}__layer-body`,layerRow:`${e}__layer-row`,layerCell:`${e}__layer-cell`,layerInfo:`${e}__layer-cell ${e}__layer-cell--info`,imageryLayerStretchedImage:`${e}__imagery-layer-image--stretched`,imageryLayerCellStretched:`${e}__imagery-layer-cell--stretched`,imageryLayerInfoStretched:`${e}__imagery-layer-info--stretched`,symbolContainer:`${e}__layer-cell ${e}__layer-cell--symbols`,symbol:`${e}__symbol`,rampContainer:`${e}__ramps`,sizeRamp:`${e}__size-ramp`,colorRamp:`${e}__color-ramp`,opacityRamp:`${e}__opacity-ramp`,borderlessRamp:`${e}__borderless-ramp`,rampTick:`${e}__ramp-tick`,rampFirstTick:`${e}__ramp-tick-first`,rampLastTick:`${e}__ramp-tick-last`,rampLabelsContainer:`${e}__ramp-labels`,rampLabel:`${e}__ramp-label`,message:`${e}__message`,univariateAboveAndBelowLabel:\"esri-univariate-above-and-below-ramp__label\"};export{a as css,e as legend};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../Widget.js\";import{css as r,legend as l}from\"./ClassicCSS.js\";import{renderRelationshipRamp as i}from\"./support/relationshipUtils.js\";import{getUnivariateAboveAndBelowRampElements as o,getUnivariateColorRampSize as n,getUnivariateColorRampPreview as p,getUnivariateColorRampMargin as d,getUnivariateColorSizeRampElements as c}from\"./support/univariateUtils.js\";import{getTitle as m,isRendererTitle as y,attachToNode as v,getStretchStopLabel as h,isImageryStretchedLegend as g}from\"../support/styleUtils.js\";import{globalCss as b}from\"../../support/globalCss.js\";import{Heading as f}from\"../../support/Heading.js\";import\"../../support/widgetUtils.js\";import{messageBundle as u}from\"../../support/decorators/messageBundle.js\";import{tsx as L}from\"../../support/jsxFactory.js\";const $=`${l}__`,w=24,C={display:\"flex\",alignItems:\"flex-start\"},R={marginLeft:\"3px\"},A={display:\"table-cell\",verticalAlign:\"middle\"};let _=class extends a{constructor(e,s){super(e,s),this.activeLayerInfos=null,this.headingLevel=3,this.messages=null,this.type=\"classic\"}render(){const e=this.activeLayerInfos,s=e?.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));return L(\"div\",null,s?.length?s:L(\"div\",{class:r.message},this.messages.noLegend))}_renderLegendForLayer(e,s){if(!e.ready)return null;const t=!!e.children.length,a=`${e.layer.uid}-version-${e.version}`,l=`${$}${s?`${s}-`:\"\"}${a}`,i=e.title?f({level:this.headingLevel,class:this.classes(b.heading,r.label)},e.title):null;if(t){const s=e.children.map((e=>this._renderLegendForLayer(e,a))).toArray();return L(\"div\",{class:this.classes(r.service,r.groupLayer),key:l},i,s)}{const s=e.legendElements;if(s&&!s.length)return null;const t=s.map((s=>this._renderLegendForElement(s,e.layer,e.effectList,l))).filter((e=>!!e));if(!t.length)return null;const a={[r.groupLayerChild]:!!e.parent};return L(\"div\",{class:this.classes(r.service,a),key:l},i,L(\"div\",{class:r.layer},t))}}_renderLegendForElement(e,s,t,a,l){const o=\"color-ramp\"===e.type,n=\"opacity-ramp\"===e.type,p=\"size-ramp\"===e.type;let d=null;const c=`${a}-${e.type}`;if(\"symbol-table\"===e.type||p){const a=e.infos.map((a=>this._renderLegendForElementInfo(a,s,t,p,e.legendType,c))).filter((e=>!!e));a.length&&(d=L(\"div\",{class:r.layerBody},a))}else\"color-ramp\"===e.type||\"opacity-ramp\"===e.type||\"heatmap-ramp\"===e.type||\"stretch-ramp\"===e.type?d=this._renderLegendForRamp(e,s.opacity,c):\"relationship-ramp\"===e.type?d=i(e,this.id,{opacity:s.opacity,effectList:t,ariaLabel:this.messages.previewRelationshipRampAriaLabel,key:c}):\"pie-chart-ramp\"===e.type?d=this._renderPieChartRamp(e,c):\"univariate-above-and-below-ramp\"===e.type?d=this._renderUnivariateAboveAndBelowRamp(e,s.opacity,t,c):\"univariate-color-size-ramp\"===e.type&&(d=this._renderUnivariateColorSizeRamp(e,s.opacity,t,c));if(!d)return null;const v=e.title;let h=null;if(\"string\"==typeof v)h=v;else if(v){const e=m(this.messages,v,o||n);h=y(v,o||n)&&v.title?`${v.title} (${e})`:e}const g=l?r.layerChildTable:r.layerTable,b=h?L(\"div\",{class:r.layerCaption},h):null,f={[r.layerTableSizeRamp]:p||!l};return L(\"div\",{class:this.classes(g,f),key:`${a}-table`},b,d)}_renderPieChartRamp(e,s){return L(\"div\",{afterCreate:v,bind:e.preview,key:`${s}-preview`})}_renderUnivariateAboveAndBelowRamp(e,s,t,a){const{sizeRampElement:l,colorRampElement:i}=o(e,s);if(!l)return null;const c=this.messages?.previewColorRampAriaLabel,m=n(l,\"above\",!0),y=n(l,\"below\",!0),h=12,g=p(i,{width:h,height:m,rampAlignment:\"vertical\",opacity:s,type:\"above\",effectList:t,ariaLabel:c}),b=p(i,{width:h,height:y,rampAlignment:\"vertical\",opacity:s,type:\"below\",effectList:t,ariaLabel:c}),f=d(l),u=l.infos.map((e=>e.label)),$=u.map(((e,s)=>{const t=2===s;return 0===s?L(\"div\",{class:e?g?r.univariateAboveAndBelowLabel:r.rampLabel:void 0,key:`${a}-color-ramp-above-label-${e??s}`},e):t?L(\"div\",null):null})),w=u.length-1,_=Math.floor(u.length/2),j=u.map(((e,s)=>s===_||s===w?L(\"div\",{class:e?g?r.univariateAboveAndBelowLabel:r.rampLabel:void 0,key:`${a}-color-ramp-below-label-${e??s}`},e):null)),k={display:\"table-cell\",verticalAlign:\"middle\"},I={marginTop:`${f}px`},x={height:`${m}px`},F={height:`${y}px`};return L(\"div\",{key:`${a}-container`,styles:C},L(\"div\",{class:r.layerBody},l.infos.map(((e,s)=>L(\"div\",{class:this.classes(r.layerRow,r.sizeRamp),key:`${a}-row-${s}`},L(\"div\",{afterCreate:v,bind:e.preview,class:r.symbol,styles:k}),g||s%2!=0?null:L(\"div\",{class:r.layerInfo},u[s]))))),g?L(\"div\",{styles:I},L(\"div\",{styles:R},L(\"div\",{styles:A},L(\"div\",{afterCreate:v,bind:g,class:r.rampContainer})),L(\"div\",{styles:A},L(\"div\",{class:r.rampLabelsContainer,styles:x},$))),L(\"div\",{styles:R},L(\"div\",{styles:A},L(\"div\",{afterCreate:v,bind:b,class:r.rampContainer})),L(\"div\",{styles:A},L(\"div\",{class:r.rampLabelsContainer,styles:F},j)))):null)}_renderUnivariateColorSizeRamp(e,s,t,a){const{sizeRampElement:l,colorRampElement:i}=c(e);if(!l)return null;const o=d(l),m=12,y=n(l,\"full\",!1),h=p(i,{width:m,height:y,rampAlignment:\"vertical\",opacity:s,type:\"full\",effectList:t,ariaLabel:this.messages?.previewColorRampAriaLabel}),g=l.infos.length-1,b=l.infos.map(((e,s)=>0===s||s===g?L(\"div\",{class:e.label?i?r.univariateAboveAndBelowLabel:r.rampLabel:void 0,key:`${a}-color-ramp-label-${e.label??s}`},e.label):null)),f={display:\"table-cell\",verticalAlign:\"middle\"},u={marginTop:`${o}px`},$={height:`${y}px`};return L(\"div\",{key:`${a}-container`,styles:C},L(\"div\",{class:r.layerBody},l.infos.map(((e,s)=>L(\"div\",{class:this.classes(r.layerRow,r.sizeRamp),key:`${a}-row-${s}`},L(\"div\",{afterCreate:v,bind:e.preview,class:r.symbol,styles:f}))))),L(\"div\",{styles:u},L(\"div\",{styles:R},L(\"div\",{styles:A},L(\"div\",{afterCreate:v,bind:h,class:r.rampContainer})),L(\"div\",{styles:A},L(\"div\",{class:r.rampLabelsContainer,styles:$},b)))))}_renderLegendForRamp(e,s,t){const a=e.infos,l=\"opacity-ramp\"===e.type,i=\"heatmap-ramp\"===e.type,o=\"stretch-ramp\"===e.type,n=e.preview,p=l?r.opacityRamp:\"\";n.className=`${r.colorRamp} ${p}`,null!=s&&(n.style.opacity=s.toString());const d=a.map(((e,s)=>L(\"div\",{class:e.label?r.rampLabel:void 0,key:`${t}-stop-${e.label??s}-label`},i?this.messages[e.label]||e.label:o?h(e,this.messages):e.label))),c={width:`${w}px`},m={height:n.style.height};return L(\"div\",{class:r.layerRow,key:`${t}-row`},L(\"div\",{class:r.symbolContainer,styles:c},L(\"div\",{afterCreate:v,bind:n,class:r.rampContainer})),L(\"div\",{class:r.layerInfo},L(\"div\",{class:r.rampLabelsContainer,styles:m},d)))}_renderLegendForElementInfo(e,s,t,a,l,i){const o=`${i}-${e.label}`;if(e.type)return this._renderLegendForElement(e,s,t,o,!0);let n=null;const p=g(s,l);if(e.preview?n=L(\"div\",{afterCreate:v,bind:e.preview,class:r.symbol}):e.src&&(n=this._renderImage(e,s,p)),!n)return null;const d={[r.imageryLayerInfoStretched]:p},c={[r.imageryLayerInfoStretched]:p,[r.sizeRamp]:!p&&a};return L(\"div\",{class:r.layerRow,key:`${o}-row`},L(\"div\",{class:this.classes(r.symbolContainer,c)},n),L(\"div\",{class:this.classes(r.layerInfo,d)},m(this.messages,e.label,!1)||\"\"))}_renderImage(e,s,t){const{label:a,src:l,opacity:i}=e,o={[r.imageryLayerStretchedImage]:t,[r.symbol]:!t},n={opacity:`${null!=i?i:s.opacity}`};return L(\"img\",{alt:m(this.messages,a,!1),\"aria-label\":m(this.messages,a,!1),border:0,class:this.classes(o),height:e.height,src:l,styles:n,width:e.width})}};e([s()],_.prototype,\"activeLayerInfos\",void 0),e([s()],_.prototype,\"headingLevel\",void 0),e([s(),u(\"esri/widgets/Legend/t9n/Legend\")],_.prototype,\"messages\",void 0),e([s({readOnly:!0})],_.prototype,\"type\",void 0),_=e([t(\"esri.widgets.Legend.styles.Classic\")],_);const j=_;export{j as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{on as t,watch as s,initial as i}from\"../core/reactiveUtils.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{cast as o}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/RandomLCG.js\";import\"../core/has.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import a from\"./Widget.js\";import l from\"./Legend/LegendViewModel.js\";import d from\"./Legend/styles/Card.js\";import p from\"./Legend/styles/Classic.js\";import{globalCss as c}from\"./support/globalCss.js\";import\"./support/widgetUtils.js\";import{messageBundle as y}from\"./support/decorators/messageBundle.js\";import{tsx as h}from\"./support/jsxFactory.js\";const v={base:\"esri-legend\"};let g=class extends a{constructor(e,t){super(e,t),this.headingLevel=3,this.messages=null,this.style=new p,this.viewModel=new l}initialize(){this.addHandles([t((()=>this.view),\"resize\",(()=>this.scheduleRender())),t((()=>this.activeLayerInfos),\"change\",(()=>this._refreshActiveLayerInfos(this.activeLayerInfos))),s((()=>this.headingLevel),(e=>{const{style:t}=this;t&&(t.headingLevel=e)})),s((()=>this.style),((e,t)=>{t&&e!==t&&t.destroy(),e&&(e.activeLayerInfos=this.activeLayerInfos,\"card\"===e.type&&(e.view=this.view),e.headingLevel=this.headingLevel)}),i)])}get activeLayerInfos(){return this.viewModel.activeLayerInfos}set activeLayerInfos(e){this.viewModel.activeLayerInfos=e}get basemapLegendVisible(){return this.viewModel.basemapLegendVisible}set basemapLegendVisible(e){this.viewModel.basemapLegendVisible=e}get groundLegendVisible(){return this.viewModel.groundLegendVisible}set groundLegendVisible(e){this.viewModel.groundLegendVisible=e}get hideLayersNotInCurrentView(){return this.viewModel.hideLayersNotInCurrentView}set hideLayersNotInCurrentView(e){this.viewModel.hideLayersNotInCurrentView=e}get keepCacheOnDestroy(){return this.viewModel.keepCacheOnDestroy}set keepCacheOnDestroy(e){this.viewModel.keepCacheOnDestroy=e}get respectLayerDefinitionExpression(){return this.viewModel.respectLayerDefinitionExpression}set respectLayerDefinitionExpression(e){this.viewModel.respectLayerDefinitionExpression=e}get respectLayerVisibility(){return this.viewModel.respectLayerVisibility}set respectLayerVisibility(e){this.viewModel.respectLayerVisibility=e}get icon(){return\"legend\"}set icon(e){this._overrideIfSome(\"icon\",e)}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get layerInfos(){return this.viewModel.layerInfos}set layerInfos(e){this.viewModel.layerInfos=e}castStyle(e){if(e instanceof d||e instanceof p)return e;if(\"string\"==typeof e)return\"card\"===e?new d:new p;if(e&&\"string\"==typeof e.type){const t={...e};delete t.type;return new(\"card\"===e.type?d:p)(t)}return new p}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){return h(\"div\",{class:this.classes(v.base,c.widget,this.style instanceof p?c.panel:null)},this.style.render())}_refreshActiveLayerInfos(e){e.forEach((e=>{this.removeHandles(`version_${e.layer.uid}`),this._renderOnActiveLayerInfoChange(e)})),this.scheduleRender()}_renderOnActiveLayerInfoChange(e){const r=s((()=>e.version),(()=>this.scheduleRender()));this.addHandles(r,`version_${e.layer.uid}`);const o=t((()=>e.children),\"change\",(()=>e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))),i);this.addHandles(o,`version_${e.layer.uid}`),e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))}};e([r()],g.prototype,\"activeLayerInfos\",null),e([r()],g.prototype,\"basemapLegendVisible\",null),e([r()],g.prototype,\"groundLegendVisible\",null),e([r()],g.prototype,\"headingLevel\",void 0),e([r()],g.prototype,\"hideLayersNotInCurrentView\",null),e([r()],g.prototype,\"keepCacheOnDestroy\",null),e([r()],g.prototype,\"respectLayerDefinitionExpression\",null),e([r()],g.prototype,\"respectLayerVisibility\",null),e([r()],g.prototype,\"icon\",null),e([r()],g.prototype,\"label\",null),e([r()],g.prototype,\"layerInfos\",null),e([r(),y(\"esri/widgets/Legend/t9n/Legend\")],g.prototype,\"messages\",void 0),e([r()],g.prototype,\"style\",void 0),e([o(\"style\")],g.prototype,\"castStyle\",null),e([r()],g.prototype,\"view\",null),e([r()],g.prototype,\"viewModel\",void 0),g=e([n(\"esri.widgets.Legend\")],g);const u=g;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import{isSymbol3D as l}from\"../../../symbols.js\";import{round as t,numDigits as n,percentChange as o}from\"../../../renderers/support/numberUtils.js\";import{updateReferenceSizeSymbol as i}from\"../../../smartMapping/renderers/support/referenceSizeUtils.js\";import{applyCIMSymbolColor as s}from\"../../../symbols/support/cimSymbolUtils.js\";import{isVolumetricSymbol as r,getSymbolOutlineSize as a}from\"../../../symbols/support/utils.js\";import{getReferenceSizeAuthoringInfoVisualVariable as u,getSymbolForFlowRenderer as c,createStopLabel as m}from\"./utils.js\";import\"../../support/widgetUtils.js\";import{isDarkTheme as p}from\"../../../support/themeUtils.js\";import f from\"../../../symbols/SimpleMarkerSymbol.js\";import y from\"../../../symbols/SimpleLineSymbol.js\";const b=30,h=12,d=24,w=[255,255,255],S=[200,200,200],g=[128,128,128],v=20,z=5;function j(e){return\"esri.symbols.SimpleMarkerSymbol\"===e.declaredClass}function k(e){return\"esri.symbols.PictureMarkerSymbol\"===e.declaredClass}function V(e){return\"esri.symbols.SimpleLineSymbol\"===e.declaredClass}function x(e){return\"esri.symbols.TextSymbol\"===e.declaredClass}function I(e,l){const t=e.length-1;return e.map(((e,n)=>m(e,n,t,l)))}async function L(e,l,n,o,i,s,c){const m=l.legendOptions,p=m?.customValues,f=c||await D(e,n),y=l.stops,b=!!f,h=!!p,w=null!=l.minSize&&null!=l.maxSize,S=y&&y.length>1,g=!!l.target;if(!b||!h&&!(w||S&&!g))return;const v=r(f);let z=!1,j=null,k=null;j=v&&!S?t([l.minDataValue,l.maxDataValue]):p??await T(l,f,o,i?.type);const V=e?.authoringInfo,x=\"univariate-color-size\"===V?.type,L=x&&\"above-and-below\"===V?.univariateTheme,q=!!u(e);if(!j&&S&&(j=y.map((e=>e.value)),z=y.some((e=>!!e.label)),\"flow\"===e.type&&(j=t(j)),z&&(k=y.map((e=>e.label)))),v&&null!=j&&j?.length>2&&!L&&(j=[j[0],j[j.length-1]]),!j)return null;x&&5!==j?.length&&(j=P({minSize:j[0],maxSize:j[j.length-1]}));const B=v?U(e,j):null,E=a(f),R=z?null:I(j,s);return(await Promise.all(j.map((async(t,s)=>{const r=v?B[s]:await H(l,f,t,o,i?.type);return{value:t,symbol:!q||\"class-breaks\"!==e.type&&\"unique-value\"!==e.type?O(L&&\"class-breaks\"===e.type?C(e,s):f,r):M(e,r,l.maxSize,n)??f,label:z?k[s]:R[s],size:q?d:r,outlineSize:E}})))).reverse()}function U(e,l){const t=e?.authoringInfo,n=\"univariate-color-size\"===t?.type;let o=[h,b];if(n){const e=l[0],t=l[l.length-1],n=h,i=b;o=l.map((l=>n+(l-e)/(t-e)*(i-n)))}return n&&\"below\"===t?.univariateTheme&&o.reverse(),o}function M(l,t,n,o){const s=\"class-breaks\"===l.type,r=s?l.classBreakInfos?.[0]?.symbol?.clone():l.uniqueValueInfos?.[0]?.symbol?.clone();return r&&\"type\"in r&&\"cim\"===r.type?(i(r,{color:o??(s?null:new e(S)),innerDotSize:t*(d/n)||1,outerRingSize:d}),r):null}function C(e,l){const t=e.classBreakInfos,n=t.length,o=n<2||!(l>=2)?t[0].symbol.clone():t[n-1].symbol.clone(),i=e.visualVariables?.some((e=>\"color\"===e.type));return i&&(o.type.includes(\"3d\")?B(o):E(o)),o}async function D(e,l){if(\"flow\"===e.type)return c(e,l);if(\"pie-chart\"===e.type)return new f({color:null,outline:e.outline?.width?e.outline:new y});let t=null,n=null;if(\"simple\"===e.type)t=e.symbol;else if(\"class-breaks\"===e.type){const l=e.classBreakInfos;t=l&&l[0]&&l[0].symbol,n=l.length>1}else if(\"unique-value\"===e.type){const l=e.uniqueValueInfos;t=l?.[0]?.symbol,n=null!=l&&l.length>1}return!t||q(t)?null:(t=t.clone(),(l||n)&&(t.type.includes(\"3d\")?B(t):E(t)),t)}function q(e){if(e){if(l(e)){return!!e.symbolLayers&&e.symbolLayers.some((e=>e&&\"fill\"===e.type))}return e.type.includes(\"fill\")}return!1}function B(e){\"line-3d\"===e.type?e.symbolLayers.forEach((e=>{e.material={color:g}})):e.symbolLayers.forEach((e=>{\"icon\"!==e.type||e.resource?.href?e.material={color:S}:(e.material={color:w},e.outline={color:g,size:1.5})}))}function E(l){const t=p();if(\"cim\"===l.type)s(l,new e(S));else if(l.type.includes(\"line\"))l.color=g;else if(l.color=t?g:w,\"simple-marker\"===l.type)if(l.outline){const e=l.outline?.color?.toHex();\"#ffffff\"===e&&(l.outline.color=g)}else l.outline={color:g,width:1.5}}async function T(e,l,n,o){const i=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getSizeRangeAtScale(e,n,o),s=i&&P(i);if(!i||!s)return;let r=s.map((l=>R(l,e,i)));r=t(r);for(let t=1;t<r.length-1;t++){const i=await A(e,l,r[t],r[t-1],n,o);i&&(r[t]=i[0],s[t]=i[1])}return r}function P(e){const l=e.minSize,t=e.maxSize,n=z,o=(t-l)/(n-1),i=[];for(let s=0;s<n;s++)i.push(l+o*s);return i}function R(e,l,t){const n=t.minSize,o=t.maxSize,i=l.minDataValue,s=l.maxDataValue;let r;if(e<=n)r=i;else if(e>=o)r=s;else{r=(e-n)/(o-n)*(s-i)+i}return r}async function A(e,l,i,s,r,a){const u=await H(e,l,i,r,a),c=await H(e,l,s,r,a),m=n(i),p=m.fractional,f=v;let y=m.integer,b=null,h=null;i>0&&i<1&&(b=10**p,y=n(i*=b).integer);for(let n=y-1;n>=0;n--){const s=10**n;let m=Math.floor(i/s)*s,p=Math.ceil(i/s)*s;null!=b&&(m/=b,p/=b);let y=(m+p)/2;[,y]=t([m,y,p],{indexes:[1]});const d=await H(e,l,m,r,a),w=await H(e,l,p,r,a),S=await H(e,l,y,r,a),g=o(u,d,c,null),v=o(u,w,c,null),z=o(u,S,c,null);let j=g.previous<=f,k=v.previous<=f;if(j&&k&&(g.previous<=v.previous?(j=!0,k=!1):(k=!0,j=!1)),j?h=[m,d]:k?h=[p,w]:z.previous<=f&&(h=[y,S]),h)break}return h}async function H(e,l,t,n,o){const{getSize:i}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return i(e,t,{scale:n,view:o,shape:\"simple-marker\"===l.type?l.style:null})}function O(e,t){const n=e.clone();if(l(n))r(n)||n.symbolLayers.forEach((e=>{\"fill\"!==e.type&&(e.size=t)}));else if(j(n))n.size=t;else if(k(n)){const e=n.width,l=n.height;n.height=t,n.width=t*(e/l)}else V(n)?n.width=t:x(n)&&n.font&&(n.font.size=t);return n}export{L as getRampStops,M as getReferenceSizeSymbol,b as realWorldMaxSize,h as realWorldMinSize};\n"],"names":["n","visible","definitionExpression","labelingInfo","labelsVisible","opacity","minScale","maxScale","renderer","source","y","r","constructor","e","super","this","floors","scale","destroy","layer","dynamicLayers","hasDynamicLayers","visibleSublayers","map","o","toExportImageJSON","length","JSON","stringify","l","serviceSublayers","gdbVersion","_get","_set","removeHandles","addHandles","allSublayers","on","notifyChange","propertyName","layers","id","join","layerDefs","filter","floorInfo","reduce","t","i","s","version","commitProperty","sublayers","a","forEach","unshift","some","toJSON","dpi","format","imageFormat","transparent","imageTransparency","readOnly","prototype","type","Number","floorField","view","push","u1","u2","u4","u8","s8","u16","s16","u32","s32","f32","f64","MAX_VALUE","unknown","c64","c128","u","startsWith","c","f","isNaN","depthCount","pixels","statistics","pixelType","bandMasks","mask","Uint8Array","fill","h","b","m","minValue","d","maxValue","EPSILON","p","slice","N","g","customFloatTolerance","Math","abs","updateStatistics","flatten","_ref","originIdOf","mapLayerId","SERVICE","reverse","_ref2","toArray","layerDefinition","declaredClass","cimFallbackEnabled","symbol","error","uniqueValueInfos","defaultSymbol","classBreakInfos","Array","isArray","details","sort","symbolErrors","rings","markerGraphics","symbolLayers","size","v","geometry","S","color","z","colorLocked","outerRingSize","innerDotSize","primitiveOverrides","data","primitiveName","OuterRing","InnerDot","featureReduction","_from","_to","_final","_current","_time","duration","has","effects","effect","_transitionTo","getLogger","warn","final","hasEffects","transitioning","_updateForScale","canTransitionTo","transitionStep","_applyTimeTransition","endTransition","_","min","interpolate","value","he","me","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultiPatch","fe","le","outline","width","pe","re","style","ge","be","Se","_e","we","ve","Le","Ee","Ce","Fe","Ve","xe","De","ze","Oe","Ue","ke","Be","Ne","Ge","async","Je","ne","ae","label","Ze","path","Ke","Xe","_hasColorRamp","_hasOpacityRamp","_hasSizeRamp","_webStyleSymbolCache","Map","_dotDensityUrlCache","_scaleDrivenSizeVariable","_hasClusterSizeVariable","_layerDefinitionExpression","_layerDefinitionExpressionClause","children","layerView","legendElements","parent","hideLayersNotInCurrentView","keepCacheOnDestroy","respectLayerDefinitionExpression","respectLayerVisibility","sublayerIds","title","initialize","added","removed","uid","ready","effectList","_getParentLayerOpacity","_isGroupActive","isScaleDriven","_isRendererScaleDriven","_isLayerScaleDriven","buildLegendElementsForFeatureCollections","_isLayerInCurrentView","from","E","_getRendererLegendElements","featureSet","features","drawingInfo","I","read","geometryType","name","Promise","allSettled","status","buildLegendElementsForRenderer","buildLegendElementsForFeatureReduction","_getLegendElementsForFeatureReduction","buildLegendElementsForTools","Pe","_constructLegendElementsForVoxelLayer","Me","_constructLegendElementsForWMTSlayer","Ae","_constructLegendElementsForWMSSublayers","je","_constructLegendElementsForBuildingSceneLayer","_constructLegendElementsForSublayers","rasterFunction","functionName","bandIds","_getLegendLayers","then","default","_generateSymbolTableElementForLegendLayer","infos","catch","updating","createQuery","extent","queryFeatureCount","valueExpression","test","visualVariables","_isScaleDrivenSizeVariable","_hasScaleDrivenSymbols","_isScaleDrivenSymbol","valueExpressionInfo","expression","minSize","maxSize","loaded","sourceJSON","currentVariableId","getVariableStyles","getVariableStyle","uniqueValues","enabled","transferFunction","colorStops","stretchRange","Z","K","floor","log10","notation","minimumSignificantDigits","maximumSignificantDigits","se","preview","j","ariaLabel","_getAllInfos","_getSymbolPreview","activeLayer","styleId","styles","find","legendUrl","src","customParameters","customLayerParameters","_generateLegendElementsForWMSSublayers","findSublayerById","legendEnabled","_generateSymbolTableElementForWMSSublayer","_generateSymbolTableElementForLegendUrl","String","responseType","resolve","_legendRequest","exportImageServiceParameters","renderingRule","functionDefinition","raster","viewId","url","replace","indexOf","toLowerCase","ue","encodeURI","query","_generateLegendElementsForBuildingSublayers","sublayer","_generateLegendElementsForSublayers","findSublayerForSubtypeCode","_isSublayerInScale","load","_generateSymbolTableElementForSublayer","set","layerId","get","subLayerIds","defaultVisibility","legend","_isLegendLayerInScale","layerName","_getRendererTitle","legendType","_sanitizeLegendForSublayer","legendGroups","heading","_generateSymbolTableElementInfosForLegendLayer","groupId","imageData","height","tileInfo","lods","max","values","splice","arguments","undefined","R","Te","Re","Ie","_constructPointCloudRendererLegendElements","_constructDotDensityRendererLegendElements","_loadRenderer","_constructPieChartRendererLegendElements","_constructRendererLegendElements","_getClusterRenderer","_getPointCloudRendererTitle","legendOptions","field","colorClassBreakInfos","_getAppliedCloneSymbol","stops","k","B","colorUniqueValueInfos","symbolConfig","applyColorModulation","colorModulation","_getElementInfoForDotDensity","valueExpressionTitle","backgroundColor","dotSize","w","O","shape","x","stroke","offset","T","effectView","calculateDotValue","unit","round","attributes","othersCategory","threshold","defaultColor","defaultLabel","_getVisualVariableLegendElements","Boolean","P","holePercentage","backgroundFillSymbol","X","fieldsIndex","Set","L","fieldNames","every","Y","authoringInfo","$e","univariateTheme","We","findIndex","H","numClasses","field1","field2","focus","$","normalizationField","_getFieldAlias","normField","clone","angle","add","W","_checkDefinitionExpressionForUVR","field3","fieldDelimiter","uniqueValueGroups","classes","value2","value3","_getDomainName","_isUnclassedRenderer","_updateInfosForClassedSizeRenderer","qe","_constructTileImageryStretchRendererElements","He","customStatistics","serviceRasterInfo","generateRasterInfo","C","bandCount","_getStretchLegendElements","_getServerSideLegend","bandInfos","_createSymbolTableElementMultiBand","colormapInfos","pointSymbol","lineSymbol","polygonSymbol","_getClusterSymbol","outputUnit","attributeField","getClassBreakInfos","getDefaultSymbol","_isTallSymbol","isDefault","applyScaleDrivenSize","isTall","isSquareFill","toString","split","Qe","testFeature","setTimeout","concat","symbolizer","rasterInfo","hasStandardTime","getStandardTimeValue","keys","colorRamp","isAutoGenerated","_getSizeLegendElement","_getClusterTitle","G","ee","colorName","bandName","te","M","J","Q","axis","getSize","A","cimOptions","allowScalingUp","viewParams","viewingMode","effectiveClusterRenderer","useMinValue","useMaxValue","featuresTilingScheme","getClosestInfoForScale","level","getDisplayStatistics","clusterMinSize","minDataValue","clusterMaxSize","maxDataValue","U","target","V","showLegend","_fetchSymbol","apply","_applySymbolToRenderer","Error","fetchCIMSymbol","cache","fetchSymbol","toRgba","includes","_applyColorTo3dSymbol","D","material","sizeStops","F","at","all","_getRampTitle","ie","timeZone","q","getField","getFieldDomain","excludeImpliedDomains","getName","popupTemplate","fieldInfos","fieldName","showCount","ratio","ratioPercent","ratioPercentTotal","normalizationType","normByPct","fields","alias","dependsOn","Ye","ofType","_layerViewByLayerId","_layerInfosByLayerViewId","_activeLayerInfosByLayerViewId","_activeLayerInfosWithNoParent","activeLayerInfos","basemapLegendVisible","groundLegendVisible","layerInfos","_viewHandles","_refresh","_destroyViewActiveLayerInfos","state","_stateHandles","_resetAll","_watchPropertiesAndAllLayerViews","removeAll","Object","_destroyViewActiveLayerInfo","remove","allLayerViews","_allLayerViewsChangeHandle","_propertiesChangeHandle","moved","_generateLayerViews","_filterLayerViewsByLayerInfos","_isLayerViewSupported","_generateActiveLayerInfo","_sortActiveLayerInfos","removeMany","_filterLayerViews","_collectLayerViews","_hasLayerInfo","_isLayerUIDMatching","_hasLayerUID","_isLayerActive","_buildActiveLayerInfo","_layerActiveHandle","hasHandles","_titleHandle","_constructLegendElements","stationary","_scaleHandle","_legendEnabledHandle","_addActiveLayerInfo","_removeActiveLayerInfo","featureCollections","activated","base","stacked","carouselTitle","indicator","intervalSeparator","imageryLayerStretchedImage","imageLabel","layerCaption","labelElement","layerRow","labelCell","message","rampLabel","section","relationshipSection","serviceCaptionText","serviceContent","service","groupLayer","groupLayerChild","sizeRampRow","symbolRow","symbolCell","indicatorContainer","intervalSeparatorsContainer","relationshipLabelContainer","labelContainer","serviceCaptionContainer","symbolContainer","sizeRampContainer","sizeRampPreview","pieChartRampPreview","rampContainer","sizeRampHorizontal","rampLabelsContainer","layerInfo","univariateAboveAndBelowColorRamp","univariateAboveAndBelowSymbol","x1","x2","y1","y2","document","createElement","className","append","bind","tagName","appendChild","align","rampAlignment","sizeRampElement","colorRampElement","_ref3","_ref4","dotValue","clusterCountTitle","window","devicePixelRatio","_hasIndicators","_selectedSectionName","_sectionNames","_sectionMap","headingLevel","layout","messages","messagesCommon","removeAllHandles","_watchForSectionChanges","render","container","clientWidth","_renderLegendForLayer","pagination","pageText","index","total","class","key","onclick","_selectSection","onkeydown","_focusSection","role","tabIndex","noLegend","getAttribute","_switchSectionOnArrowPress","getElementById","_generateSectionNames","_generateSectionNamesForActiveLayerInfo","_getSectionName","_renderLegendForElement","_renderLegendForElementInfo","properties","_renderLegendForRamp","_renderSizeRamp","_renderPieChartRamp","previewRelationshipRampAriaLabel","_renderUnivariateAboveAndBelowRamp","_renderUnivariateColorSizeRamp","afterCreate","previewColorRampAriaLabel","marginTop","display","marginRight","marginLeft","flexDirection","justifyContent","isBright","background","textShadow","border","_renderImage","alt","_renderSizeRampLines","outlineSize","resource","primitive","getContext","beginPath","moveTo","lineTo","strokeStyle","marginBottom","cloneNode","_getRampStopLabel","colors","layerTable","layerTableSizeRamp","layerChildTable","layerBody","layerCell","imageryLayerCellStretched","imageryLayerInfoStretched","sizeRamp","opacityRamp","borderlessRamp","rampTick","rampFirstTick","rampLastTick","univariateAboveAndBelowLabel","alignItems","verticalAlign","viewModel","scheduleRender","_refreshActiveLayerInfos","icon","_overrideIfSome","widgetLabel","castStyle","widget","panel","_renderOnActiveLayerInfoChange","customValues","href","toHex","getSizeRangeAtScale","fractional","integer","ceil","indexes","previous","font"],"sourceRoot":""}