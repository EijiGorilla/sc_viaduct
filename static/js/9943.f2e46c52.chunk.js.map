{"version":3,"file":"static/js/9943.f2e46c52.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/analysis/LineOfSightAnalysisObserver.js","../node_modules/@arcgis/core/analysis/LineOfSightAnalysisTarget.js","../node_modules/@arcgis/core/analysis/featureReferenceUtils.js","../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisResult.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightComputation.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightIntersectionResult.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightRayIntersector.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightController.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightConfiguration.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightManipulators.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightTool.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualElement.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisView3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js","../node_modules/@arcgis/core/views/support/geometry2dUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{featureReferenceEquals as r,featureReferenceProperty as e}from\"./featureReferenceUtils.js\";import t from\"../core/Accessor.js\";import{ClonableMixin as s}from\"../core/Clonable.js\";import{JSONSupportMixin as i}from\"../core/JSONSupport.js\";import{equalsMaybe as p}from\"../core/maybe.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import{persistable as m}from\"../core/accessorSupport/decorators/persistable.js\";import c from\"../geometry/Point.js\";import f from\"../symbols/support/ElevationInfo.js\";let l=class extends(i(s(t))){constructor(o){super(o),this.position=null,this.elevationInfo=null,this.feature=null}equals(o){return p(this.position,o.position)&&p(this.elevationInfo,o.elevationInfo)&&r(this.feature,o.feature)}};o([a({type:c,json:{write:{isRequired:!0}}})],l.prototype,\"position\",void 0),o([a({type:f}),m()],l.prototype,\"elevationInfo\",void 0),o([a(e)],l.prototype,\"feature\",void 0),l=o([n(\"esri.analysis.LineOfSightAnalysisObserver\")],l);const u=l;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{featureReferenceEquals as r,featureReferenceProperty as t}from\"./featureReferenceUtils.js\";import{Clonable as e}from\"../core/Clonable.js\";import{JSONSupportMixin as s}from\"../core/JSONSupport.js\";import{equalsMaybe as i}from\"../core/maybe.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import{persistable as n}from\"../core/accessorSupport/decorators/persistable.js\";import m from\"../geometry/Point.js\";import c from\"../symbols/support/ElevationInfo.js\";let l=class extends(s(e)){constructor(o){super(o),this.position=null,this.elevationInfo=null,this.feature=null}equals(o){return i(this.position,o.position)&&i(this.elevationInfo,o.elevationInfo)&&r(this.feature,o.feature)}};o([p({type:m}),n()],l.prototype,\"position\",void 0),o([p({type:c}),n()],l.prototype,\"elevationInfo\",void 0),o([p(t)],l.prototype,\"feature\",void 0),l=o([a(\"esri.analysis.LineOfSightAnalysisTarget\")],l);const f=l;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{a as e,l as t,b as r}from\"../chunks/vec32.js\";import{create as n}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as l,fromPoints as o}from\"../geometry/support/ray.js\";import{StoreResults as u}from\"../views/3d/webgl-engine/lib/IntersectorInterfaces.js\";import{toGraphic as i,hasLod as a,getIntersectedFeatureBSRadius as s}from\"../views/3d/webgl-engine/lib/intersectorUtilsConversions.js\";function c(e,t){return d(e)===d(t)}function d(e){if(null==e)return null;const t=null!=e.layer?e.layer.id:\"\";let r=null;return r=null!=e.objectId?e.objectId:null!=e.layer&&\"objectIdField\"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==r?null:`o-${t}-${r}`}const b={json:{write:{writer:f,target:{\"feature.layerId\":{type:[Number,String]},\"feature.objectId\":{type:[Number,String]}}},origins:{\"web-scene\":{read:I}}}};function f(e,t){null!=e?.layer?.objectIdField&&null!=e.attributes&&(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})}function I(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:\"ObjectId\"},attributes:{ObjectId:e.objectId}}}function m(l,a,s,c){const{sceneIntersectionHelper:b}=l,{observer:f,observerFeatureId:I,targetFeatureId:m,target:g}=s;if(null==I&&null==m)return;c||(c=e=>e),e(p,f,g);const v=t(p),S=1;r(p,f,p,S/v);const F=o(p,g,y);a.options.store=u.ALL,b.intersectToolIntersectorRay(F,a);let N=null,w=null,R=null,A=null;for(const e of a.results.all){const t=i(e,l);if(null==t||null==e.distanceInRenderSpace)continue;const r=d(t);null!=r&&(null!=I&&r===I&&(N??=c(j(e,l,v)),e.distanceInRenderSpace-S<N&&(R=e)),null!=m&&r===m&&(w??=c(j(e,l,v)),null==A&&e.distanceInRenderSpace-S<v&&v-e.distanceInRenderSpace+S<w&&(A=e)))}const{observerAdjusted:T,targetAdjusted:h}=s;R?.getIntersectionPoint(T)?s.observerSurfaceNormal=R.getTransformedNormal(n()):s.observerSurfaceNormal=null,A?.getIntersectionPoint(h)?s.targetSurfaceNormal=A.getTransformedNormal(n()):s.targetSurfaceNormal=null}function j(e,t,r){if(a(e)){const n=s(e,t);if(null!=n)return Math.min(n*g,r)}return 1e-5*r}const g=.05,y=l(),p=n();export{c as featureReferenceEquals,b as featureReferenceProperty,d as getFeatureId,m as updatePointsFromFeatureReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{EsriPromiseMixin as r}from\"../../../core/Promise.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";const s=s=>{let n=class extends(r(s)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return null==this.parent||this.parent.visible&&!this.parent.suspended}set visible(e){this._overrideIfSome(\"visible\",e)}forceInteractiveForViewModel(){return this._interactiveViewModelCount++,t((()=>this._interactiveViewModelCount--))}};return e([i({constructOnly:!0})],n.prototype,\"parent\",void 0),e([i({constructOnly:!0})],n.prototype,\"view\",void 0),e([i({type:Boolean})],n.prototype,\"interactive\",null),e([i()],n.prototype,\"_userInteractive\",void 0),e([i({readOnly:!0})],n.prototype,\"updating\",null),e([i()],n.prototype,\"visible\",null),e([i()],n.prototype,\"_interactiveViewModelCount\",void 0),n=e([o(\"esri.views.3d.analysis.AnalysisView3D\")],n),n};export{s as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";let s=class extends t{constructor(o){super(o),this.target=null,this.intersectedGraphic=null,this.intersectedLocation=null,this.elevationAlignedTargetLocation=null,this.visible=void 0}};o([e()],s.prototype,\"target\",void 0),o([e()],s.prototype,\"intersectedGraphic\",void 0),o([e()],s.prototype,\"intersectedLocation\",void 0),o([e()],s.prototype,\"elevationAlignedTargetLocation\",void 0),o([e({type:Boolean})],s.prototype,\"visible\",void 0),s=o([r(\"esri.views.3d.analysis.LineOfSightAnalysisResult\")],s);const i=s;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Accessor.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";let i=class extends o{constructor(t){super(t),this.elevationAlignedTargetLocation=null,this.inputPoints={isValid:!1,observer:s(),observerSurfaceNormal:null,observerFeatureId:null,target:s(),targetSurfaceNormal:null,targetFeatureId:null,observerAdjusted:s(),targetAdjusted:s()},this.computationResult={start:s(),end:s(),intersection:s(),isValid:!1,isTargetVisible:!1},this.result=null}notifyResultChanged(){this.notifyChange(\"computationResult\")}notifyInputPointsChanged(){this.notifyChange(\"inputPoints\")}};t([e()],i.prototype,\"target\",void 0),t([e()],i.prototype,\"elevationAlignedTargetLocation\",void 0),t([e()],i.prototype,\"inputPoints\",void 0),t([e()],i.prototype,\"computationResult\",void 0),t([e()],i.prototype,\"result\",void 0),i=t([r(\"esri.views.3d.analysis.LineOfSight.LineOfSightComputation\")],i);export{i as LineOfSightComputation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Accessor.js\";import{equals as t}from\"../../../../core/arrayUtils.js\";import{clone as s}from\"../../../../core/lang.js\";import{equalsMaybe as i}from\"../../../../core/maybe.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{H as n}from\"../../../../chunks/vec32.js\";import{clone as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{equals as a}from\"../../../../geometry/support/ray.js\";var m;let y=m=class extends o{constructor(r){super(r)}clone(){return new m({type:this.type,id:s(this.id),mapPoint:s(this.mapPoint),renderPoint:c(this.renderPoint),normal:s(this.normal),ray:s(this.ray),graphic:this.graphic})}equals(r){return this.type===r.type&&this.id===r.id&&i(this.mapPoint,r.mapPoint)&&n(this.renderPoint,r.renderPoint)&&t(this.normal,r.normal)&&a(this.ray,r.ray)&&this.graphic===r.graphic}};r([e()],y.prototype,\"type\",void 0),r([e({constructOnly:!0})],y.prototype,\"id\",void 0),r([e({constructOnly:!0})],y.prototype,\"mapPoint\",void 0),r([e({constructOnly:!0})],y.prototype,\"renderPoint\",void 0),r([e({constructOnly:!0})],y.prototype,\"normal\",void 0),r([e({constructOnly:!0})],y.prototype,\"graphic\",void 0),r([e({constructOnly:!0})],y.prototype,\"ray\",void 0),y=m=r([p(\"esri.views.3d.analysis.LineOfSight.LineOfSightIntersectionResult\")],y);export{y as LineOfSightIntersectionResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import r from\"../../../../core/Accessor.js\";import{screenPointObjectToArray as t}from\"../../../../core/screenUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{s as i,c as n,n as c,h as a,g as l}from\"../../../../chunks/vec32.js\";import{clone as m,create as p}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as u,copy as d,fromPoints as f}from\"../../../../geometry/support/ray.js\";import{sv2d as g}from\"../../../../geometry/support/vectorStacks.js\";import{getObjectId as y}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{LineOfSightIntersectionResult as h}from\"./LineOfSightIntersectionResult.js\";import{fromScreen as j}from\"../../support/geometryUtils/ray.js\";import{isTerrainIntersectorResult as I}from\"../../terrain/Intersector.js\";import{newIntersector as v}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as w,IntersectorType as b}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{toGraphic as R}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";import P from\"../../../../geometry/Point.js\";let L=class extends r{constructor(e){super(e),this._terrainIntersectionOptionsLayerUids=new Set([\"terrain\"])}initialize(){this.intersector=v(this.view.state.viewingMode),this.intersector.options.hud=!1,this.intersector.options.store=w.MIN}getScreenPointIntersection(e){const r=t(e,g.get()),o=j(this.view.state.camera,r,U);return this._getRayIntersection(o)}_getRayIntersection(e,r){const{view:t,intersector:o}=this;if(null==e||null==t.sceneIntersectionHelper)return null;o.options.store=w.MIN,t.sceneIntersectionHelper.intersectToolIntersectorRay(e,o,r);const s=o.results.min;if(null==s.target)return null;const n=p();if(!s.getIntersectionPoint(n))return null;if(null!=r?.maxDistance&&i(n,e.origin)>r.maxDistance**2)return null;const c=t.renderCoordsHelper.fromRenderCoords(n,new P({spatialReference:t.spatialReference})),a=m(s.normal);if(I(s))return new h({type:b.TERRAIN,id:s.target.lij.slice(),mapPoint:c,renderPoint:n,normal:a,ray:d(e),graphic:null});const l=R(s,t);if(null==l)return null;const{layer:u,sourceLayer:f}=l,g=\"scene\"===f?.type?y(l,f.objectIdField):l.uid;return new h({type:b.OBJECT,id:`${u?.uid}/${g}`,mapPoint:c,renderPoint:n,normal:a,ray:d(e),graphic:l})}updateFromGroundIntersection(e,r,t){const o=S,s=x,i=C,p=O;n(s,e),this.view.renderCoordsHelper.worldUpAtPosition(s,i),c(i,i);const u=this.view.basemapTerrain.visibleElevationBounds,d=(r>=0?1:-1)*((u?Math.abs(u.max-u.min):100)+Math.abs(r));a(p,i,d),l(o,s,p),f(o,s,U);const g=this._getRayIntersection(U,{include:this._terrainIntersectionOptionsLayerUids,maxDistance:d});if(null!=g){const e=O;return a(e,i,r),l(t,g.renderPoint,e),m(g.normal)}return n(t,e),null}};e([o()],L.prototype,\"view\",void 0),e([o()],L.prototype,\"intersector\",void 0),L=e([s(\"esri.views.3d.analysis.LineOfSight.LineOfSightRayIntersector\")],L);const S=p(),x=p(),C=p(),O=p(),U=u();export{L as LineOfSightRayIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import{updatePointsFromFeatureReference as t,getFeatureId as o}from\"../../../../analysis/featureReferenceUtils.js\";import i from\"../../../../core/Accessor.js\";import{createTask as n}from\"../../../../core/asyncUtils.js\";import r from\"../../../../core/Evented.js\";import s from\"../../../../core/Handles.js\";import{handlesGroup as a,makeHandle as l}from\"../../../../core/handleUtils.js\";import c from\"../../../../core/Logger.js\";import{abortMaybe as u}from\"../../../../core/maybe.js\";import{ignoreAbortErrors as d}from\"../../../../core/promiseUtils.js\";import{initial as p}from\"../../../../core/reactiveUtils.js\";import{property as g}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as h}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as m,d as v,n as f,h as _,g as b,F as y,a as C}from\"../../../../chunks/vec32.js\";import{create as T}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{UpdatingHandles as O}from\"../../../../core/support/UpdatingHandles.js\";import{projectOrLoad as I}from\"../../../../geometry/projection.js\";import{projectBoundingRect as P}from\"../../../../geometry/projection/projectBoundingRect.js\";import{empty as j,containsPointObject as S,intersectsSegment as w}from\"../../../../geometry/support/aaBoundingRect.js\";import{fromPoints as R,create as A}from\"../../../../geometry/support/ray.js\";import{zValueInAbsoluteHeightMode as H}from\"../../../../support/elevationInfoUtils.js\";import E from\"../LineOfSightAnalysisResult.js\";import{LineOfSightComputation as L}from\"./LineOfSightComputation.js\";import{LineOfSightRayIntersector as V}from\"./LineOfSightRayIntersector.js\";import{logFailedGeometryProjectionError as F}from\"../support/projectionUtils.js\";import{StoreResults as x}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{toGraphic as D}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";import{ImmediateTask as G,TaskPriority as N}from\"../../../support/Scheduler.js\";import z from\"../../../../geometry/Point.js\";let k=class extends(r.EventedMixin(i)){constructor(e){super(e),this.updateOnCameraChange=!0,this._observerGroundOffsetRenderSpace=0,this._effectiveObserverElevationMode=\"absolute-height\",this._observerFeatureId=null,this._updatingHandles=new O,this._frameTask=G,this._computationHandles=new s,this._externalObserverUpdate=!0}initialize(){const e=this.view.resourceController?.scheduler;this._frameTask=e?e.registerTask(N.LINE_OF_SIGHT_TOOL):G,this._intersector=new V({view:this.view}),this.addHandles([this._connectObserver(),this._connectComputations(),this._connectTargets()])}destroy(){this._computationHandles.destroy(),this._computations.removeAll(),this._updatingHandles.destroy()}get updating(){return this._frameTask.updating||this._updatingHandles.updating}get priority(){return this._frameTask.priority}set priority(e){this._frameTask.priority=e}get _computations(){return this.analysisViewData.computations}get _elevationAlignedObserverPositionRenderSpace(){return this.analysisViewData.observerEngineLocation}set _elevationAlignedObserverPositionRenderSpace(e){this.analysisViewData.observerEngineLocation=e}get _screenPixelSize(){return this.view.state.camera.computeScreenPixelSizeAt(this._elevationAlignedObserverPositionRenderSpace)}_computeResult(e){const t=e.computation,{inputPoints:o,computationResult:i}=t,{observerAdjusted:n,targetAdjusted:r}=o,{start:s,end:a}=i;m(s,n),m(a,r);this._canCompute(t)?this._computeIntersection(e):M(e),t.notifyResultChanged(),this.emit(\"result-changed\",{target:e.computation.target,result:t.result})}_adjustStartEndPositions(e){const{view:o}=this,{inputPoints:i}=e,{observer:n,target:r,observerAdjusted:s,targetAdjusted:a}=i;m(s,n),m(a,r),t(o,this._intersector.intersector,i);const{observerSurfaceNormal:l,targetSurfaceNormal:c}=i,u=this._screenPixelSize,d=B;null!=l?m(d,l):v(d,a,s);const p=u;f(d,d),_(d,d,Math.min(p,1)),b(s,s,d),null!=c?m(d,c):v(d,s,a);const g=o.state.camera.computeScreenPixelSizeAt(a);f(d,d),_(d,d,Math.min(g,1)),b(a,a,d)}_computeIntersection({computation:e,interpolationInfo:t}){const{view:o}=this,{sceneIntersectionHelper:i,renderCoordsHelper:n}=o;if(null==i)return;const r=this._intersector.intersector,{computationResult:s,inputPoints:a}=e,{observer:l,target:c}=a,{start:u,end:d}=s,p=R(u,d,q);r.options.store=x.MIN,i.intersectToolIntersectorRay(p,r);const g=r.results.min,h=s.intersection,v=B;let f=!0;if(null!=g&&g.getIntersectionPoint(h)){m(t.originalIntersection,h),m(t.originalObserver,u),m(t.originalTarget,d),n.fromRenderCoords(h,v,o.spatialReference);const e=1-y(d,c)/y(u,c);f=y(l,h)>=e*y(l,c)}const _=new z(v,o.spatialReference);{const{result:t,target:i}=e;null!=t?(t.target=i,t.intersectedGraphic=f?null:D(g,o),t.intersectedLocation=f?null:_,t.visible=f):e.result=new E({target:i,elevationAlignedTargetLocation:e.elevationAlignedTargetLocation,intersectedGraphic:f?null:D(g,o),intersectedLocation:f?null:_,visible:f})}s.isValid=a.isValid=!0,s.isTargetVisible=f}_canCompute(e){const t=this.analysisViewData.elevationAlignedObserver,o=this.view.frustum;if(null==t||null==e.elevationAlignedTargetLocation||null==o)return!1;const{observerAdjusted:i,targetAdjusted:n}=e.inputPoints,r=o.intersectsPoint(i),s=o.intersectsPoint(n);return r&&s}_onObserverPositionChange(e,t,i,n,r){if(this._externalObserverUpdate=r,null==e)return this.analysisViewData.elevationAlignedObserver=null,void(this._observerFeatureId=null);if(null==t)return F(this.analysis,e.spatialReference,c.getLogger(this)),void(this.analysisViewData.elevationAlignedObserver=null);const s=U(t,i),{absoluteZ:a,elevation:l}=H(t.x,t.y,t.z,this.view.spatialReference,this.view,s),u=t.clone();u.z=a,this._effectiveObserverElevationMode=s.mode,this.analysisViewData.elevationAlignedObserver=u;const d=T();this.view.renderCoordsHelper.toRenderCoords(u,d),this._elevationAlignedObserverPositionRenderSpace=d,this._observerGroundOffsetRenderSpace=a-l,this._observerFeatureId=o(n),this.priority=N.LINE_OF_SIGHT_TOOL_INTERACTIVE}_onObserverRenderSpacePositionChangeForComputation(e,t,o,i,n){const{inputPoints:r}=e;switch(m(r.observer,t),r.observerFeatureId=n,r.observerSurfaceNormal=null,i){case\"on-the-ground\":case\"relative-to-ground\":{const e=this._intersector.updateFromGroundIntersection(r.observer,o,r.observer);null==r.observerFeatureId&&(r.observerSurfaceNormal=e)}}this._adjustStartEndPositions(e),e.notifyInputPointsChanged(),this.priority=N.LINE_OF_SIGHT_TOOL_INTERACTIVE}_onTargetPositionChange(e,t,i,n,r,s=!0){const a=e.inputPoints;if(s&&(a.isValid=!1),null==i)return null!=t&&F(this.analysis,t.spatialReference,c.getLogger(this)),e.elevationAlignedTargetLocation=null,void e.notifyInputPointsChanged();const l=U(i,n),{absoluteZ:u,elevation:d}=H(i.x,i.y,i.z,this.view.spatialReference,this.view,l),p=i.clone();switch(p.z=u,e.elevationAlignedTargetLocation=p,this.view.renderCoordsHelper.toRenderCoords(e.elevationAlignedTargetLocation,a.target),a.targetFeatureId=o(r),a.targetSurfaceNormal=null,l.mode){case\"on-the-ground\":case\"relative-to-ground\":{const e=this._intersector.updateFromGroundIntersection(a.target,u-d,a.target);null==a.targetFeatureId&&(a.targetSurfaceNormal=e)}}this._adjustStartEndPositions(e),e.notifyInputPointsChanged(),this.priority=N.LINE_OF_SIGHT_TOOL_INTERACTIVE}_connectComputationToTarget(e){return a([this._updatingHandles.add((()=>({computation:e,targetPosition:e.target.position,targetElevationInfo:e.target.elevationInfo,targetFeatureInfo:e.target.feature,projectedTargetPosition:I(e.target.position,this.view.spatialReference)})),(({computation:e,targetPosition:t,targetElevationInfo:o,targetFeatureInfo:i,projectedTargetPosition:n})=>{null==n.pending?this._onTargetPositionChange(e,t,n.geometry,o,i):this._updatingHandles.addPromise(n.pending)}),p)])}_connectComputationToObserver(e){return this._updatingHandles.add((()=>({computation:e,observer:this.analysisViewData.elevationAlignedObserver})),(({computation:e})=>{this._externalObserverUpdate&&(e.inputPoints.isValid=!1,e.notifyInputPointsChanged())}),p)}_connectComputationToRenderSpaceObserver(e){return this._updatingHandles.add((()=>({computation:e,observer:this._elevationAlignedObserverPositionRenderSpace,observerGroundOffset:this._observerGroundOffsetRenderSpace,observerElevationMode:this._effectiveObserverElevationMode,observerFeatureId:this._observerFeatureId})),(({computation:e,observer:t,observerGroundOffset:o,observerElevationMode:i,observerFeatureId:n})=>{this._onObserverRenderSpacePositionChangeForComputation(e,t,o,i,n)}),p)}_connectComputationToCamera(e){return this._updatingHandles.add((()=>({camera:this.view.state.camera,isDirty:this._isCameraDirty})),(({isDirty:t})=>{!this.updateOnCameraChange||e.inputPoints.isValid&&!t||e.notifyInputPointsChanged()}))}_connectComputationToSlicePlane(e){return this._updatingHandles.add((()=>this.view.slicePlane),(()=>{e.inputPoints.isValid=!1,e.notifyInputPointsChanged()}))}_connectComputationToElevation(e){const t=(o,i)=>{const n=this.analysis.observer,r=e.target;let s=null,a=null,l=null,c=null,u=null,d=null;if(null!=n?.position){const e=I(n.position,this.view.spatialReference);if(null!=e.pending)return this._updatingHandles.addPromise(e.pending),void e.pending.finally((()=>t(o,i)));s=e.geometry,a=n.elevationInfo,l=n.feature}if(null!=r.position){const e=I(r.position,this.view.spatialReference);if(null!=e.pending)return this._updatingHandles.addPromise(e.pending),void e.pending.finally((()=>t(o,i)));c=e.geometry,u=r.elevationInfo,d=r.feature}null==s&&null==c||(P(o,i,J,this.view.spatialReference),null!=s&&S(J,s)&&this._onObserverPositionChange(null!=n?n.position:null,s,a,l,!1),null!=c&&S(J,c)&&this._onTargetPositionChange(e,r.position,c,u,d,!1),null!=s&&null!=c&&w(J,s,c)&&e.notifyInputPointsChanged())};return this.view.elevationProvider.on(\"elevation-change\",(({extent:e,spatialReference:o})=>t(e,o)))}_connectComputationToTask(e){let t=null;const o={computation:e,interpolationInfo:{originalIntersection:T(),originalObserver:T(),originalTarget:T()}};return a([this._updatingHandles.add((()=>e.inputPoints),(()=>{t=u(t),t=n((async e=>{await d(this._frameTask.schedule((()=>this._computeResult(o)),e))}))}),{initial:!0,equals:()=>!1}),l((()=>t=u(t)))])}_connectComputation(e){const t=this._computationHandles;t.has(e)||t.add([this._connectComputationToTarget(e),this._connectComputationToObserver(e),this._connectComputationToRenderSpaceObserver(e),this._connectComputationToCamera(e),this._connectComputationToSlicePlane(e),this._connectComputationToElevation(e),this._connectComputationToTask(e)],e)}_disconnectComputation(e){this._computationHandles.remove(e)}_onComputationCollectionChange({added:e,removed:t}){for(const o of t)this._disconnectComputation(o);for(const o of e)this._connectComputation(o)}_onTargetCollectionChange({added:e,removed:t}){for(const o of t)this._removeTarget(o);for(const o of e)this._addTarget(o)}_onCursorTargetChange(e,t){null!=t&&this._removeTarget(t),null!=e&&this._addTarget(e)}_addTarget(e){this._computations.some((t=>t.target===e))||this._computations.add(new L({target:e}))}_removeTarget(e){const t=this._computations.findIndex((t=>t.target===e));this._computations.removeAt(t)}_connectObserver(){return a([this._updatingHandles.add((()=>({observerPosition:null!=this.analysis.observer?this.analysis.observer.position:null,projectedObserverPosition:I(null!=this.analysis.observer?this.analysis.observer.position:null,this.view.spatialReference),observerElevationInfo:null!=this.analysis.observer?this.analysis.observer.elevationInfo:null,observerFeatureInfo:null!=this.analysis.observer?this.analysis.observer.feature:null})),(({observerPosition:e,projectedObserverPosition:t,observerElevationInfo:o,observerFeatureInfo:i})=>{null==t.pending?this._onObserverPositionChange(e,t.geometry,o,i,!0):this._updatingHandles.addPromise(t.pending)}),p)])}_connectComputations(){return this._updatingHandles.addOnCollectionChange((()=>this._computations),(e=>this._onComputationCollectionChange(e)),{initial:!0,final:!0})}_connectTargets(){return a([this._updatingHandles.addOnCollectionChange((()=>this.analysis.targets),(e=>this._onTargetCollectionChange(e)),{initial:!0,final:!0}),this._updatingHandles.add((()=>this.analysisViewData.cursorTarget),((e,t)=>{this._onCursorTargetChange(e,t)}))])}get _isCameraDirty(){const e=this.analysisViewData.elevationAlignedObserver,{view:t}=this,{renderCoordsHelper:o}=t;if(null==e||null==o)return!1;const i=B;o.toRenderCoords(e,i);const n=t.state.camera.computeScreenPixelSizeAt(i);return Math.abs((n-this._screenPixelSize)/this._screenPixelSize)>Z}};function U(e,t){return e.hasZ?t??{mode:\"absolute-height\",offset:0}:{mode:\"on-the-ground\",offset:0}}function M({computation:e,interpolationInfo:t}){const{computationResult:o,inputPoints:i}=e,{start:n,end:r,intersection:s}=o,{originalIntersection:a,originalObserver:l,originalTarget:c}=t;if(m(s,a),i.isValid){const e=B,t=y(l,a)/y(l,c);C(e,n,l),_(e,e,1-t),b(s,s,e),C(e,r,c),_(e,e,t),b(s,s,e),o.isValid=!0}else e.result=null,o.isValid=!1,o.isTargetVisible=!1}e([g({constructOnly:!0})],k.prototype,\"analysis\",void 0),e([g({constructOnly:!0})],k.prototype,\"analysisViewData\",void 0),e([g({constructOnly:!0})],k.prototype,\"view\",void 0),e([g()],k.prototype,\"updating\",null),e([g()],k.prototype,\"priority\",null),e([g()],k.prototype,\"updateOnCameraChange\",void 0),e([g()],k.prototype,\"_computations\",null),e([g()],k.prototype,\"_elevationAlignedObserverPositionRenderSpace\",null),e([g()],k.prototype,\"_observerGroundOffsetRenderSpace\",void 0),e([g()],k.prototype,\"_effectiveObserverElevationMode\",void 0),e([g()],k.prototype,\"_observerFeatureId\",void 0),e([g()],k.prototype,\"_screenPixelSize\",null),e([g({readOnly:!0})],k.prototype,\"_updatingHandles\",void 0),e([g()],k.prototype,\"_frameTask\",void 0),e([g()],k.prototype,\"_isCameraDirty\",null),k=e([h(\"esri.views.3d.analysis.LineOfSight.LineOfSightController\")],k);const Z=.1,B=T(),q=A(),J=j();export{k as LineOfSightController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport o from\"../../../../Color.js\";import{getContrast as n,multiplyOpacityToUnitRGBA as t}from\"../../../../core/colorUtils.js\";class e{constructor(){this.glowWidth=8,this.innerWidth=.75}}const r=new e;function s(o){const t=o.accentColor;return{glowColor:t,innerColor:n(t),globalAlpha:.75*t.a}}class i{constructor(){this.size=.5}}const c=new i;function l(o){return t(o.accentColor,.75)}class h{constructor(){this.size=.5,this.visibleColor=new o([3,252,111,.75]),this.occludedColor=new o([252,3,69,.75]),this.undefinedColor=new o([127,127,127,.75])}}const u=new h;class d{constructor(){this.innerWidth=2,this.outerWidth=8,this.visibleInnerColor=new o([3,252,111,1]),this.visibleOuterColor=new o([3,252,111,.15]),this.occludedInnerColor=new o([252,3,69,1]),this.occludedOuterColor=new o([252,3,69,.1]),this.undefinedInnerColor=new o([255,255,255,1]),this.undefinedOuterColor=new o([127,127,127,.2])}}const w=new d;export{s as getLaserLineColors,l as getObserverRGBA,r as laserLineConfiguration,w as lineOfSightConfiguration,c as observerConfiguration,u as targetConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{watch as t}from\"../../../../core/reactiveUtils.js\";import{getObserverRGBA as o,observerConfiguration as r,targetConfiguration as i}from\"./LineOfSightConfiguration.js\";import{Manipulator3D as s}from\"../../interactive/Manipulator3D.js\";import{createManipulatorMaterial as n}from\"../../interactive/manipulatorUtils.js\";import{RenderObject as m}from\"../../interactive/RenderObject.js\";import{disableDisplayOnGrab as a}from\"../../interactive/editingTools/manipulatorUtils.js\";import{createSphereGeometry as c}from\"../../webgl-engine/lib/GeometryUtil.js\";import{ManipulatorStateCustomFlags as l}from\"../../../interactive/interfaces.js\";class f extends s{constructor(e,i){const s=n(o(e.effectiveTheme)),l=c(s,r.size,32,32),f=new m(l);super({view:e,renderObjects:[f],metadata:i,elevationInfo:{mode:\"absolute-height\",offset:0}}),a(this),this.themeHandle=t((()=>({color:o(e.effectiveTheme)})),(e=>{s.setParameters(e)}))}destroy(){this.themeHandle.remove(),super.destroy()}}class d extends s{constructor(e,t){const{size:o,visibleColor:r,occludedColor:s,undefinedColor:n}=i;super({view:e,renderObjects:[u(o,r,l.Custom1),u(o,s,l.Custom2),u(o,n,l.Custom3)],metadata:t,elevationInfo:{mode:\"absolute-height\",offset:0}}),a(this)}}function u(t,o,r){return new m(c(n(e.toUnitRGBA(o)),t,32,32),r)}export{f as LineOfSightObserverManipulator,d as LineOfSightTargetManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Color.js\";import i from\"../../../../analysis/LineOfSightAnalysisObserver.js\";import a from\"../../../../analysis/LineOfSightAnalysisTarget.js\";import n from\"../../../../core/Handles.js\";import\"../../../../core/has.js\";import r from\"../../../../core/Logger.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{watch as o,syncAndInitial as l,initial as u}from\"../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/RandomLCG.js\";import{subclass as h}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as d}from\"../../../../core/support/UpdatingHandles.js\";import{create as p,fromPoints as g}from\"../../../../geometry/support/lineSegment.js\";import{getGraphicEffectiveElevationInfo as _,getConvertedElevation as m}from\"../../../../support/elevationInfoUtils.js\";import v from\"../../../../symbols/support/ElevationInfo.js\";import{getLaserLineColors as b,laserLineConfiguration as y}from\"./LineOfSightConfiguration.js\";import{LineOfSightTargetManipulator as f,LineOfSightObserverManipulator as T}from\"./LineOfSightManipulators.js\";import{LineOfSightRayIntersector as L}from\"./LineOfSightRayIntersector.js\";import{LaserlineVisualElement as w}from\"../../interactive/visualElements/LaserlineVisualElement.js\";import{IntersectorType as M}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import\"../../../input/ViewEvents.js\";import{AnalysisToolBase as C}from\"../../../interactive/AnalysisToolBase.js\";import{createManipulatorDragEventPipeline as k}from\"../../../interactive/dragEventPipeline.js\";import{ManipulatorStateCustomFlags as H}from\"../../../interactive/interfaces.js\";import{createScreenPointFromEvent as V}from\"../../../support/screenUtils.js\";import{MouseButton as P}from\"../../../input/IViewEvents.js\";var I;!function(e){e.Ready=\"ready\",e.Creating=\"creating\",e.Created=\"created\"}(I||(I={}));let O=class extends C{constructor(e){super(e),this._creationMode=!1,this.removeIncompleteOnCancel=!1,this.analysisViewData=null,this._latestPointerMovePointerType=null,this._laserlineVisualElement=null,this._grabbedManipulator=null,this._analysisHandles=new n,this._updatingHandles=new d,this._manipulatorHandles=new n,this._targetTrackerManipulator=null}initialize(){this._intersector=new L({view:this.view}),this.addHandles(o((()=>this.state),(e=>{e===I.Created&&this.finishToolCreation()}),l)),this._observerManipulator=this._createObserverManipulator(),this._createLaserLine(),this.addHandles([this._updatingHandles.add((()=>this.analysisViewData?.elevationAlignedObserver),(e=>this._onObserverLocationChange(e)),u),this._updatingHandles.add((()=>b(this.view.effectiveTheme)),(({glowColor:e,innerColor:t,globalAlpha:i})=>this._updateLaserLineStyle(e,t,i)),u),this._updatingHandles.add((()=>this._laserLineRendererDependencies()),(e=>this._updateLaserLineRenderer(e))),this._connectComputations(),this._updatingHandles.addWhen((()=>!this._shouldRenderTracker),(()=>this._clearCursorTracker()),u),this._updatingHandles.add((()=>({active:this.active,hasGrabbedManipulators:this.hasGrabbedManipulators})),(({active:e,hasGrabbedManipulators:t})=>{this._creationMode=!!e&&(this._creationMode||!t)}),u)])}destroy(){this._updatingHandles=s(this._updatingHandles),this._manipulatorHandles=s(this._manipulatorHandles),this._analysisHandles=s(this._analysisHandles),this._observerManipulator=null,this._clearCursorTracker(),this._removeLaserLine(),this._intersector=null,this._set(\"analysis\",null)}get state(){return this.active?!this.hasGrabbedManipulators||this._creationMode?I.Creating:I.Created:null!=this.analysis.observer?.position?I.Created:I.Ready}get cursor(){return this.active&&this._showTracker?\"crosshair\":null}get updating(){return null!=this.analysisViewData&&this.analysisViewData.updating||this._updatingHandles.updating}get _showTracker(){return this.active&&\"mouse\"===this._latestPointerMovePointerType}get _shouldRenderTracker(){return this._showTracker&&null!=this.analysis.observer?.position&&!this.hasGrabbedManipulators}continue(){this.view.activeTool=this}stop(){this.view.activeTool=null}onEditableChange(){this.analysisViewData.editable=this.internallyEditable}onInputEvent(e){switch(e.type){case\"immediate-double-click\":this._doubleClickHandler(e);break;case\"key-down\":this._keyDownHandler(e);break;case\"pointer-move\":this._pointerMoveHandler(e)}}onInputEventAfter(e){if(\"immediate-click\"===e.type)this._clickHandler(e)}onShow(){}onHide(){}onDeactivate(){this._clearCursorTracker()}_connectComputations(){return this._updatingHandles.addOnCollectionChange((()=>this.analysisViewData.computations),(e=>this._onComputationsCollectionChange(e)),{initial:!0,final:!0})}_onComputationsCollectionChange({added:e,removed:t}){for(const i of t)this._disconnectComputation(i);for(const i of e)this._connectComputation(i)}_connectComputation(e){if(this.destroyed)return void r.getLogger(this).warn(\"Attempting to connect an analysis to a destroyed LineOfSight tool. Ignoring.\");const t=this._analysisHandles;if(t.has(e))return;const i=this._createTargetManipulator(e.target);null==this._targetTrackerManipulator&&i.metadata.target===this.analysisViewData.cursorTarget&&(this._targetTrackerManipulator=i,this._targetTrackerManipulator.available=!1,this._targetTrackerManipulator.interactive=!1,this._updateLaserLineRenderer()),t.add([this._updatingHandles.add((()=>j(e)),(()=>D(i,e)),u),this._updatingHandles.add((()=>e.elevationAlignedTargetLocation),(e=>this._onTargetLocationChange(e,i)),u)],e)}_disconnectComputation(e){if(this.destroyed)return void r.getLogger(this).warn(\"Attempting to disconnect an analysis from a destroyed LineOfSight tool. Ignoring.\");this._analysisHandles.remove(e);const t=this._getTargetManipulator(e.target);null!=t&&(this.manipulators.remove(t),this._manipulatorHandles.remove(t),null!=this._targetTrackerManipulator&&this._targetTrackerManipulator===t&&(this._targetTrackerManipulator=null))}_clearCursorTracker(){this.analysisViewData.cursorTarget=s(this.analysisViewData.cursorTarget)}_createTargetManipulator(e){const t={target:e,type:\"target\"},i=new f(this.view,t);return this._manipulatorHandles.add([this._createTargetManipulatorDragPipeline(i),i.events.on(\"grab-changed\",(e=>this._manipulatorGrabChanged(i,e))),i.events.on(\"immediate-click\",(e=>this._manipulatorClick(i,e)))],i),this.manipulators.add(i),null!=e.position?i.elevationAlignedLocation=e.position:i.available=!1,i}_getTargetManipulator(e){let t=null;return this.manipulators.forEach((i=>{const a=i.manipulator;null==t&&\"target\"===a.metadata.type&&a.metadata.target===e&&(t=a)})),t}_createObserverManipulator(){const e=new T(this.view,{type:\"observer\",intersection:null});return this._manipulatorHandles.add([this._createObserverManipulatorDragPipeline(e),e.events.on(\"grab-changed\",(t=>this._manipulatorGrabChanged(e,t))),e.events.on(\"immediate-click\",(t=>this._manipulatorClick(e,t)))],e),this.manipulators.add(e),e}_screenToIntersection(){return e=>{const t=this._intersector.getScreenPointIntersection(e.screenEnd);return null==t?null:{...e,intersection:t}}}_createTargetManipulatorDragPipeline(e){return k(e,((t,i,a)=>{i.next(this._screenToIntersection()).next(this._updateTargetDragStep(e)).next((()=>this._updateLaserLineRenderer())),a.next(R(e.metadata.target)).next((()=>this._updateLaserLineRenderer()))}))}_createObserverManipulatorDragPipeline(e){return k(e,((e,t,i)=>{t.next(this._screenToIntersection()).next(this._updateObserverDragStep()).next((()=>this._updateLaserLineRenderer())),i.next(this._cancelObserverDragStep()).next((()=>this._updateLaserLineRenderer()))}))}_updateObserverDragStep(){return e=>(null!=e.intersection.mapPoint?(null==this.analysis.observer&&(this.analysis.observer=new i),this._updateFromIntersection(this.analysis.observer,e.intersection)):this.analysis.observer=null,e)}_cancelObserverDragStep(){const e=null!=this.analysis.observer?.position?this.analysis.observer.clone():null;return t=>(this.analysis.observer=e,t)}_updateTargetDragStep(e){return t=>{this._updateFromIntersection(e.metadata.target,t.intersection);const i=t.intersection.mapPoint;return null!=i&&(e.elevationAlignedLocation=i),t}}_manipulatorGrabChanged(e,t){switch(t.action){case\"start\":this._grabbedManipulator=e;break;case\"end\":this._grabbedManipulator===e&&(this._grabbedManipulator=null)}}_laserLineRendererDependencies(){return{laserlineVisualElement:this._laserlineVisualElement,grabbedManipulator:this._grabbedManipulator,shouldRenderTracker:this._shouldRenderTracker,observerPosition:null!=this.analysis.observer?this.analysis.observer.position:null,visible:this.visible}}_updateLaserLineRenderer(e=this._laserLineRendererDependencies()){const{laserlineVisualElement:t,grabbedManipulator:i,shouldRenderTracker:a,observerPosition:n,visible:r}=e;if(null==t)return;const s=null!=i?i:a&&null!=n?this._targetTrackerManipulator:null;null!=s&&r?(t.visible=!0,t.heightManifoldTarget=s.renderLocation,s!==this._observerManipulator?t.lineVerticalPlaneSegment=g(this._observerManipulator.renderLocation,s.renderLocation,E):t.lineVerticalPlaneSegment=null):(t.visible=!1,t.heightManifoldTarget=null,t.lineVerticalPlaneSegment=null)}_createLaserLine(){this._removeLaserLine();const{glowWidth:e,innerWidth:t}=y;this._laserlineVisualElement=new w({view:this.view,attached:!0,visible:this.visible,style:{glowWidth:e,innerWidth:t},isDecoration:!0})}_removeLaserLine(){null!=this._laserlineVisualElement&&(this._laserlineVisualElement.destroy(),this._laserlineVisualElement=null)}_updateLaserLineStyle(e,i,a){const n=this._laserlineVisualElement;if(null==n)return;const r=n.style;n.style={...r,glowColor:t.toUnitRGB(e),innerColor:t.toUnitRGB(i),globalAlpha:a}}_onObserverLocationChange(e){null!=e?(this._observerManipulator.metadata.intersection=null,this._observerManipulator.available=!0,this._observerManipulator.elevationAlignedLocation=e):this._observerManipulator.available=!1}_onTargetLocationChange(e,t){null!=e?(t.elevationAlignedLocation=e,t!==this._targetTrackerManipulator&&(t.available=!0)):t.available=!1}_addPointFromClickEvent(e){const t=this._intersector.getScreenPointIntersection(e);if(null!=t?.mapPoint)if(null!=this.analysis.observer?.position){this._clearCursorTracker();const e=new a;this._updateFromIntersection(e,t),this.analysis.targets.add(e)}else{const e=new i;this._updateFromIntersection(e,t),this.analysis.observer=e}}_clickHandler(e){this.active&&e.button!==P.Right&&(this._addPointFromClickEvent(V(e)),e.stopPropagation())}_doubleClickHandler(e){this.active&&e.button!==P.Right&&(this.stop(),e.stopPropagation())}_keyDownHandler(e){this.active&&\"Escape\"===e.key&&(this.stop(),e.stopPropagation())}_pointerMoveHandler(e){if(this.hasGrabbedManipulators)return;if(this._latestPointerMovePointerType=e.pointerType,this._updateLaserLineRenderer(),!this._showTracker||null==this.analysis.observer?.position)return;const t=V(e),i=this._intersector.getScreenPointIntersection(t);null!=i?.mapPoint&&(null==this.analysisViewData.cursorTarget&&(this.analysisViewData.cursorTarget=new a),this._updateFromIntersection(this.analysisViewData.cursorTarget,i),this._updateLaserLineRenderer())}_updateFromIntersection(e,t){if(null==t.mapPoint)return e.position=null,e.elevationInfo=null,void(e.feature=null);switch(t.type){case M.OBJECT:if(null!=t.graphic){const i=t.graphic,a=_(i);\"on-the-ground\"===a.mode&&(a.mode=\"relative-to-ground\",a.offset=0),e.elevationInfo=new v(a),e.feature=i}else e.elevationInfo=null,e.feature=null;break;case M.TERRAIN:e.elevationInfo=new v({mode:\"on-the-ground\"}),e.feature=null;break;default:e.elevationInfo=null,e.feature=null}const i=t.mapPoint.clone();i.z=m(this.view,i,{mode:\"absolute-height\",offset:0},e.elevationInfo),e.position=i}_manipulatorClick(e,t){if(\"observer\"===e.metadata.type||e.grabbing||e.dragging||t.button!==P.Right||this.analysis.targets.length<=1)return;const{target:i}=e.metadata;this.analysis.targets.remove(i),t.stopPropagation()}get testInfo(){}};function R(e){const t=e.position?.clone();return i=>(e.position=t,i)}function D(e,t){const{isValid:i,isTargetVisible:a}=t.computationResult;e.state=i?a?H.Custom1:H.Custom2:H.Custom3}function j(e){const{isValid:t,isTargetVisible:i}=e.computationResult;return{isValid:t,isTargetVisible:i}}e([c({constructOnly:!0})],O.prototype,\"view\",void 0),e([c({constructOnly:!0})],O.prototype,\"analysis\",void 0),e([c()],O.prototype,\"_creationMode\",void 0),e([c({readOnly:!0})],O.prototype,\"state\",null),e([c({readOnly:!0})],O.prototype,\"cursor\",null),e([c()],O.prototype,\"removeIncompleteOnCancel\",void 0),e([c({readOnly:!0})],O.prototype,\"updating\",null),e([c({constructOnly:!0})],O.prototype,\"analysisViewData\",void 0),e([c({readOnly:!0})],O.prototype,\"_showTracker\",null),e([c()],O.prototype,\"_latestPointerMovePointerType\",void 0),e([c()],O.prototype,\"_shouldRenderTracker\",null),e([c()],O.prototype,\"_laserlineVisualElement\",void 0),e([c()],O.prototype,\"_grabbedManipulator\",void 0),O=e([h(\"esri.views.3d.analysis.LineOfSight.LineOfSightTool\")],O);const E=p();export{O as LineOfSightTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nclass e{constructor(e,i,t,s){this.visibleLineVisualElement=e,this.occludedLineVisualElement=i,this.undefinedLineVisualElement=t,this.targetVisualElement=s}destroy(){this.visibleLineVisualElement.destroy(),this.occludedLineVisualElement.destroy(),this.undefinedLineVisualElement.destroy(),this.targetVisualElement.destroy()}}export{e as LineOfSightVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Color.js\";import e from\"../../../../core/Accessor.js\";import o from\"../../../../core/Handles.js\";import{makeHandle as n}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{initial as r}from\"../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{d}from\"../../../../chunks/vec32.js\";import{fromArray as u,create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{UpdatingHandles as p}from\"../../../../core/support/UpdatingHandles.js\";import{lineOfSightConfiguration as h}from\"./LineOfSightConfiguration.js\";import{LineOfSightVisualElement as v}from\"./LineOfSightVisualElement.js\";import{LineVisualElement as g}from\"../../interactive/visualElements/LineVisualElement.js\";import{PointVisualElement as f}from\"../../interactive/visualElements/PointVisualElement.js\";import\"../../webgl-engine/lib/Material.js\";let b=class extends e{constructor(i){super(i),this._lineOfSightVisualElements=new Array,this._computationHandles=new o,this._updatingHandles=new p}initialize(){this.addHandles(this._connectComputations()),this._createObserverVisualization()}destroy(){this._updatingHandles=s(this._updatingHandles),this._computationHandles=s(this._computationHandles),this._observerVisualElement=s(this._observerVisualElement)}get visible(){return this.analysisViewData.visible}get updating(){return this._updatingHandles.updating}get interactiveAndEditable(){return this.analysisViewData.interactive&&this.analysisViewData.editable}get test(){}_createLineOfSightVisualization(){const i=h,e=this.view,o=this.isDecoration,n={view:e,attached:!0,width:i.outerWidth,innerWidth:i.innerWidth,isDecoration:o},s=t.toUnitRGBA(i.visibleOuterColor),r=t.toUnitRGBA(i.visibleInnerColor),a=t.toUnitRGBA(i.occludedOuterColor),l=t.toUnitRGBA(i.occludedInnerColor),c=t.toUnitRGBA(i.undefinedOuterColor),d=t.toUnitRGBA(i.undefinedInnerColor),u=new g({...n,color:s,innerColor:r}),m=new g({...n,color:a,innerColor:l}),p=new g({...n,color:c,innerColor:d}),b=new f({view:e,attached:!0,..._,size:8,isDecoration:o}),y=new v(u,m,p,b);return this._lineOfSightVisualElements.push(y),y}_destroyLineOfSightVisualization(i){i.destroy(),this._lineOfSightVisualElements.splice(this._lineOfSightVisualElements.indexOf(i),1)}_updateLineOfSightVisualization(i,e,o){const n=h,{computationResult:s,inputPoints:r}=i,{start:a,end:l,intersection:c,isValid:m,isTargetVisible:p}=s,{observer:v}=r,g=V;g[12]=v[0],g[13]=v[1],g[14]=v[2];const f=d(y,a,v),b=d(C,l,v),_=d(O,c,v),{visibleLineVisualElement:A,occludedLineVisualElement:E,undefinedLineVisualElement:w,targetVisualElement:j}=e,L=null==this.analysisViewData.elevationAlignedObserver||null==i.elevationAlignedTargetLocation,S=this.visible&&!L;A.visible=S,E.visible=S,w.visible=S,j.visible=S,j.attached=!o.interactiveAndEditable,S&&(A.geometry=null,E.geometry=null,w.geometry=null,j.geometry=i.elevationAlignedTargetLocation,m?p?(A.geometry=[[u(f),u(b)]],A.transform=g,A.color=t.toUnitRGBA(n.visibleOuterColor),j.color=t.toUnitRGBA(n.visibleInnerColor)):(A.geometry=[[u(f),u(_)]],A.transform=g,A.color=t.toUnitRGBA(n.occludedOuterColor),E.geometry=[[u(_),u(b)]],E.transform=g,j.color=t.toUnitRGBA(n.occludedInnerColor)):(w.geometry=[[u(f),u(b)]],w.transform=g,j.color=t.toUnitRGBA(n.undefinedInnerColor)))}_getLineOfSightVisualizationDependencies(i){const{computationResult:t}=i,{occludedOuterColor:e,visibleOuterColor:o}=h;return{computationResult:t,occludedOuterColor:e,visibleOuterColor:o,visible:this.visible,interactiveAndEditable:this.interactiveAndEditable}}_connectComputation(i){const t=this._computationHandles;if(t.has(i))return;const e=this._createLineOfSightVisualization();t.add([this._updatingHandles.add((()=>this._getLineOfSightVisualizationDependencies(i)),(t=>this._updateLineOfSightVisualization(i,e,t)),{initial:!0,equals:()=>!1}),n((()=>this._destroyLineOfSightVisualization(e)))],i)}_disconnectComputation(i){this._computationHandles.remove(i)}_connectComputations(){return this._updatingHandles.addOnCollectionChange((()=>this.analysisViewData.computations),(i=>this._onComputationsCollectionChange(i)),{initial:!0,final:!0})}_onComputationsCollectionChange({added:i,removed:t}){for(const e of t)this._disconnectComputation(e);for(const e of i)this._connectComputation(e)}_createObserverVisualization(){const i=t.toUnitRGBA(h.visibleInnerColor),e=new f({view:this.view,color:i,..._,isDecoration:this.isDecoration});this._observerVisualElement=e,this.addHandles(this._updatingHandles.add((()=>({observer:this.analysisViewData.elevationAlignedObserver,interactiveAndEditable:this.interactiveAndEditable,visible:this.visible})),(({observer:i,interactiveAndEditable:t,visible:o})=>{null!=i&&!t&&o?(e.geometry=i,this._observerVisualElement.attached=!0):e.attached=!1}),r))}};i([a({constructOnly:!0})],b.prototype,\"analysis\",void 0),i([a({constructOnly:!0})],b.prototype,\"analysisViewData\",void 0),i([a({constructOnly:!0})],b.prototype,\"view\",void 0),i([a({readOnly:!0})],b.prototype,\"visible\",null),i([a({constructOnly:!0})],b.prototype,\"isDecoration\",void 0),i([a()],b.prototype,\"updating\",null),i([a()],b.prototype,\"interactiveAndEditable\",null),i([a()],b.prototype,\"test\",null),b=i([l(\"esri.views.3d.analysis.LineOfSight.LineOfSightVisualization\")],b);const _={size:6,pixelSnappingEnabled:!1,primitive:\"circle\",elevationInfo:{mode:\"absolute-height\",offset:0},outlineSize:0},y=m(),C=m(),O=m(),V=c();export{b as LineOfSightVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import s from\"../../../core/Collection.js\";import o from\"../../../core/Evented.js\";import\"../../../core/has.js\";import{destroyMaybe as r}from\"../../../core/maybe.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{create as n}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{AnalysisView3D as l}from\"./AnalysisView3D.js\";import{LineOfSightController as p}from\"./LineOfSight/LineOfSightController.js\";import{LineOfSightTool as y}from\"./LineOfSight/LineOfSightTool.js\";import{LineOfSightVisualization as u}from\"./LineOfSight/LineOfSightVisualization.js\";import{connectAnalysisViewToTool as h,removeAnalysisViewTool as c}from\"../../analysis/analysisViewUtils.js\";let m=class extends(l(o.EventedMixin(i))){constructor(t){super(t),this.type=\"line-of-sight-view-3d\",this.analysis=null,this.tool=null,this.computations=new s,this.elevationAlignedObserver=null,this.observerEngineLocation=n(),this.cursorTarget=null,this.editable=!0}initialize(){const t=this.view,i=this.analysis;this._analysisController=new p({analysis:i,analysisViewData:this,view:t}),this._analysisVisualization=new u({analysis:i,analysisViewData:this,view:t,isDecoration:!this.parent}),this.addHandles([this._analysisController.on(\"result-changed\",(t=>{t.target!==this.cursorTarget&&this.emit(\"result-changed\",t)})),h(this,y)])}destroy(){c(this),this._analysisController=r(this._analysisController),this._analysisVisualization=r(this._analysisVisualization)}get results(){return this.computations.map((t=>t.result))}get priority(){return this._analysisController.priority}set priority(t){this._analysisController.priority=t}get updating(){return null!=this._analysisController&&this._analysisController.updating||null!=this._analysisVisualization&&this._analysisVisualization.updating}getResultForTarget(t){return this.computations.find((i=>i.target===t))?.result}get testInfo(){}};t([e({readOnly:!0})],m.prototype,\"type\",void 0),t([e({constructOnly:!0,nonNullable:!0})],m.prototype,\"analysis\",void 0),t([e()],m.prototype,\"tool\",void 0),t([e({readOnly:!0})],m.prototype,\"results\",null),t([e()],m.prototype,\"priority\",null),t([e()],m.prototype,\"computations\",void 0),t([e()],m.prototype,\"elevationAlignedObserver\",void 0),t([e()],m.prototype,\"observerEngineLocation\",void 0),t([e()],m.prototype,\"cursorTarget\",void 0),t([e()],m.prototype,\"updating\",null),t([e()],m.prototype,\"editable\",void 0),t([e()],m.prototype,\"_analysisController\",void 0),t([e()],m.prototype,\"_analysisVisualization\",void 0),m=t([a(\"esri.views.3d.analysis.LineOfSightAnalysisView3D\")],m);const d=m;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../../core/handleUtils.js\";import{hasFeatureExpressionInfo as n}from\"../../../../support/elevationInfoUtils.js\";function o(e,n){return t(e?.data.coordinateHelper.hasZ(),n)}function t(e,o){return!!e&&\"on-the-ground\"!==o.mode&&!n(o)}function r(n,o){let t=null;const r=n.events.on(\"grab-changed\",(e=>{null!=t&&(t.remove(),t=null),\"start\"===e.action?(t=n.disableDisplay(),o&&o(e)):o&&o(e)}));return e((()=>{t?.remove(),r.remove()}))}export{o as canMoveZOperations,r as disableDisplayOnGrab};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{Material as r}from\"../lib/Material.js\";import{intersectTriangleGeometry as t}from\"../lib/RayIntersections.js\";class e extends r{intersect(r,e,i,s,o,n){return t(r,i,s,o,void 0,n)}}export{e as TriangleMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{removeMaybe as t}from\"../../core/maybe.js\";import{onAbort as i}from\"../../core/promiseUtils.js\";import{whenOnce as e,watch as n,syncAndInitial as r}from\"../../core/reactiveUtils.js\";function l(n,r){n.interactive=!0;const{tool:l,view:a}=n;a.activeTool=l;let c=i(r,(()=>{a.activeTool===l&&(a.activeTool=null)}));return o((async o=>{await e((()=>null==l||!l.active),o),c=t(c)}),r)}function a(o,t){return n((()=>o.interactive),(()=>c(o,t)),r)}function c(o,t){o.interactive?s(o,t):v(o)}function s(o,t){v(o);const{view:i,analysis:e}=o,n=new t({view:i,analysis:e,analysisViewData:o});return o.tool=n,i.tools.add(n),n}function v(o){const{view:t,tool:i}=o;null!=i&&(t.tools.remove(i),o.tool=null)}export{l as activateAnalysisViewTool,a as connectAnalysisViewToTool,v as removeAnalysisViewTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{watch as e,syncAndInitial as t}from\"../../core/reactiveUtils.js\";import\"../../core/Logger.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import{InteractiveToolBase as i}from\"./InteractiveToolBase.js\";let o=class extends i{constructor(s){super(s)}initialize(){this.addHandles(e((()=>this.analysisViewData.visible),(s=>this.visible=s),t))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set(\"created\",!1)}};o=s([r(\"esri.views.interactive.AnalysisToolBase\")],o);export{o as AnalysisToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{floatEqualAbsolute as t}from\"../../core/mathUtils.js\";import{distance as n,dot as r,squaredLength as e,scale as s,subtract as o,add as c,scaleAndAdd as u,copy as i,length as f}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{clone as a,create as p}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";function m(t,n){return t[0]*n[1]-t[1]*n[0]}function h(t,r,e){const s=(r[0]-t[0])*(e[1]-t[1])-(r[1]-t[1])*(e[0]-t[0]);return Math.abs(s)/n(r,e)}function E(t,n,o){const c=r(o,n)/e(o);return s(t,o,c)}function I(t,n,r,e,s=r){return o(x,e,r),o(g,n,s),E(A,g,x),c(t,s,A)}function L(t,n,s,c){o(x,c,s),o(g,n,s);const f=r(x,g)/e(x);return f>0?u(t,s,x,f):i(t,s)}function N(t,n,r,e){o(x,n,r);const s=e/f(x);return u(t,r,x,s)}function l(n,r){return I(g,r,n.start,n.end),t(g[0],r[0])&&t(g[1],r[1])?[a(r)]:[]}function y(n,r,e){return N(g,e,n,r),t(g[0],e[0])&&t(g[1],e[1])?[a(e)]:[]}function b(t,n){const r=t.start,e=t.end,s=n.start,c=n.end,i=o(x,e,r),f=o(M,c,s),a=m(i,f);if(Math.abs(a)<=v)return[];const p=o(g,r,s),h=m(f,p)/a,E=m(i,p)/a;if(h>=0){if(E>=0||n.type===j.LINE)return[u(A,r,i,h)]}else if(t.type===j.LINE&&(E>=0||n.type===j.LINE))return[u(A,r,i,h)];return[]}function d(t,n,s){const c=[],i=o(x,t.end,t.start),f=o(M,t.start,n),a=e(i),p=2*r(i,f),m=p*p-4*a*(e(f)-s*s);if(0===m){const n=-p/(2*a);(t.type===j.LINE||n>=0)&&c.push(u(A,t.start,i,n))}else if(m>0){const n=Math.sqrt(m),r=(-p+n)/(2*a);(t.type===j.LINE||r>=0)&&c.push(u(A,t.start,i,r));const e=(-p-n)/(2*a);(t.type===j.LINE||e>=0)&&c.push(u(g,t.start,i,e))}return c}var j;!function(t){t[t.RAY=0]=\"RAY\",t[t.LINE=1]=\"LINE\"}(j||(j={}));const v=1e-6,x=p(),M=p(),g=p(),A=p();export{j as LineType,m as cross,y as intersectCircleAndPoint,l as intersectLineAndPoint,b as intersectLineAndRay,d as intersectLineLikeAndCircle,h as pointToLineDistance,E as projectPoint,N as projectPointToCircle,I as projectPointToLine,L as projectPointToRay};\n"],"names":["l","i","s","t","constructor","o","super","this","position","elevationInfo","feature","equals","p","r","a","type","c","json","write","isRequired","prototype","f","m","e","n","u","d","layer","id","objectId","objectIdField","attributes","uid","b","writer","layerId","target","Number","String","origins","read","ObjectId","sceneIntersectionHelper","observer","observerFeatureId","I","targetFeatureId","g","v","F","y","options","store","ALL","intersectToolIntersectorRay","N","w","R","A","results","all","distanceInRenderSpace","j","observerAdjusted","T","targetAdjusted","h","getIntersectionPoint","observerSurfaceNormal","getTransformedNormal","targetSurfaceNormal","Math","min","arguments","parent","_userInteractive","_interactiveViewModelCount","interactive","updating","visible","suspended","_overrideIfSome","forceInteractiveForViewModel","constructOnly","Boolean","readOnly","intersectedGraphic","intersectedLocation","elevationAlignedTargetLocation","inputPoints","isValid","computationResult","start","end","intersection","isTargetVisible","result","notifyResultChanged","notifyChange","notifyInputPointsChanged","clone","mapPoint","renderPoint","normal","ray","graphic","L","_terrainIntersectionOptionsLayerUids","Set","initialize","intersector","view","state","viewingMode","hud","MIN","getScreenPointIntersection","get","camera","U","_getRayIntersection","maxDistance","origin","renderCoordsHelper","fromRenderCoords","P","spatialReference","TERRAIN","lij","slice","sourceLayer","OBJECT","updateFromGroundIntersection","S","x","C","O","worldUpAtPosition","basemapTerrain","visibleElevationBounds","abs","max","include","k","EventedMixin","updateOnCameraChange","_observerGroundOffsetRenderSpace","_effectiveObserverElevationMode","_observerFeatureId","_updatingHandles","_frameTask","G","_computationHandles","_externalObserverUpdate","resourceController","scheduler","registerTask","LINE_OF_SIGHT_TOOL","_intersector","V","addHandles","_connectObserver","_connectComputations","_connectTargets","destroy","_computations","removeAll","priority","analysisViewData","computations","_elevationAlignedObserverPositionRenderSpace","observerEngineLocation","_screenPixelSize","computeScreenPixelSizeAt","_computeResult","computation","_canCompute","_computeIntersection","_ref10","interpolationInfo","originalIntersection","originalObserver","originalTarget","B","_","M","emit","_adjustStartEndPositions","_ref","q","z","D","E","elevationAlignedObserver","frustum","intersectsPoint","_onObserverPositionChange","analysis","getLogger","absoluteZ","elevation","H","mode","toRenderCoords","LINE_OF_SIGHT_TOOL_INTERACTIVE","_onObserverRenderSpacePositionChangeForComputation","_onTargetPositionChange","length","undefined","_connectComputationToTarget","add","targetPosition","targetElevationInfo","targetFeatureInfo","projectedTargetPosition","_ref2","pending","geometry","addPromise","_connectComputationToObserver","_ref3","_connectComputationToRenderSpaceObserver","observerGroundOffset","observerElevationMode","_ref4","_connectComputationToCamera","isDirty","_isCameraDirty","_ref5","_connectComputationToSlicePlane","slicePlane","_connectComputationToElevation","finally","J","elevationProvider","on","_ref6","extent","_connectComputationToTask","async","schedule","initial","_connectComputation","has","_disconnectComputation","remove","_onComputationCollectionChange","_ref7","added","removed","_onTargetCollectionChange","_ref8","_removeTarget","_addTarget","_onCursorTargetChange","some","findIndex","removeAt","observerPosition","projectedObserverPosition","observerElevationInfo","observerFeatureInfo","_ref9","addOnCollectionChange","final","targets","cursorTarget","Z","hasZ","offset","glowWidth","innerWidth","size","accentColor","visibleColor","occludedColor","undefinedColor","outerWidth","visibleInnerColor","visibleOuterColor","occludedInnerColor","occludedOuterColor","undefinedInnerColor","undefinedOuterColor","effectiveTheme","renderObjects","metadata","themeHandle","color","setParameters","Custom1","Custom2","Custom3","toUnitRGBA","Ready","Creating","Created","_creationMode","removeIncompleteOnCancel","_latestPointerMovePointerType","_laserlineVisualElement","_grabbedManipulator","_analysisHandles","_manipulatorHandles","_targetTrackerManipulator","finishToolCreation","_observerManipulator","_createObserverManipulator","_createLaserLine","_onObserverLocationChange","glowColor","innerColor","globalAlpha","_updateLaserLineStyle","_laserLineRendererDependencies","_updateLaserLineRenderer","addWhen","_shouldRenderTracker","_clearCursorTracker","active","hasGrabbedManipulators","_removeLaserLine","_set","cursor","_showTracker","continue","activeTool","stop","onEditableChange","editable","internallyEditable","onInputEvent","_doubleClickHandler","_keyDownHandler","_pointerMoveHandler","onInputEventAfter","_clickHandler","onShow","onHide","onDeactivate","_onComputationsCollectionChange","destroyed","warn","_createTargetManipulator","available","_onTargetLocationChange","_getTargetManipulator","manipulators","_createTargetManipulatorDragPipeline","events","_manipulatorGrabChanged","_manipulatorClick","elevationAlignedLocation","forEach","manipulator","_createObserverManipulatorDragPipeline","_screenToIntersection","screenEnd","next","_updateTargetDragStep","_updateObserverDragStep","_cancelObserverDragStep","_updateFromIntersection","action","laserlineVisualElement","grabbedManipulator","shouldRenderTracker","heightManifoldTarget","renderLocation","lineVerticalPlaneSegment","attached","style","isDecoration","toUnitRGB","_addPointFromClickEvent","button","Right","stopPropagation","key","pointerType","grabbing","dragging","testInfo","visibleLineVisualElement","occludedLineVisualElement","undefinedLineVisualElement","targetVisualElement","_lineOfSightVisualElements","Array","_createObserverVisualization","_observerVisualElement","interactiveAndEditable","test","_createLineOfSightVisualization","width","push","_destroyLineOfSightVisualization","splice","indexOf","_updateLineOfSightVisualization","transform","_getLineOfSightVisualizationDependencies","pixelSnappingEnabled","primitive","outlineSize","tool","_analysisController","_analysisVisualization","map","getResultForTarget","find","nonNullable","data","coordinateHelper","disableDisplay","intersect","tools","deactivate","created","clear","resetCreated","LINE","sqrt","RAY"],"sourceRoot":""}