{"version":3,"file":"static/js/947.8373865b.chunk.js","mappings":"iNAIwf,MAAMA,UAAUC,EAAAA,GAAG,SAASC,IAAI,MAAMD,EAAE,IAAIE,EAAAA,GAAE,OAAOF,EAAEG,QAAQC,EAAAA,GAAGJ,EAAEK,QAAQC,IAAI,YAAY,OAAO,GAAGN,EAAEO,SAASC,SAASF,IAAI,IAAIG,EAAAA,EAAE,gBAAgBL,GAAGA,EAAEM,QAAQ,IAAID,EAAAA,EAAE,aAAaL,GAAGA,EAAEO,YAAY,IAAIC,EAAAA,EAAE,uBAAuBR,IAAC,IAAAS,EAAA,OAAU,QAAVA,EAAET,EAAEU,cAAM,IAAAD,EAAAA,EAAE,CAAC,KAAIE,KAAKT,KAAIU,EAAAA,EAAAA,GAACC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,8WAOlvBlB,CAAC,CAAC,MAAMmB,EAAEC,OAAOC,OAAOD,OAAOE,eAAe,CAACC,UAAU,KAAKC,6BAA6BzB,EAAE0B,MAAMxB,GAAGyB,OAAOC,YAAY,CAACC,MAAM,W,kJCPoc,MAAMC,UAAUC,EAAAA,EAAEC,WAAAA,GAAcC,SAASC,WAAWC,KAAKC,OAAOnC,EAAAA,EAAC,EAAE,SAASS,IAAI,MAAMG,EAAE,IAAIV,EAAAA,GAAE,OAAOU,EAAEwB,WAAW9B,IAAIa,EAAAA,EAAEkB,SAAS,QAAQzB,EAAEP,QAAQC,IAAI,YAAY,OAAO,GAAGM,EAAE0B,OAAO9B,SAASF,IAAI,IAAIU,EAAAA,EAAE,QAAQ,CAACZ,EAAEQ,IAAIA,EAAE2B,OAAOC,mBAAmB,IAAIxB,EAAAA,EAAE,QAAQ,CAACJ,EAAEZ,KAAII,EAAAA,EAAAA,IAAEqC,EAAEzC,EAAEuC,OAAOG,WAAW9B,EAAEuB,WAAWpB,KAAKT,KAAIP,EAAAA,EAAAA,GAACkB,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,yDAAoDN,EAAEL,SAASQ,KAAKT,KAAIP,EAAAA,EAAAA,GAAC4C,IAAAA,GAAAzB,EAAAA,EAAAA,GAAA,0CAAqCN,CAAC,CAAC,MAAM6B,GAAE7B,EAAAA,EAAAA,MAAIX,EAAEmB,OAAOC,OAAOD,OAAOE,eAAe,CAACC,UAAU,KAAKqB,4BAA4Bf,EAAEJ,MAAMhB,GAAGiB,OAAOC,YAAY,CAACC,MAAM,W,kWCAxyB,MAAM1B,UAAUU,EAAAA,EAAEmB,WAAAA,CAAYnB,EAAEI,EAAEc,GAAGE,MAAMpB,EAAEI,EAAE,IAAIZ,EAAAA,EAAEJ,EAAAA,GAAG,IAAI,kCAAiD8B,EAAE,CAACe,kBAAAA,GAAqB,OAAO7B,EAAAA,EAAAA,IAAE,CAAC8B,WAAWhB,EAAAA,IAAG,E,0BCAjG,MAAMA,UAAUlB,EAAAA,EAAEmB,WAAAA,CAAYnB,EAAEZ,EAAED,GAAGiC,MAAMpB,EAAEZ,EAAE,IAAII,EAAAA,EAAEY,EAAAA,GAAG,IAAI,kCAAgDjB,EAAE,CAAC8C,kBAAAA,GAAqB,OAAO9C,EAAAA,EAAAA,IAAE,CAAC+C,WAAW5C,EAAAA,GAAE6C,UAAU,CAACC,KAAKhD,EAAAA,GAAEiD,SAAS,E,gDCAoiB,IAAIC,EAAE,cAAclD,EAAAA,EAAE+B,WAAAA,CAAY3B,GAAG4B,MAAM5B,GAAG8B,KAAKiB,SAAS,CAACC,SAAS,CAAC,gBAAgBlB,KAAKmB,SAAS,cAAcnB,KAAKoB,oBAAoB,IAAIC,MAAMrB,KAAKsB,MAAMD,QAAQrB,KAAKuB,OAAO,IAAIF,MAAMrB,KAAKwB,SAAS,IAAIH,MAAMrB,KAAKyB,iBAAiB,IAAIC,EAAAA,EAAE1B,KAAK2B,gBAAgB,IAAIC,EAAAA,EAAE1D,EAAE2D,WAAWC,WAAW9D,GAAGE,EAAE2D,WAAWC,WAAWlC,EAAE,CAACmC,UAAAA,GAAa/B,KAAKgC,mBAAmB,CAACC,OAAAA,GAAUjC,KAAKsB,MAAMY,SAAShE,GAAGA,EAAEiE,YAAYnC,KAAKsB,MAAM,GAAGtB,KAAKuB,OAAO,GAAGvB,KAAKwB,SAAS,EAAE,CAACY,MAAAA,CAAOlE,GAAG,MAAML,EAAEmC,KAAK6B,WAAWQ,QAAQrE,GAAGc,EAAEkB,KAAK6B,WAAWQ,QAAQzC,GAAG9B,EAAEkC,KAAKsC,eAAerD,EAAEf,EAAEqE,MAAMC,IAAA,IAAEC,KAAKvE,GAAEsE,EAAA,MAAG,gBAAgBtE,CAAC,IAAGK,EAAG,OAADU,QAAC,IAADA,OAAC,EAADA,EAAGyD,aAAa3E,EAAED,EAAEuC,OAAOqB,EAAE3D,EAAE4E,aAAa,GAAGf,EAAE7D,EAAE4E,aAAa,GAAGC,EAAE5C,KAAK6C,SAASR,QAAQX,EAAEE,EAAE,YAAYlD,EAAAA,EAAEoE,MAAMC,EAAE/C,KAAK6C,SAASR,QAAQX,EAAEE,EAAE5B,KAAKmB,UAAU,IAAItD,EAAEmF,WAAWlE,EAAEkE,WAAWhD,KAAKsB,OAAOtB,KAAKpB,SAASqE,EAAEC,KAAK,OAAOlD,KAAKmD,gBAAgBtF,EAAEuF,UAAUtE,EAAEsE,UAAUL,EAAEK,UAAUR,EAAEQ,UAAUnE,EAAE,MAAM+B,EAAEhB,KAAKqD,iBAAiBT,EAAEU,YAAYrE,EAAEsE,cAAcvD,KAAKwD,GAAGC,2BAA2BzC,EAAE0C,gBAAgBd,EAAEe,KAAK3C,EAAE4C,MAAMjE,EAAAA,GAAEkE,MAAMlE,EAAAA,GAAEmE,SAAS9C,EAAE+C,YAAY,EAAE,EAAErC,EAAEE,GAAGZ,EAAEwC,GAAGQ,aAAa,GAAGhD,EAAEwC,GAAGI,MAAM5C,EAAEwC,GAAGS,oBAAoBjD,EAAEkD,gBAAgB,GAAG,IAAI,IAAIxF,EAAE,EAAEA,EAAEsB,KAAKsB,MAAM6C,OAAOzF,IAAI,CAAC,MAAMR,EAAE8B,KAAKsB,MAAM5C,GAAGI,EAAEkB,KAAKuB,OAAO7C,GAAGR,IAAI8B,KAAK2B,gBAAgB1B,OAAOD,KAAKwB,SAAS9C,GAAGsC,EAAEoD,cAAcvG,EAAEC,EAAEkC,KAAK2B,iBAAiBX,EAAEqD,uBAAsB,GAAIrD,EAAEsD,uBAAsB,GAAItD,EAAEuD,oBAAoB,KAAKvD,EAAEwD,mBAAmBC,EAAAA,GAAEC,OAAO,EAAE,KAAK1D,EAAE2D,qBAAqBpE,EAAAA,GAAEqE,MAAMC,EAAAA,GAAEC,KAAKD,EAAAA,GAAEE,UAAUF,EAAAA,GAAEC,MAAM9D,EAAE2D,qBAAqBpE,EAAAA,GAAEyE,KAAKH,EAAAA,GAAEC,KAAKD,EAAAA,GAAEI,UAAUJ,EAAAA,GAAEC,MAAM9D,EAAEkE,sBAAqB,GAAIlE,EAAEmE,cAAa,GAAG,GAAG,GAAG,GAAInE,EAAEoE,QAAQlH,GAAG8C,EAAEqE,WAAWC,EAAAA,GAAEC,UAAU,EAAEzG,GAAGkC,EAAEqD,uBAAsB,GAAIrD,EAAEwE,qBAAoB,GAAIxE,EAAEwD,mBAAmBC,EAAAA,GAAEgB,SAAS,EAAE,KAAKzE,EAAEuD,oBAAoB,GAAGvD,EAAEmE,cAAa,GAAG,GAAG,GAAG,GAAInE,EAAEqE,WAAWC,EAAAA,GAAEC,UAAU,EAAEzG,GAAG,CAAC,OAAOjB,EAAEuF,UAAUpC,EAAEwC,GAAGI,MAAM5C,EAAEwC,GAAGS,oBAAoBjD,EAAE0C,gBAAgBX,EAAEY,KAAK3D,KAAKyB,iBAAiBjD,MAAMD,EAAEyB,KAAKyB,iBAAiBhD,UAAUmE,EAAEF,aAAa1C,KAAKyB,iBAAiB7C,OAAOoB,KAAKpB,OAAOoC,EAAEoD,cAActF,EAAEhB,EAAEkC,KAAKyB,kBAAkBT,EAAE0E,OAAOC,OAAO/C,EAAEQ,UAAUtE,EAAEsE,UAAUL,EAAEO,YAAYrE,EAAEsE,cAAcvD,KAAKwD,GAAGC,2BAA2BV,CAAC,CAACf,iBAAAA,GAAoB,MAAM9D,EAAE8B,KAAKoB,oBAAoBpB,KAAKsB,MAAM,GAAGtB,KAAKuB,OAAO,GAAGvB,KAAKwB,SAAS,GAAG,IAAI,IAAI3D,EAAE,EAAEA,EAAEK,EAAEiG,OAAOtG,IAAI,KAAA+H,EAAC,MAAM9G,EAAEZ,EAAEL,GAAGa,EAAE,IAAI2C,MAAMvD,EAAEgB,EAAE+G,cAAc7F,KAAKwB,SAASsE,KAAKhH,EAAEmB,QAAQ,IAAI,IAAI/B,EAAE,EAAEA,EAAEJ,EAAEqG,OAAOjG,IAAIQ,EAAEoH,KAAKhH,EAAEiH,UAAU,GAAGjI,EAAEI,GAAG,KAAKQ,EAAEoH,KAAKhH,EAAEiH,UAAU,GAAGjI,EAAEI,GAAG,GAAG,IAAIQ,EAAEoH,KAAKhH,EAAEiH,UAAU,GAAGjI,EAAEI,GAAG,GAAG,IAAI,MAAM0B,EAAEd,EAAEkH,gBAAgB,IAAI,IAAI9H,EAAE,EAAEA,EAAE0B,EAAEuE,OAAOjG,IAAIQ,EAAEoH,KAAKhH,EAAEiH,UAAU,EAAEnG,EAAE1B,KAAKQ,EAAEoH,KAAKhH,EAAEiH,UAAU,EAAEnG,EAAE1B,GAAG,IAAIQ,EAAEoH,KAAKhH,EAAEiH,UAAU,EAAEnG,EAAE1B,GAAG,IAAI,MAAMF,EAAE,IAAIiI,aAAavH,GAAGgD,EAAE,IAAI3D,EAAAA,EAAEiC,KAAKqD,iBAAiBpE,EAAAA,EAAE,IAAIiH,IAAI,CAAC,CAAC,WAAW3H,EAAAA,MAAK,IAAI2H,IAAI,CAAC,CAAC,WAAWtD,EAAAA,EAAEuD,aAAanG,KAAKqD,iBAAiBN,EAAAA,GAAEqD,YAAYpI,OAAiB,QAAV4H,EAAA5F,KAAKsB,aAAK,IAAAsE,GAAVA,EAAYE,KAAKpE,GAAG1B,KAAKuB,OAAOuE,KAAKhI,EAAEqG,OAAOvE,EAAEuE,OAAO,CAAC,IAAGjG,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,OAAKmD,EAAEqF,UAAU,gBAAW,IAAQnI,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,OAAKmD,EAAEqF,UAAU,gBAAW,IAAQnI,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,IAAE,CAACyI,eAAc,KAAMtF,EAAEqF,UAAU,kBAAa,IAAQnI,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,OAAKmD,EAAEqF,UAAU,2BAAsB,IAAQnI,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,OAAKmD,EAAEqF,UAAU,cAAS,GAAQrF,GAAE9C,EAAAA,EAAAA,GAAE,EAACY,EAAAA,EAAAA,GAAE,qEAAqEkC,GAAG,MAAMuF,EAAE1G,WAAAA,CAAY3B,EAAEL,EAAEiB,EAAEJ,EAAEZ,GAAGkC,KAAK+F,UAAU7H,EAAE8B,KAAK6F,cAAchI,EAAEmC,KAAKgG,gBAAgBlH,EAAEkB,KAAKwG,OAAO9H,EAAEsB,KAAKC,OAAOnC,CAAC,EAAE,IAAImF,EAAY/E,KAAiE+E,IAAIA,EAAE,CAAC,IAAnE/E,EAAEgF,KAAK,GAAG,OAAOhF,EAAEA,EAAEuI,OAAO,GAAG,SAASvI,EAAEA,EAAEwI,KAAK,GAAG,OAAmB,MAAMC,EAAE,CAACC,KAAK3D,EAAEC,KAAK2D,OAAO5D,EAAEwD,OAAOK,KAAK7D,EAAEyD,M,eCA9/F,IAAIC,EAAE,eAAc/E,EAAAA,EAAAA,GAAE0D,EAAAA,IAAIzF,WAAAA,GAAcC,SAASC,WAAWC,KAAK+G,KAAK,eAAe/G,KAAKgH,kBAAkB,IAAInC,EAAAA,EAAE7E,KAAKiH,YAAY,IAAI5F,KAAK,CAACU,UAAAA,GAAa/B,KAAKkH,WAAW,EAACpJ,EAAAA,EAAAA,KAAG,IAAIkC,KAAKmH,MAAMC,aAAa,CAAClJ,EAAEQ,KAAKA,EAAER,EAAE8B,KAAKqH,iBAAiB3I,GAAGsB,KAAKsH,yBAAyB,GAAGzJ,EAAAA,KAAGC,EAAAA,EAAAA,KAAG,IAAIkC,KAAKmH,MAAMI,YAAY,CAACrJ,EAAEQ,KAAKA,EAAER,EAAE8B,KAAKwH,aAAa9I,IAAIsB,KAAKwH,YAAY5I,OAAO6I,EAAE/I,GAAG,GAAGb,EAAAA,KAAGC,EAAAA,EAAAA,KAAG,IAAIkC,KAAKmH,MAAMO,UAAU,CAACxJ,EAAEJ,KAAI,IAAA6J,EAAAC,EAAC1J,EAAkB,QAAjByJ,EAAC3H,KAAKwH,mBAAW,IAAAG,IAAhB3H,KAAKwH,YAAc,IAAIK,EAAE,CAACC,KAAK9H,KAAK8H,KAAKjG,WAAW7B,KAAK8H,KAAKC,OAAOC,WAAWnG,WAAWT,oBAAoBpB,KAAKiH,YAAYrI,OAAO6I,EAAsB,QAArBG,EAAC5H,KAAKmH,MAAMI,iBAAS,IAAAK,EAAAA,EAAE,WAAU5H,KAAKwH,aAAY9I,EAAAA,EAAAA,IAAEsB,KAAKwH,YAAY,GAAG3J,EAAAA,KAAI,CAACoE,OAAAA,GAAUjC,KAAKwH,aAAY9I,EAAAA,EAAAA,IAAEsB,KAAKwH,aAAaxH,KAAKiH,YAAY,EAAE,CAACI,gBAAAA,CAAiBnJ,GAAG8B,KAAKiH,YAAY,GAAe,IAAI,MAAMnJ,KAAKI,EAAE,CAAC,MAAMA,GAAEK,EAAAA,EAAAA,MAAIV,GAAE8B,EAAAA,EAAAA,MAAIb,EAAEkB,KAAK8H,KAAKG,mBAAmBC,cAAcnK,EAAAA,GAAEoK,OAAOrJ,GAAGkB,KAAK8H,KAAKG,mBAAmBG,kBAAkB,KAAKvK,GAAG,MAAM+B,GAAEmD,EAAAA,EAAAA,IAAEjF,GAAG,GAAG,MAAM8B,EAAE,QAAOgD,EAAAA,EAAAA,GAAE9E,EAAEuK,iBAAiB,CAACzI,EAAE0I,EAAE1I,EAAE2I,EAAE,GAAGrK,EAAE8B,KAAK8H,KAAKG,mBAAmBI,kBAAkB,MAAMzG,GAAE5D,EAAAA,EAAAA,GAAEwK,EAAE,CAACtK,EAAE,IAApgC,EAA0gCL,EAAE,GAAGK,EAAE,IAAjhC,EAAuhCL,EAAE,GAAGK,EAAE,IAA9hC,EAAoiCL,EAAE,KAAKgH,GAAEtG,EAAAA,EAAAA,MAAIsG,EAAE,KAAK3G,EAAE,IAAI2G,EAAE,KAAK3G,EAAE,IAAI2G,EAAE,KAAK3G,EAAE,IAAI,MAAM2J,GAAEY,EAAAA,EAAAA,IAAE3K,EAAEkC,KAAK8H,KAAKY,kBAAkB1I,KAAK8H,KAAKG,mBAAmBjI,KAAKgH,oBAAoB2B,SAASlB,EAAEmB,aAAatD,EAAEuD,SAAS5F,GAAG4E,EAAE,IAAI,MAAM/J,KAAK2J,EAAE,CAAC,MAAM7H,EAAE9B,EAAEgL,MAAMvK,GAAEU,EAAAA,EAAAA,GAAEnB,EAAE8K,aAAa9K,EAAEiL,YAAY,GAAG,GAAG,IAAIxK,EAAE4F,OAAO,SAAS,MAAMnG,EAAEO,EAAE4F,OAAOxE,EAAE,EAAEC,EAAEgD,GAAElB,EAAAA,EAAAA,IAAE/B,EAAE3B,GAAGD,GAAE2D,EAAAA,EAAAA,IAAE1D,GAAG+E,GAAExC,EAAAA,EAAAA,IAAE,EAAEZ,GAAG8I,GAAElI,EAAAA,EAAAA,IAAE,EAAEZ,GAAGkI,GAAEtH,EAAAA,EAAAA,IAAE,EAAEZ,GAAG8H,GAAElH,EAAAA,EAAAA,IAAEZ,IAAG4I,EAAAA,EAAAA,GAAEtF,EAAEqC,EAAE/G,EAAET,EAAEiF,EAAE8E,EAAEY,EAAEhB,EAAE7E,EAAE7E,EAA9qBkF,IAAkrBpF,EAAEiB,IAAG2F,EAAAA,EAAAA,GAAE1B,EAAEA,EAAE8B,GAAG,MAAM8B,EAAE,IAAIqC,EAAEjG,EAAEhF,EAAE6E,EAAltBK,IAAstB,CAAC/E,EAAE,IAAr8C,EAA28C0D,EAAE,GAAG1D,EAAE,IAAl9C,EAAw9C0D,EAAE,GAAG1D,EAAE,IAA/9C,EAAq+C0D,EAAE,KAAK5B,KAAKiH,YAAYnB,KAAKa,EAAE,CAAC,CAAC,CAACW,uBAAAA,GAAyB,IAAA2B,EAACjJ,KAAKwH,aAAaxH,KAAKwH,YAAYpG,oBAAoBpB,KAAKiH,YAAYjH,KAAKwH,YAAYxF,qBAAqBhC,KAAKwH,YAAY,IAAIK,EAAE,CAACC,KAAK9H,KAAK8H,KAAKjG,WAAW7B,KAAK8H,KAAKC,OAAOC,WAAWnG,WAAWT,oBAAoBpB,KAAKiH,YAAYrI,OAAO6I,EAAsB,QAArBwB,EAACjJ,KAAKmH,MAAMI,iBAAS,IAAA0B,EAAAA,EAAE,SAAS,IAAG/K,EAAAA,EAAAA,GAAE,EAACY,EAAAA,EAAAA,OAAK6H,EAAEN,UAAU,YAAO,IAAQnI,EAAAA,EAAAA,GAAE,EAACY,EAAAA,EAAAA,OAAK6H,EAAEN,UAAU,aAAQ,GAAQM,GAAEzI,EAAAA,EAAAA,GAAE,EAAC0B,EAAAA,EAAAA,GAAE,8CAA8C+G,GAAG,MAAM6B,GAAE7I,EAAAA,EAAAA,MAAIqB,EAAE2F,C,iJCApyF,MAAM5I,EAAEA,IAAI,IAAIkB,EAAE,cAAclB,EAAE8B,WAAAA,GAAcC,SAASC,WAAWC,KAAKkJ,mBAAkB,EAAGlJ,KAAKmJ,8BAA6B,CAAE,CAACC,UAAAA,GAAatJ,MAAMsJ,cAAaxG,EAAAA,EAAAA,IAAE5C,KAAKmH,QAAQnH,KAAKqJ,oBAAoBrJ,KAAKsJ,2BAA2B,CAAC,8BAAMA,GAA2B,MAAMxL,EAAE,IAAIyL,gBAAgB7K,EAAEZ,EAAE0L,OAAOxJ,KAAKkH,YAAWpI,EAAAA,EAAAA,KAAG,IAAIhB,EAAE2L,iBAAiB5L,EAAAA,EAAAA,KAAG,SAAA6L,EAAA,OAA6B,QAA7BA,EAAI1J,KAAK8H,KAAK6B,uBAAe,IAAAD,OAAA,EAAzBA,EAA2BE,oBAAoB,GAAElL,IAAGR,EAAAA,EAAAA,IAAEQ,GAAG,MAAMkB,GAAE5B,EAAAA,EAAAA,IAAEgC,KAAKmH,MAAMnH,KAAK8H,KAAK+B,gBAAgB7J,KAAKmJ,8BAA8B,GAAGvJ,EAAE,MAAMA,CAAC,GAAG,OAAO9B,EAAAA,EAAAA,GAAE,EAACY,EAAAA,EAAAA,OAAKO,EAAEoH,UAAU,YAAO,IAAQvI,EAAAA,EAAAA,GAAE,EAACY,EAAAA,EAAAA,OAAKO,EAAEoH,UAAU,yBAAoB,GAAQpH,GAAEnB,EAAAA,EAAAA,GAAE,EAAC8B,EAAAA,EAAAA,GAAE,qCAAqCX,GAAGA,CAAC,C,mLCAzjB,IAAI2C,EAAE,eAAchC,EAAAA,EAAAA,KAAE7B,EAAAA,EAAAA,GAAEW,EAAAA,EAAEoL,aAAajM,EAAAA,MAAMgC,WAAAA,CAAY3B,GAAG4B,MAAM5B,GAAG8B,KAAK+J,iBAAiB,IAAInH,EAAAA,EAAE5C,KAAKmH,MAAM,KAAKnH,KAAKgK,OAAO,IAAI,CAACjI,UAAAA,GAAa/B,KAAKiK,OAAOC,OAAOhM,IAAI,GAAG,2BAA2BA,EAAEuE,KAAK,KAAA0H,EAAC,MAAMtM,EAAEmC,KAAKmH,OAAOnH,KAAKmH,MAAMiD,IAAI,QAAQ1L,GAAY,QAAVyL,EAAAnK,KAAKmH,aAAK,IAAAgD,OAAA,EAAVA,EAAYE,QAAO,WAAWvL,EAAAA,EAAEwL,UAAUtK,MAAMuK,MAAM,aAAY,+CAAAC,OAAgD9L,EAAC,YAAA8L,OAAW3M,EAAC,MAAKK,EAAE,IAAI,CAAC+D,OAAAA,GAAUjC,KAAK+J,kBAAiB9K,EAAAA,EAAAA,IAAEe,KAAK+J,iBAAiB,CAAC,eAAIU,GAAa,IAAAC,EAAAC,EAAAC,EAAAC,EAAC,OAA0B,QAApBH,EAAW,QAAXC,EAAC3K,KAAKmH,aAAK,IAAAwD,OAAA,EAAVA,EAAYG,eAAO,IAAAJ,EAAAA,EAAE,IAA4B,QAA3BE,EAAc,QAAdC,EAAG7K,KAAKgK,cAAM,IAAAa,OAAA,EAAXA,EAAaJ,mBAAW,IAAAG,EAAAA,EAAE,EAAE,CAAC,aAAIG,GAAY,OAAO/K,KAAKgL,YAAYhL,KAAKiL,WAAW,CAAC,eAAIC,GAAc,OAAOlL,KAAKmL,gBAAgB,CAAC,iBAAIC,GAAe,IAAAC,EAAC,OAAOrL,KAAK+K,YAAW,KAAe,QAAbM,EAAGrL,KAAKmH,aAAK,IAAAkE,OAAA,EAAVA,EAAYD,cAAa,CAAC,YAAIE,GAAU,IAAAC,EAAC,SAA8B,QAAtBA,EAACvL,KAAK+J,wBAAgB,IAAAwB,IAArBA,EAAuBD,YAAWtL,KAAKwL,aAAa,CAAC,oBAAIC,GAAmB,OAAOzL,KAAKsL,SAAS,EAAE,CAAC,CAAC,mBAAII,GAAkB,OAAO1L,KAAK+K,SAAS,CAAC,WAAIrD,GAAS,IAAAiE,EAAC,OAAM,KAAe,QAAbA,EAAG3L,KAAKmH,aAAK,IAAAwE,OAAA,EAAVA,EAAYjE,QAAO,CAAC,WAAIA,CAAQxJ,GAAG8B,KAAK4L,gBAAgB,UAAU1N,EAAE,CAAC,yBAAI2N,GAAwB,OAAM,CAAE,CAAC,8BAAIC,GAA4B,IAAAC,EAAC,MAAM7N,EAAE8B,KAAK8H,KAAKkE,WAAWnO,EAAY,QAAXkO,EAAC/L,KAAKmH,aAAK,IAAA4E,OAAA,EAAVA,EAAYE,qBAAqB,OAAO/N,IAAIL,IAAIK,EAAEgO,aAAarO,GAAGsO,OAAO,CAAClB,SAAAA,GAAW,IAAAmB,EAAAC,EAAAC,EAAC,MAAMpO,EAAE8B,KAAKmH,OAAO,wBAAwBnH,KAAKmH,MAAMnH,KAAKmH,MAAMoF,oBAAoB,KAAK,OAAOvM,KAAK0H,UAAmB,QAAZ0E,EAAEpM,KAAKmH,aAAK,IAAAiF,OAAA,EAAVA,EAAYI,WAAoB,QAAZH,EAACrM,KAAKgK,cAAM,IAAAqC,GAAXA,EAAatB,aAAoB,QAAXuB,EAAEtM,KAAK8H,YAAI,IAAAwE,OAAA,EAATA,EAAWG,SAAOlM,EAAAA,EAAAA,IAAErC,IAAI8B,KAAK6L,uBAAuB7L,KAAK8L,6BAA4B,CAAE,CAACX,cAAAA,GAAgB,IAAAuB,EAAAC,EAAC,MAAMzO,EAAa,QAAXwO,EAAA1M,KAAKgK,cAAM,IAAA0C,GAAXA,EAAa3B,UAAU/K,KAAKgK,OAAOkB,YAAY,CAAC,EAAe,QAANyB,EAAL3M,KAAO8H,YAAI,IAAA6E,GAANA,EAAQF,QAAQvO,EAAE0O,cAAa,GAAI5M,KAAKmH,OAAOnH,KAAKmH,MAAMqF,SAAStO,EAAE2O,gBAAe,GAAI,MAAMnO,EAAEsB,KAAKmH,OAAO,wBAAwBnH,KAAKmH,MAAMnH,KAAKmH,MAAMoF,oBAAoB,KAAK,OAAOhM,EAAAA,EAAAA,IAAE7B,IAAIsB,KAAK6L,wBAAwB3N,EAAE4O,mBAAkB,GAAI9M,KAAK8L,6BAA6B5N,EAAE6O,6BAA4B,GAAI/M,KAAK0H,UAAUxJ,EAAE8O,gBAAe,GAAI9O,CAAC,CAACsN,UAAAA,GAAa,OAAM,CAAE,IAAGtN,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAK8D,EAAEyE,UAAU,YAAO,IAAQnI,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAK8D,EAAEyE,UAAU,cAAc,OAAMnI,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAK8D,EAAEyE,UAAU,aAAQ,IAAQnI,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAK8D,EAAEyE,UAAU,cAAS,IAAQnI,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,IAAE,CAACmP,UAAS,KAAMrL,EAAEyE,UAAU,YAAY,OAAMnI,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,IAAE,CAACmP,UAAS,KAAMrL,EAAEyE,UAAU,cAAc,OAAMnI,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,IAAE,CAACmP,UAAS,KAAMrL,EAAEyE,UAAU,gBAAgB,OAAMnI,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,IAAE,CAACiJ,KAAKmG,QAAQD,UAAS,KAAMrL,EAAEyE,UAAU,WAAW,OAAMnI,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,IAAE,CAACmP,UAAS,KAAMrL,EAAEyE,UAAU,mBAAmB,OAAMnI,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAK8D,EAAEyE,UAAU,kBAAkB,OAAMnI,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAK8D,EAAEyE,UAAU,UAAU,OAAMnI,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,IAAE,CAACmP,UAAS,KAAMrL,EAAEyE,UAAU,wBAAwB,OAAMnI,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,IAAE,CAACmP,UAAS,KAAMrL,EAAEyE,UAAU,6BAA6B,MAAMzE,GAAE1D,EAAAA,EAAAA,GAAE,EAACF,EAAAA,EAAAA,GAAE,gCAAgC4D,GAAG,MAAM2G,EAAE3G,C","sources":["../node_modules/@arcgis/core/chunks/FocusAreaColor.glsl.js","../node_modules/@arcgis/core/chunks/FocusAreaMask.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/focusArea/FocusAreaColorTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/focusArea/FocusAreaMaskTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/focusArea/FocusAreaRenderNode.js","../node_modules/@arcgis/core/views/3d/layers/FocusAreaLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{IntegerPassUniform as r}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{NoParameters as o,glsl as s}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as a}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as c}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";class t extends o{}function l(){const o=new a;return o.include(e),o.outputs.add(\"fragColor\",\"vec4\",0),o.fragment.uniforms.add(new c(\"colorTexture\",(e=>e.color)),new c(\"focusArea\",(e=>e.focusArea)),new r(\"focusAreaEffectMode\",(e=>e.effect??1))).main.add(s`float mask = texture( focusArea, uv, 0.0 ).r;\nvec4 color = texture( colorTexture, uv, 0.0 );\nvec4 colorDeSaturate = vec4(color.r * 0.25 + color.g * 0.5 + color.b * 0.25);\nif (focusAreaEffectMode == 1) {\nfragColor = mask > 0.0 ? color : 0.55 * colorDeSaturate + 0.45;\n} else {\nfragColor = mask > 0.0 ? color : 0.33 * mix(color, colorDeSaturate, 0.);\n}`),o}const n=Object.freeze(Object.defineProperty({__proto__:null,FocusAreaColorPassParameters:t,build:l},Symbol.toStringTag,{value:\"Module\"}));export{t as F,n as a,l as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{translate as e}from\"../core/libs/gl-matrix-2/math/mat4.js\";import{create as r}from\"../core/libs/gl-matrix-2/factories/mat4f64.js\";import{ZEROS as o}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{NoParameters as i,glsl as t}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Matrix4PassUniform as s}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js\";import{ShaderBuilder as a}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as n}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";class m extends i{constructor(){super(...arguments),this.origin=o}}function c(){const r=new a;return r.attributes.add(n.POSITION,\"vec3\"),r.outputs.add(\"fragColor\",\"vec4\",0),r.vertex.uniforms.add(new s(\"proj\",((e,r)=>r.camera.projectionMatrix)),new s(\"view\",((r,o)=>e(d,o.camera.viewMatrix,r.origin)))).main.add(t`gl_Position = proj * view * vec4(position, 1.0);`),r.fragment.main.add(t`fragColor = vec4(1., 0., 0., 1.);`),r}const d=r(),l=Object.freeze(Object.defineProperty({__proto__:null,FocusAreaMaskPassParameters:m,build:c},Symbol.toStringTag,{value:\"Module\"}));export{m as F,l as a,c as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{a as o}from\"../../../../../chunks/FocusAreaColor.glsl.js\";import{makePipelineState as s,defaultColorWrite as i}from\"../../../../webgl/renderState.js\";class a extends r{constructor(r,s,i){super(r,s,new e(o,(()=>import(\"../../shaders/FocusAreaColor.glsl.js\"))),i)}initializePipeline(){return s({colorWrite:i})}}export{a as FocusAreaColorTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{a as s}from\"../../../../../chunks/FocusAreaMask.glsl.js\";import{CompareFunction as o}from\"../../../../webgl/enums.js\";import{makePipelineState as t,defaultColorWrite as a}from\"../../../../webgl/renderState.js\";class i extends r{constructor(r,o,t){super(r,o,new e(s,(()=>import(\"../../shaders/FocusAreaMask.glsl.js\"))),t)}initializePipeline(){return t({colorWrite:a,depthTest:{func:o.LEQUAL}})}}export{i as FocusAreaMaskTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{property as t}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{ColorFormat as r}from\"../../../webgl/formats.js\";import o from\"../../../webgl/RenderNode.js\";import{FocusAreaColorTechnique as i}from\"./FocusAreaColorTechnique.js\";import{FocusAreaMaskTechnique as a}from\"./FocusAreaMaskTechnique.js\";import{Default3D as n}from\"../../lib/DefaultVertexAttributeLocations.js\";import{Pos3 as c}from\"../../lib/DefaultVertexBufferLayouts.js\";import{VertexArrayObject as l}from\"../../lib/VertexArrayObject.js\";import{F as h}from\"../../../../../chunks/FocusAreaColor.glsl.js\";import{F as u}from\"../../../../../chunks/FocusAreaMask.glsl.js\";import{BufferObject as p}from\"../../../../webgl/BufferObject.js\";import{FramebufferBit as m,CompareFunction as f,Face as d,StencilOperation as g,PrimitiveType as A,Usage as _}from\"../../../../webgl/enums.js\";let E=class extends o{constructor(e){super(e),this.consumes={required:[\"final-color\"]},this.produces=\"final-color\",this.focusAreaGeometries=new Array,this._vaos=Array(),this._count=new Array,this._origins=new Array,this._colorParameters=new h,this._maskParameters=new u,e.techniques.precompile(a),e.techniques.precompile(i)}initialize(){this.setExtrudedVolume()}destroy(){this._vaos.forEach((e=>e.dispose())),this._vaos=[],this._count=[],this._origins=[]}render(e){const t=this.techniques.acquire(a),s=this.techniques.acquire(i),o=this.bindParameters,n=e.find((({name:e})=>\"final-color\"===e)),c=n?.getTexture(),l=o.camera,h=l.fullViewport[2],u=l.fullViewport[3],p=this.fboCache.acquire(h,u,\"focusArea\",r.RGBA),_=this.fboCache.acquire(h,u,this.produces);if(!t.compiled||!s.compiled||!this._vaos||this.effect===b.NONE)return this.requestRender(),t.release(),s.release(),_.release(),p.release(),n;const E=this.renderingContext;p.attachDepth(n.getAttachment(this.gl.DEPTH_STENCIL_ATTACHMENT)),E.bindFramebuffer(p.fbo),E.clear(m.COLOR|m.STENCIL),E.setViewport(0,0,h,u),E.gl.clearStencil(0),E.gl.clear(E.gl.STENCIL_BUFFER_BIT),E.setClearStencil(0);for(let r=0;r<this._vaos.length;r++){const e=this._vaos[r],s=this._count[r];e&&(this._maskParameters.origin=this._origins[r],E.bindTechnique(t,o,this._maskParameters),E.setFaceCullingEnabled(!1),E.setStencilTestEnabled(!0),E.setStencilWriteMask(255),E.setStencilFunction(f.ALWAYS,0,255),E.setStencilOpSeparate(d.FRONT,g.KEEP,g.INCR_WRAP,g.KEEP),E.setStencilOpSeparate(d.BACK,g.KEEP,g.DECR_WRAP,g.KEEP),E.setDepthWriteEnabled(!1),E.setColorMask(!1,!1,!1,!1),E.bindVAO(e),E.drawArrays(A.TRIANGLES,0,s),E.setFaceCullingEnabled(!1),E.setDepthTestEnabled(!1),E.setStencilFunction(f.NOTEQUAL,0,255),E.setStencilWriteMask(0),E.setColorMask(!0,!0,!0,!0),E.drawArrays(A.TRIANGLES,0,s))}return t.release(),E.gl.clear(E.gl.STENCIL_BUFFER_BIT),E.bindFramebuffer(_.fbo),this._colorParameters.color=c,this._colorParameters.focusArea=p.getTexture(),this._colorParameters.effect=this.effect,E.bindTechnique(s,o,this._colorParameters),E.screen.draw(),p.release(),s.release(),_.attachDepth(n.getAttachment(this.gl.DEPTH_STENCIL_ATTACHMENT)),_}setExtrudedVolume(){const e=this.focusAreaGeometries;this._vaos=[],this._count=[],this._origins=[];for(let t=0;t<e.length;t++){const s=e[t],r=new Array,o=s.indicesBottom;this._origins.push(s.origin);for(let e=0;e<o.length;e++)r.push(s.positions[3*(o[e]-1)]),r.push(s.positions[3*(o[e]-1)+1]),r.push(s.positions[3*(o[e]-1)+2]);const i=s.indicesExtruded;for(let e=0;e<i.length;e++)r.push(s.positions[3*i[e]]),r.push(s.positions[3*i[e]+1]),r.push(s.positions[3*i[e]+2]);const a=new Float32Array(r),h=new l(this.renderingContext,n,new Map([[\"geometry\",c]]),new Map([[\"geometry\",p.createVertex(this.renderingContext,_.STATIC_DRAW,a)]]));this._vaos?.push(h),this._count.push(o.length+i.length)}}};e([t()],E.prototype,\"consumes\",void 0),e([t()],E.prototype,\"produces\",void 0),e([t({constructOnly:!0})],E.prototype,\"techniques\",void 0),e([t()],E.prototype,\"focusAreaGeometries\",void 0),e([t()],E.prototype,\"effect\",void 0),E=e([s(\"esri.views.3d.webgl-engine.effects.focusArea.FocusAreaRenderNode\")],E);class T{constructor(e,t,s,r,o){this.positions=e,this.indicesBottom=t,this.indicesExtruded=s,this.height=r,this.origin=o}}var b;!function(e){e[e.NONE=0]=\"NONE\",e[e.BRIGHT=1]=\"BRIGHT\",e[e.DARK=2]=\"DARK\"}(b||(b={}));const C={none:b.NONE,bright:b.BRIGHT,dark:b.DARK};export{b as FocusAreaEffect,T as FocusAreaGeometry,E as FocusAreaRenderNode,C as effectsMapping};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{destroyMaybe as r}from\"../../../core/maybe.js\";import{watch as o,syncAndInitial as t}from\"../../../core/reactiveUtils.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{e as n}from\"../../../chunks/earcut.js\";import{create as c}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{n as a}from\"../../../chunks/vec32.js\";import{create as m}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{computeTranslationToOriginAndRotation as p}from\"../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{newDoubleArray as d}from\"../../../geometry/support/DoubleArray.js\";import{newIndexArray as h}from\"../../../geometry/support/Indices.js\";import{t as f}from\"../../../chunks/vec3.js\";import{ViewingMode as l}from\"../../ViewingMode.js\";import{LayerView3D as u}from\"./LayerView3D.js\";import{ElevationContext as g}from\"./graphics/ElevationContext.js\";import{extrudePolygon as y}from\"./graphics/Graphics3DExtrudeSymbolLayer.js\";import{computeCentroid as _}from\"./graphics/graphicUtils.js\";import{geometryToRenderInfo as w}from\"../support/renderInfoUtils/polygon.js\";import{FocusAreaGeometry as v,FocusAreaRenderNode as j,effectsMapping as N}from\"../webgl-engine/effects/focusArea/FocusAreaRenderNode.js\";import A from\"../../layers/LayerView.js\";const x=0,b=1e4;let C=class extends(u(A)){constructor(){super(...arguments),this.type=\"focusArea-3d\",this._elevationContext=new g,this._geometries=new Array}initialize(){this.addHandles([o((()=>this.layer.geometries),((e,r)=>{r=e,this._extrudePolygons(r),this._setFocusAreaRenderNode()}),t),o((()=>this.layer.tmpEffect),((e,r)=>{r=e,this._renderNode&&r&&(this._renderNode.effect=N[r])}),t),o((()=>this.layer.visible),((e,o)=>{e?this._renderNode??=new j({view:this.view,techniques:this.view._stage.renderView.techniques,focusAreaGeometries:this._geometries,effect:N[this.layer.tmpEffect??\"none\"]}):this._renderNode=r(this._renderNode)}),t)])}destroy(){this._renderNode=r(this._renderNode),this._geometries=[]}_extrudePolygons(e){this._geometries=[];const r=b-x;for(const o of e){const e=c(),t=m(),s=this.view.renderCoordsHelper.viewingMode===l.Global;s||this.view.renderCoordsHelper.worldUpAtPosition(null,t);const i=_(o);if(null==i)return;p(o.spatialReference,[i.x,i.y,0],e,this.view.renderCoordsHelper.spatialReference);const u=a(V,[e[12]-x*t[0],e[13]-x*t[1],e[14]-x*t[2]]),g=c();g[12]=-e[12],g[13]=-e[13],g[14]=-e[14];const j=w(o,this.view.elevationProvider,this.view.renderCoordsHelper,this._elevationContext),{polygons:N,mapPositions:A,position:b}=j;for(const o of N){const i=o.count,c=n(o.mapPositions,o.holeIndices,3);if(0===c.length)continue;const a=c.length,m=6*i,p=h(m+a),l=h(a),_=d(3*m),w=d(3*m),j=d(3*m),N=d(m);y(b,A,c,o,_,j,w,N,p,l,r,t,s),f(_,_,g);const C=new v(_,l,p,r,[e[12]+x*u[0],e[13]+x*u[1],e[14]+x*u[2]]);this._geometries.push(C)}}}_setFocusAreaRenderNode(){this._renderNode?(this._renderNode.focusAreaGeometries=this._geometries,this._renderNode.setExtrudedVolume()):this._renderNode=new j({view:this.view,techniques:this.view._stage.renderView.techniques,focusAreaGeometries:this._geometries,effect:N[this.layer.tmpEffect??\"none\"]})}};e([s()],C.prototype,\"type\",void 0),e([s()],C.prototype,\"layer\",void 0),C=e([i(\"esri.views.3d.layers.FocusAreaLayerView3D\")],C);const V=m(),E=C;export{E as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i(l(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n"],"names":["t","o","l","a","include","e","outputs","add","fragment","uniforms","c","color","focusArea","r","_e$effect","effect","main","s","_templateObject","_taggedTemplateLiteral","n","Object","freeze","defineProperty","__proto__","FocusAreaColorPassParameters","build","Symbol","toStringTag","value","m","i","constructor","super","arguments","this","origin","attributes","POSITION","vertex","camera","projectionMatrix","d","viewMatrix","_templateObject2","FocusAreaMaskPassParameters","initializePipeline","colorWrite","depthTest","func","LEQUAL","E","consumes","required","produces","focusAreaGeometries","Array","_vaos","_count","_origins","_colorParameters","h","_maskParameters","u","techniques","precompile","initialize","setExtrudedVolume","destroy","forEach","dispose","render","acquire","bindParameters","find","_ref","name","getTexture","fullViewport","p","fboCache","RGBA","_","compiled","b","NONE","requestRender","release","renderingContext","attachDepth","getAttachment","gl","DEPTH_STENCIL_ATTACHMENT","bindFramebuffer","fbo","clear","COLOR","STENCIL","setViewport","clearStencil","STENCIL_BUFFER_BIT","setClearStencil","length","bindTechnique","setFaceCullingEnabled","setStencilTestEnabled","setStencilWriteMask","setStencilFunction","f","ALWAYS","setStencilOpSeparate","FRONT","g","KEEP","INCR_WRAP","BACK","DECR_WRAP","setDepthWriteEnabled","setColorMask","bindVAO","drawArrays","A","TRIANGLES","setDepthTestEnabled","NOTEQUAL","screen","draw","_this$_vaos","indicesBottom","push","positions","indicesExtruded","Float32Array","Map","createVertex","STATIC_DRAW","prototype","constructOnly","T","height","BRIGHT","DARK","C","none","bright","dark","type","_elevationContext","_geometries","addHandles","layer","geometries","_extrudePolygons","_setFocusAreaRenderNode","tmpEffect","_renderNode","N","visible","_this$_renderNode","_this$layer$tmpEffect","j","view","_stage","renderView","renderCoordsHelper","viewingMode","Global","worldUpAtPosition","spatialReference","x","y","V","w","elevationProvider","polygons","mapPositions","position","count","holeIndices","v","_this$layer$tmpEffect2","slicePlaneEnabled","supportsHeightUnitConversion","postscript","addResolvingPromise","_validateHeightModelInfo","AbortController","signal","abort","_this$view$defaultsFr","defaultsFromMap","heightModelInfoReady","heightModelInfo","EventedMixin","_updatingHandles","parent","when","catch","_this$layer","id","title","getLogger","error","concat","fullOpacity","_this$layer$opacity","_this$layer2","_this$parent$fullOpac","_this$parent","opacity","suspended","destroyed","canResume","suspendInfo","getSuspendInfo","legendEnabled","_this$layer3","updating","_this$_updatingHandle","isUpdating","updatingProgress","updateSuspended","_this$layer4","_overrideIfSome","visibleAtCurrentScale","visibleAtCurrentTimeExtent","_this$layer5","timeExtent","visibilityTimeExtent","intersection","isEmpty","_this$layer6","_this$parent2","_this$view","effectiveScaleRange","loaded","ready","_this$parent3","_t$view","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","readOnly","Boolean"],"sourceRoot":""}