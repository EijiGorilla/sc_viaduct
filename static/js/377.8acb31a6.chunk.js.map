{"version":3,"file":"static/js/377.8acb31a6.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/maybeUpdating.js","../node_modules/@arcgis/core/views/3d/layers/i3s/featureEditing.js","../node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/core/AsyncUpdate.js","../node_modules/@arcgis/core/views/3d/layers/support/SceneLayerViewRequiredFields.js","../node_modules/@arcgis/core/views/3d/layers/support/fieldProperties.js","../node_modules/@arcgis/core/views/layers/SceneLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nconst n=\"updating\";function t(n){return\"updating\"===n?null:n}function u(n){return\"updating\"===n}export{u as isUpdating,t as unwrapUpdating,n as updating};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{resultOrAbort as e}from\"../../../../core/asyncUtils.js\";import{clone as t}from\"../../../../core/lang.js\";import{queryAllJSON as n}from\"../../../../layers/support/featureQueryAll.js\";const o={setAttribute(){},rollback(){},commit(){}};var r;function i(e,n){const i=n.attributes[e.objectIdField];if(null==i)return o;const s=e.sessions.get(i);if(s)return s;const l=t(n.attributes),u=new Set,a=e.i3sOverrides.createInteractiveEditSession(i),d=new Map,f=(e,t)=>{const n=d.get(e);if(null==n){const n=t.indexOf(i);return d.set(e,n),n}return n};let c=r.EDITING;const g={setAttribute(t,o){if(c!==r.EDITING)return;const i=e.fieldsIndex.get(t);if(!i)return;const s=e.attributeStorageInfo.findIndex((e=>e.name===i.name));if(s<0)return;if(!(t in l))throw new Error(`Attribute \"${t}\" is not an attribute of the edited feature.`);a.setAttribute(s,o);const d=e.attributeStorageInfo[s];let g=!1;u.add(t),e.forEachNode(((t,r)=>{const i=f(t,r);if(-1===i)return;const s=e.getAttributeData(t.index);if(s){const r=s[d.name];r&&(r[i]=o,e.setAttributeData(t.index,s,n),g=!0)}})),g&&e.clearMemCache()},rollback(){if(c===r.EDITING){for(const e of u)this.setAttribute(e,l[e]);a.remove(),c=r.ROLLED_BACK,e.sessions.delete(i)}},commit(){c===r.EDITING&&(a.remove(),c=r.COMMITTED,e.sessions.delete(i))}};return e.sessions.set(i,g),g}function s(e,t,n){const{gidToFeatureInfo:o,oidToFeatureInfo:r,fieldsIndex:i,objectIdField:s,globalIdField:l,featureOrIdentifierList:u}=n;if(!n.featuresResolved&&null!=u){for(const e of u){const t={feature:null,oid:-1,gid:null};if(\"attributes\"in e){t.feature=e;const n=e.attributes;if(null!=n)for(const e in n){if(-1!==t.oid&&null!=t.gid)break;const o=i.normalizeFieldName(e);o===s&&(t.oid=n[e]??-1),o===l&&(t.gid=n[e])}}else t.oid=e.objectId??-1,t.gid=e.globalId;null!=t.gid&&o.set(t.gid,t),-1!==t.oid&&r.set(t.oid,t)}n.featuresResolved=!0}return(-1!==e?r.get(e):null)??(null!=t?o.get(t):null)}function l(e,t,n,o,r=null,i=!0){const l=[],u={gidToFeatureInfo:new Map,oidToFeatureInfo:new Map,featuresResolved:null==n,fieldsIndex:e.fieldsIndex,objectIdField:e.objectIdField,globalIdField:e.globalIdField,featureOrIdentifierList:n};for(const a of t){if(null!=a.error)continue;const e=a.objectId??-1,t=a.globalId,n=(-1===e||i?s(e,t,u):null)??{feature:null,oid:e,gid:t},d={oid:-1===e?n.oid:e,gid:t??n.gid,feature:n.feature,result:a};if(l.push(d),-1===d.oid&&null!=d.gid&&null!=r&&(d.oid=r.get(d.gid)??-1),-1===d.oid&&null!=d.gid){let e=o.get(d.gid);null==e&&(e=[],o.set(d.gid,e)),e.push(d)}}return l}async function u(e,t){const n=new Map,o=l(e,t.addedFeatures,t.edits?.addFeatures,n),r=l(e,t.updatedFeatures,t.edits?.updateFeatures,n),i=l(e,t.deletedFeatures,t.edits?.deleteFeatures,n,t.globalIdToObjectId,!1);return n.size>0&&await a(e,n),{adds:o.filter((e=>-1!==e.oid)),updates:r.filter((e=>-1!==e.oid)),deletes:i.filter((e=>-1!==e.oid))}}async function a(t,o){const r=t.i3sOverrides.layer.associatedLayer;if(null==r?.globalIdField)return;const i=r.createQuery(),{objectIdField:s,globalIdField:l}=r;i.where=Array.from(o.keys()).map((e=>`${l}='${e}'`)).join(\" OR \"),i.returnGeometry=!1,i.outFields=[s,l],i.cacheHint=!1;const u=await e(n(r,i));if(!u.ok)return;const a=u.value.features;for(const e of a){const t=e.attributes[l],n=e.attributes[s];if(null==t||null==n||-1===n)continue;const r=o.get(t);if(null!=r)for(const e of r)e.oid=n}}function d(e,t){const n=new Map,o=t.adds,r=t.updates,i=t.deletes;if(o.length>0)for(const s of o){const e=s.oid,t=s.feature;\"mesh\"===t?.geometry?.type&&n.set(e,t.geometry)}if(r.length>0)for(const s of r){const e=s.oid,t=s.feature;\"mesh\"===t?.geometry?.type&&n.set(e,t.geometry)}if(i.length>0)for(const s of i)n.set(s.oid,null);for(const[s,l]of n)e.i3sOverrides.updateGeometry(s,l)}function f(e,t){const n=g(e,t),o=c(e,t);if(0===n.size&&0===o.size)return;const r=new Map;for(let c=0;c<e.attributeStorageInfo.length;c++)r.set(e.attributeStorageInfo[c].name,c);let i=!1;n.forEach(((t,n)=>{const o=e.getAttributeData(n);let s=!1;t.forEach(((t,n)=>{const l=null!=o?o[n]:null,u=r.get(n);for(const{featureIndex:o,value:r,featureId:a}of t)l&&(l[o]=r,s=!0,i=!0),e.i3sOverrides.updateAttributeValue(a,u,r)})),s&&e.setAttributeData(n,o,null)})),i&&e.clearMemCache();const{fieldsIndex:s,i3sOverrides:l,objectIdField:u,globalIdField:a}=e,d=l.layer.associatedLayer?.infoFor3D,f=new Set(d?[...Object.values(d.assetMapFieldRoles),...Object.values(d.transformFieldRoles)]:[]);for(const[c,g]of o){l.featureAdded(c);const{attributes:e}=g;for(const t in e){if(t!==u&&t!==a&&f.has(t))continue;const n=s.normalizeFieldName(t),o=null!=n?r.get(n):null;if(null==o)continue;const i=e[t];l.updateAttributeValue(c,o,i)}}}function c(e,t){const n=new Map,o=t.adds;if(!o||0===o.length||null==e.globalIdField)return n;for(const r of o){const e=r.oid,t=r.feature;\"mesh\"===t?.geometry?.type&&n.set(e,t)}return n}function g(e,t){const n=t.updates;if(!n||0===n.length)return new p;const o=new p,r=new Map;for(let i=0;i<e.attributeStorageInfo.length;i++)r.set(e.attributeStorageInfo[i].name,i);return e.forEachNode(((t,r)=>{for(const i of n){if(null==i.feature)continue;const n=i.feature,s=i.oid,l=r.indexOf(s);for(const r in n.attributes){const i=e.fieldsIndex.normalizeFieldName(r),u=I(o,t.index,i),a=n.attributes[r];u.push({featureIndex:l,featureId:s,value:a})}}})),o}function I(e,t,n){const o=b(e,t),r=null!=n&&o.get(n);if(r)return r;const i=new Array;return o.set(n,i),i}function b(e,t){const n=e.get(t);if(n)return n;const o=new m;return e.set(t,o),o}!function(e){e[e.EDITING=0]=\"EDITING\",e[e.ROLLED_BACK=1]=\"ROLLED_BACK\",e[e.COMMITTED=2]=\"COMMITTED\"}(r||(r={}));const m=Map,p=Map;export{i as createInteractiveEditSession,u as normalizeEditResultsEvent,f as processAttributeEdits,d as processGeometryEdits};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as o}from\"../../../../core/sql/WhereClause.js\";import{findFieldsCaseInsensitive as n}from\"../i3s/I3SUtil.js\";const t=t=>{let p=class extends t{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&e.getLogger(this).error(\"Error while evaluating definitionExpression: \"+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&e.getLogger(this).error(\"Further errors are ignored\")}}get parsedDefinitionExpression(){if(!this.i3slayer?.definitionExpression)return null;try{const r=o.create(this.i3slayer.definitionExpression,this.i3slayer.fieldsIndex);if(!r.isStandardized)return e.getLogger(this).error(\"definitionExpression is using non standard function\"),null;const i=[],s=r.fieldNames;return n(s,this.i3slayer.fields,{missingFields:i}),i.length>0?(e.getLogger(this).error(`definitionExpression references unknown fields: ${i.join(\", \")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return e.getLogger(this).error(\"Failed to parse definitionExpression: \"+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:[]}_evaluateClause(r,e){try{return r.testFeature(e)}catch(i){return this.logError(i),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const e=this.i3slayer.definitionExpression,i=r.clone();return i.where?i.where=`(${e}) AND (${i.where})`:i.where=e,i}};return r([i()],p.prototype,\"i3slayer\",void 0),r([i({readOnly:!0})],p.prototype,\"parsedDefinitionExpression\",null),r([i({readOnly:!0})],p.prototype,\"definitionExpressionFields\",null),p=r([s(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\")],p),p};export{t as DefinitionExpressionSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Error.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as t,populateMissingFields as a}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as o,getRequiredFields as p}from\"../../../layers/support/popupUtils.js\";const i=i=>{let c=class extends i{_validateFetchPopupFeatures(e){const{layer:s}=this,{popupEnabled:t}=s;if(!t)throw new r(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:s});if(!o(s,e))throw new r(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:s})}async prepareFetchPopupFeatures(e){}async fetchPopupFeatures(e,r){this._validateFetchPopupFeatures(r);const s=null!=r?r.clientGraphics:null;if(!s||0===s.length)return[];const i=\"scene\"===this.layer.type&&null!=this.layer.associatedLayer?this.layer.associatedLayer:this.layer;let c=[];\"fieldsIndex\"in this.layer&&(c=t(this.layer.fieldsIndex,await p(i,o(this.layer,r)))),await this.prepareFetchPopupFeatures(c);const l=new Set,n=[],u=[];for(const t of s)a(c,t,l)?u.push(t):n.push(t);return 0===u.length?n:this.whenGraphicAttributes(u,[...l]).catch((()=>u)).then((e=>n.concat(e)))}};return c=e([s(\"esri.views.3d.layers.support.PopupSceneLayerView\")],c),c};export{i as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import e from\"./Accessor.js\";import s from\"./Logger.js\";import{runTracked as n}from\"./accessorSupport/tracking.js\";import{property as a}from\"./accessorSupport/decorators/property.js\";import{subclass as r}from\"./accessorSupport/decorators/subclass.js\";import{SimpleTrackingTarget as o}from\"./accessorSupport/tracking/SimpleTrackingTarget.js\";const i=e=>{let n=class extends e{constructor(){super(...arguments),this._numUpdating=0,this._asyncUpdateState=new Map}get updating(){return this._numUpdating>0}autoUpdateAsync(t,e){return c((e=>this._updateAsync(t,e)),e)}async _updateAsync(t,e){if(!this._startAsyncUpdate(t)){try{const s=await e();this._set(t,s)}catch(n){s.getLogger(this).warn(`Async update of \"${String(t)}\" failed. Async update functions should not throw exceptions.`)}this._endAsyncUpdate(t)&&this._updateAsync(t,e)}}_startAsyncUpdate(t){const e=this._asyncUpdateState.get(t)??p.None;return e&p.Updating?(this._asyncUpdateState.set(t,e|p.Invalidated),!0):(++this._numUpdating,this._asyncUpdateState.set(t,e|p.Updating),!1)}_endAsyncUpdate(t){--this._numUpdating;const e=(this._asyncUpdateState.get(t)??p.None)&~p.Updating;return e&p.Invalidated?(this._asyncUpdateState.set(t,e&~p.Invalidated),!0):(this._asyncUpdateState.set(t,e),!1)}};return t([a({readOnly:!0})],n.prototype,\"updating\",null),t([a()],n.prototype,\"_numUpdating\",void 0),n=t([r(\"esri.core.AsyncUpdate\")],n),n};var p;function c(t,e){const s=()=>{i&&!p&&t(a)},a=()=>{if(!i||p)return e();i.clear(),p=!0;const t=n(i,e);return p=!1,t},r=()=>{i&&(i.destroy(),i=null)};let i=new o(s),p=!1;return t(a),{remove:r}}!function(t){t[t.None=0]=\"None\",t[t.Updating=1]=\"Updating\",t[t.Invalidated=2]=\"Invalidated\"}(p||(p={}));let d=class extends(i(e)){};d=t([r(\"esri.core.AsyncUpdate\")],d);export{d as AsyncUpdate,i as AsyncUpdateMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{AsyncUpdateMixin as s}from\"../../../../core/AsyncUpdate.js\";import t from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fixFields as l,collectLabelingFields as n,collectFilterFields as a}from\"../../../../layers/support/fieldUtils.js\";const d=\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\";let c=class extends(s(r)){get layer(){return this.layerView.layer}get requiredFields(){const{layerView:{layer:{fieldsIndex:e},definitionExpressionFields:r},rendererFields:s,labelingFields:t,viewFilterFields:i}=this;return l(e,[...r??[],...s??[],...t??[],...i??[]])}constructor(e){super(e)}initialize(){this.addHandles([this.autoUpdateAsync(\"rendererFields\",(async()=>{const{fieldsIndex:e,renderer:r}=this.layer;return r?p((s=>r.collectRequiredFields(s,e))):null})),this.autoUpdateAsync(\"labelingFields\",(async()=>{const{layer:e}=this;return e.labelsVisible?p((r=>n(r,e))):null})),this.autoUpdateAsync(\"viewFilterFields\",(()=>{const{layer:e,filter:r}=this.layerView;return p((s=>a(s,e,r)))}))])}};async function p(e){const r=new Set;try{return await e(r),Array.from(r).sort()}catch(s){return t.getLogger(d).error(s),null}}e([i()],c.prototype,\"layerView\",void 0),e([i()],c.prototype,\"layer\",null),e([i()],c.prototype,\"requiredFields\",null),e([i()],c.prototype,\"rendererFields\",void 0),e([i()],c.prototype,\"labelingFields\",void 0),e([i()],c.prototype,\"viewFilterFields\",void 0),c=e([o(d)],c);export{c as SceneLayerViewRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{fixFields as e,unpackFieldNames as r}from\"../../../../layers/support/fieldUtils.js\";function i(){return{requiredFields:{type:[String],readOnly:!0},availableFields:{type:[String],readOnly:!0,get:function(){const{layer:i,layer:{fieldsIndex:t},requiredFields:l}=this;return i.outFields?e(t,[...r(t,i.outFields),...l]):e(t,l)}}}}export{i as defineFieldProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{isSome as t}from\"../../core/arrayUtils.js\";import r from\"../../core/Logger.js\";import{abortMaybe as o}from\"../../core/maybe.js\";import{unwrapUpdating as i,updating as n,isUpdating as l}from\"../../core/maybeUpdating.js\";import{throwIfAbortError as s,throwIfNotAbortError as a}from\"../../core/promiseUtils.js\";import{whenOnce as m}from\"../../core/reactiveUtils.js\";import{property as p}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{project as u,canProjectWithoutEngine as y,isLoaded as g,load as d}from\"../../geometry/projection.js\";import h from\"./LayerView.js\";const f=\"esri.views.layers.SceneLayerView\",w=r.getLogger(f);let E=class extends h{constructor(){super(...arguments),this.layer=null,this.filter=null,this._geometryEngine=null,this._projectionEngineLoaded=!1,this._abortController=new AbortController}get availableFields(){return[]}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){throw new Error(\"Not implemented\")}get maximumNumberOfFeaturesExceeded(){return!1}get layerFilter(){return i(this._layerFilter)}get _layerFilter(){const e=this.layer?.filter;if(null==e||e.geometries.length<1)return null;const r=this._geometryEngine;if(null==r||!this._projectionEngineLoaded&&this._filterNeedsProjectionEngine)return n;const o=e.geometries.at(0).spatialReference,i=e.geometries.toArray().map((e=>{try{e=r.simplify(e)}catch(t){return w.warnOncePerTick(\"Failed to simplify scene filter mask polygon. Polygon will be ignored.\"),null}if(null==e)return null;if(e.spatialReference.equals(o))return e;try{return u(e,o)}catch(t){return w.warnOncePerTick(\"Failed to project scene filter mask polygon. Polygon will be ignored.\"),null}})).filter(t).sort(((e,t)=>e.extent.xmin-t.extent.xmin)),l=new Set,s=new Array,a=new Array;for(let t of i){const e=t.extent.xmin;if(s.length=0,l.forEach((o=>{if(e>=o.extent.xmax)return a.push(o),void l.delete(o);t.extent.ymin<=o.extent.ymax&&t.extent.ymax>=o.extent.ymin&&r.intersects(t,o)&&s.push(o)})),s.length>0){s.push(t);try{t=r.union(s)}catch(m){w.warnOncePerTick(\"Failed to unify filter mask polygons. Polygon will be ignored.\");continue}s.pop(),s.forEach((e=>l.delete(e)))}l.add(t)}return l.forEach((e=>a.push(e))),a.length>0?{spatialRelationship:e.spatialRelationship,geometries:a}:null}get _filterNeedsProjectionEngine(){const e=this.layer.filter;if(null==e||e.geometries.length<=1)return!1;const t=e.geometries.at(0).spatialReference;return e.geometries.some((({spatialReference:e})=>!e.equals(t)&&!y(e,t)))}get layerFilterUpdating(){return l(this._layerFilter)}initialize(){const{signal:e}=this._abortController;m((()=>this.destroyed||!this._geometryEngine&&this.layer?.filter?.geometries?.length),e).then((async()=>{s(e),this._geometryEngine=await import(\"../../geometry/geometryEngine.js\")})).catch(a),this._projectionEngineLoaded=g(),m((()=>this.destroyed||!this._projectionEngineLoaded&&this._filterNeedsProjectionEngine),e).then((async()=>{s(e),await d(),this._projectionEngineLoaded=!0})).catch(a)}destroy(){this._abortController=o(this._abortController)}highlight(e){throw new Error(\"Not implemented\")}queryFeatures(e,t){throw new Error(\"Not implemented\")}queryObjectIds(e,t){throw new Error(\"Not implemented\")}queryFeatureCount(e,t){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(e,t){throw new Error(\"Not implemented\")}};e([p()],E.prototype,\"layer\",void 0),e([p()],E.prototype,\"availableFields\",null),e([p()],E.prototype,\"maximumNumberOfFeatures\",null),e([p({readOnly:!0})],E.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([p()],E.prototype,\"filter\",void 0),e([p({readOnly:!0})],E.prototype,\"layerFilter\",null),e([p({readOnly:!0})],E.prototype,\"_layerFilter\",null),e([p()],E.prototype,\"_geometryEngine\",void 0),e([p()],E.prototype,\"_projectionEngineLoaded\",void 0),e([p()],E.prototype,\"_filterNeedsProjectionEngine\",null),e([p()],E.prototype,\"layerFilterUpdating\",null),E=e([c(f)],E);const j=E;export{j as default};\n"],"names":["n","t","u","o","setAttribute","rollback","commit","r","e","i","attributes","objectIdField","s","sessions","get","l","Set","a","i3sOverrides","createInteractiveEditSession","d","Map","f","indexOf","set","c","EDITING","g","fieldsIndex","attributeStorageInfo","findIndex","name","Error","concat","add","forEachNode","getAttributeData","index","setAttributeData","clearMemCache","this","remove","ROLLED_BACK","delete","COMMITTED","_ref","gidToFeatureInfo","oidToFeatureInfo","globalIdField","featureOrIdentifierList","featuresResolved","_e$objectId","feature","oid","gid","_n$e","normalizeFieldName","objectId","globalId","arguments","length","undefined","_a$objectId","_ref2","_r$get","error","result","push","async","_t$edits","_t$edits2","_t$edits3","addedFeatures","edits","addFeatures","updatedFeatures","updateFeatures","deletedFeatures","deleteFeatures","globalIdToObjectId","size","layer","associatedLayer","createQuery","where","Array","from","keys","map","join","returnGeometry","outFields","cacheHint","ok","value","features","adds","filter","updates","deletes","_t$geometry","geometry","type","_t$geometry2","updateGeometry","_l$layer$associatedLa","p","I","featureIndex","featureId","_t$geometry3","forEach","updateAttributeValue","infoFor3D","Object","values","assetMapFieldRoles","transformFieldRoles","featureAdded","has","m","b","constructor","super","_definitionExpressionErrors","_maxDefinitionExpressionErrors","logError","getLogger","parsedDefinitionExpression","_this$i3slayer","i3slayer","definitionExpression","create","isStandardized","fieldNames","fields","missingFields","definitionExpressionFields","_evaluateClause","testFeature","_addDefinitionExpressionToQuery","clone","prototype","readOnly","_validateFetchPopupFeatures","popupEnabled","prepareFetchPopupFeatures","fetchPopupFeatures","clientGraphics","whenGraphicAttributes","catch","then","_numUpdating","_asyncUpdateState","updating","autoUpdateAsync","clear","destroy","_updateAsync","_startAsyncUpdate","_set","warn","String","_endAsyncUpdate","_this$_asyncUpdateSta","None","Updating","Invalidated","_this$_asyncUpdateSta2","layerView","requiredFields","rendererFields","labelingFields","viewFilterFields","initialize","addHandles","renderer","collectRequiredFields","labelsVisible","sort","availableFields","w","E","h","_geometryEngine","_projectionEngineLoaded","_abortController","AbortController","maximumNumberOfFeatures","maximumNumberOfFeaturesExceeded","layerFilter","_layerFilter","_this$layer","geometries","_filterNeedsProjectionEngine","at","spatialReference","toArray","simplify","warnOncePerTick","equals","extent","xmin","xmax","ymin","ymax","intersects","union","pop","spatialRelationship","some","y","layerFilterUpdating","signal","_this$layer2","destroyed","highlight","queryFeatures","queryObjectIds","queryFeatureCount","queryExtent","j"],"sourceRoot":""}