{"version":3,"file":"static/js/1674.0067bff5.chunk.js","mappings":"6IAIA,MAAMA,EAAE,WAAW,SAASC,EAAED,GAAG,MAAM,aAAaA,EAAE,KAAKA,CAAC,CAAC,SAASE,EAAEF,GAAG,MAAM,aAAaA,CAAC,C,ydCA2oE,MAAMG,EAAE,0DAA0DC,EAAEC,EAAAA,EAAEC,UAAUH,GAAGI,GAAEC,EAAAA,EAAAA,KAAI,IAAIC,EAAE,cAAcT,EAAAA,EAAEU,eAAcC,EAAAA,EAAAA,GAAEC,EAAAA,KAAKC,WAAAA,CAAYC,GAAGC,MAAMD,GAAGE,KAAKC,KAAK,qBAAqBD,KAAKE,UAAU,KAAKF,KAAKG,oBAAoB,GAAGH,KAAKI,sBAAsB,GAAGJ,KAAKK,oBAAoB,GAAGL,KAAKM,UAAU,KAAKN,KAAKO,uBAAuB,KAAKP,KAAKQ,MAAM,KAAKR,KAAKS,qBAAqB,GAAGT,KAAKU,OAAO,GAAGV,KAAKW,gBAAgB,KAAKX,KAAKY,UAAU,KAAKZ,KAAKa,SAAS,OAAOb,KAAKc,SAAS,KAAKd,KAAKe,qBAAqB,KAAKf,KAAKgB,cAAa,EAAGhB,KAAKiB,cAAc,KAAKjB,KAAKkB,UAAU,WAAW,CAAC,aAAIC,GAAW,IAAAC,EAAAC,EAAC,OAAOrB,KAAKsB,MAAM,CAACC,KAAI,GAAAC,OAAwB,QAAxBJ,EAAIpB,KAAKsB,MAAMH,iBAAS,IAAAC,OAAA,EAApBA,EAAsBG,KAAI,eAAAC,OAAcxB,KAAKyB,IAAKC,MAA0B,QAArBL,EAACrB,KAAKsB,MAAMH,iBAAS,IAAAE,OAAA,EAApBA,EAAsBK,OAAO,CAACH,KAAK,GAAG,CAAC,eAAII,GAAc,OAAO,IAAIC,EAAAA,EAAE5B,KAAKU,OAAO,CAACmB,mBAAAA,CAAoB/B,EAAEgC,GAAG,MAAM7C,EAAEe,KAAKsB,MAAMS,6BAA6BC,EAAEF,EAAEG,kBAAkB,OAAO,MAAMhD,GAAG,iBAAiB+C,EAAE,IAAIE,EAAAA,QAAE,CAACC,WAAWlD,EAAEmD,QAAQJ,IAAI,IAAI,CAAC,iBAAIK,GAAgB,GAAG,MAAMrC,KAAKU,OAAO,IAAI,MAAMZ,KAAKE,KAAKU,OAAO,GAAG,QAAQZ,EAAEG,KAAK,OAAOH,EAAEwC,KAAK,OAAO,IAAI,CAAC,gBAAIC,GAAe,OAAO,MAAMvC,KAAKW,gBAAgBX,KAAKW,gBAAgB4B,kBAAa,CAAM,CAAC,UAAIC,GAAS,OAAOxC,KAAKsB,MAAMkB,MAAM,CAAC,cAAIC,GAAa,OAAOzC,KAAKsB,MAAMmB,UAAU,CAAC,oBAAIC,GAAmB,OAAO1C,KAAKsB,MAAMoB,gBAAgB,CAAC,WAAIC,GAAU,OAAO3C,KAAKsB,MAAMqB,OAAO,CAAC,iBAAIC,GAAgB,OAAO5C,KAAKsB,MAAMsB,aAAa,CAAC,YAAIC,GAAW,OAAO7C,KAAKsB,MAAMuB,QAAQ,CAAC,YAAIC,GAAW,OAAO9C,KAAKsB,MAAMwB,QAAQ,CAAC,uBAAIC,GAAsB,OAAO/C,KAAKsB,MAAMyB,mBAAmB,CAAC,wBAAIC,GAAuB,OAAOhD,KAAKiD,qBAAqB,CAACC,IAAAA,CAAKpD,GAAG,MAAMgC,EAAE,MAAMhC,EAAEA,EAAEqD,OAAO,KAAKlE,EAAEe,KAAKoD,cAActB,GAAGuB,MAAM,KAAKrD,KAAKM,WAAUgD,EAAAA,EAAAA,GAAEtD,KAAKmB,UAAUI,KAAKvB,KAAKuD,SAASvD,KAAKE,UAAUF,KAAKwC,OAAOpD,EAAE0C,EAAE,IAAI,OAAO9B,KAAKwD,oBAAoBvE,GAAGwE,QAAQC,QAAQ1D,KAAK,CAACiD,mBAAAA,CAAoBnD,GAAG,OAAO6D,EAAAA,EAAAA,IAAE3D,KAAKF,EAAE,CAAC,mBAAMsD,CAActD,GAAG,MAAMgC,SAAS8B,EAAAA,EAAAA,GAAE5D,KAAKmB,UAAUI,KAAK,CAACG,MAAM,CAACQ,EAAE,OAAO2B,MAAM7D,KAAKwC,QAAQsB,aAAa,OAAOX,OAAOrD,KAAKiE,KAAK/D,KAAKgE,KAAKlC,EAAE,CAACmC,OAAO,UAAUC,IAAIlE,KAAKmB,WAAW,CAACgD,QAAAA,CAASrE,GAAG,OAAOE,KAAK2B,YAAYyC,IAAItE,EAAE,CAACuE,cAAAA,CAAevE,EAAEgC,GAAE,IAAAwC,EAAAC,EAAAC,EAAC,MAAMvF,EAAiC,QAAhCqF,EAACtE,KAAKyE,eAAgB,OAAD3C,QAAC,IAADA,OAAC,EAADA,EAAG4C,gBAAQ,IAAAJ,GAAS,QAATA,EAA/BA,EAAiCK,eAAO,IAAAL,OAAA,EAAxCA,EAA2CxE,GAAG,OAAOb,GAAG,cAAcA,EAAEgB,KAAKhB,EAA0B,QAAzBsF,EAAiB,QAAjBC,EAACxE,KAAKmE,SAASrE,UAAE,IAAA0E,OAAA,EAAhBA,EAAkBI,cAAM,IAAAL,EAAAA,EAAE,IAAI,CAACE,cAAAA,CAAe3E,GAAG,OAAOA,GAAG,MAAME,KAAKW,gBAAgBX,KAAKW,gBAAgB8D,eAAe3E,GAAG,IAAI,CAAC,SAAI+E,GAAO,IAAAC,EAAC,OAAO,MAAM9E,KAAKW,iBAA0C,QAA3BmE,EAAC9E,KAAKW,gBAAgBkE,aAAK,IAAAC,EAAAA,EAAK,EAAE,CAAC,eAAIC,GAAc,OAAO,MAAM/E,KAAKW,gBAAgBX,KAAKW,gBAAgBoE,YAAY,IAAI,CAAC,gBAAIC,GAAe,MAAM,cAAchF,KAAKkB,UAAU,OAAO,OAAO,CAAC,WAAI+D,GAAU,MAAM,cAAcjF,KAAKkB,UAAU,gBAAgB,QAAQ,CAAC,gBAAIgE,GAAe,MAAMpF,EAAE,MAAME,KAAKW,iBAAiBX,KAAKW,gBAAgBuE,aAAalF,KAAKW,gBAAgBuE,aAAaC,EAAAA,GAAGzD,MAAMI,EAAEiC,MAAMqB,UAAUnG,EAAEoG,UAAUrD,EAAEsD,YAAY1B,IAAI9D,EAAE,MAAM,CAAC4B,MAAMI,EAAEiC,KAAK,CAACqB,UAAUnG,EAAEoG,UAAUrD,EAAEsD,YAAY1B,GAAG,CAAC2B,WAAAA,GAAc,MAAMzF,EAAE,IAAI0F,EAAAA,EAAE,MAAM,SAASxF,KAAKgF,eAAelF,EAAE2F,gBAAe,EAAG3F,EAAE4F,SAAQ,GAAI5F,EAAE6F,MAAM3F,KAAKe,sBAAsB,MAAMjB,EAAE8F,UAAU,WAAW9F,CAAC,CAAC+F,WAAAA,CAAY/F,EAAEgC,GAAG,OAAO9B,KAAK8F,8BAA8BzC,MAAMpE,GAAGA,EAAE4G,YAAY/F,GAAGE,KAAKuF,cAAczD,IAAI,CAACiE,iBAAAA,CAAkBjG,EAAEgC,GAAG,OAAO9B,KAAK8F,8BAA8BzC,MAAMpE,GAAGA,EAAE8G,kBAAkBjG,GAAGE,KAAKuF,cAAczD,IAAI,CAACkE,aAAAA,CAAclG,EAAEgC,GAAG,OAAO9B,KAAK8F,8BAA8BzC,MAAMpE,GAAGA,EAAE+G,cAAclG,GAAGE,KAAKuF,cAAczD,KAAKuB,MAAMvD,IAAI,GAAI,OAADA,QAAC,IAADA,GAAAA,EAAGmG,SAAS,IAAI,MAAMnE,KAAKhC,EAAEmG,SAASnE,EAAER,MAAMtB,KAAKsB,MAAMQ,EAAEoE,YAAYlG,KAAK,OAAOF,CAAC,GAAG,CAACqG,cAAAA,CAAerG,EAAEgC,GAAG,OAAO9B,KAAK8F,8BAA8BzC,MAAMpE,GAAGA,EAAEkH,eAAerG,GAAGE,KAAKuF,cAAczD,IAAI,CAAC,2BAAMsE,CAAsBtG,EAAEgC,GAAG,MAAM7C,GAAEoH,EAAAA,EAAAA,IAAErG,KAAK2B,kBAAkB2E,EAAAA,EAAAA,IAAEtG,MAAKuG,EAAAA,EAAAA,IAAEvG,QAAQ,OAAOwG,EAAAA,EAAAA,IAAExG,KAAKmB,UAAUI,KAAKvB,KAAKS,qBAAqBX,EAAEgC,EAAE7C,EAAE,CAAC,wBAAMwH,CAAmB3G,EAAEb,GAAG,MAAM+C,QAAQhC,KAAKoG,sBAAsBtG,EAAE,CAACb,IAAI,IAAI+C,GAAG,IAAIA,EAAE0E,OAAO,MAAM,IAAIC,EAAAA,EAAE,wCAAwC,oCAAoC,MAAM/C,EAAE,IAAI9B,EAAAA,EAAE,OAAO8B,EAAEgD,WAAW5E,EAAE,GAAG4B,EAAEtC,MAAMtB,KAAK4D,EAAEsC,YAAYlG,KAAK4D,CAAC,CAACiD,iBAAAA,CAAkB/G,GAAG,OAAOE,KAAK2B,YAAYmF,IAAIhH,GAAG,CAACiH,sBAAqB,EAAGC,kBAAiB,EAAGC,uBAAsB,EAAGC,oBAAmB,GAAI,CAACH,sBAAqB,EAAGC,kBAAiB,EAAGC,uBAAsB,EAAGC,mBAAmB,MAAMlH,KAAKW,gBAAgB,CAACmF,2BAAAA,GAA8B,MAAMhG,EAAEE,KAAKW,gBAAgB,OAAO,MAAMb,GAAGA,EAAEqH,OAAO1D,QAAQC,QAAQ5D,GAAGE,KAAKoH,8BAA8B,CAAC,kCAAMA,GAA+B,SAASpH,KAAKkD,OAAO,MAAMlD,KAAKW,gBAAgB,MAAM,IAAIgG,EAAAA,EAAE,yCAAyC,mGAAmG,CAACrF,MAAMtB,OAAO,UAAUA,KAAKW,gBAAgBuC,MAAM,CAAC,MAAMpD,GAAG,MAAM,IAAI6G,EAAAA,EAAE,yCAAyC,kEAAkE,CAACrF,MAAMtB,KAAKqH,MAAMvH,GAAG,CAAC,OAAOE,KAAKW,eAAe,IAAGb,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACC,UAAS,KAAM9H,EAAE+H,UAAU,YAAY,OAAM1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACrH,KAAKwH,EAAAA,GAAEF,UAAS,KAAM9H,EAAE+H,UAAU,iBAAY,IAAQ1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACrH,KAAK,CAACyH,EAAAA,IAAGH,UAAS,KAAM9H,EAAE+H,UAAU,2BAAsB,IAAQ1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACrH,KAAK,CAAC0H,EAAAA,IAAGJ,UAAS,KAAM9H,EAAE+H,UAAU,6BAAwB,IAAQ1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACrH,KAAK,CAAC2H,EAAAA,IAAGL,UAAS,KAAM9H,EAAE+H,UAAU,2BAAsB,IAAQ1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACC,UAAS,KAAM9H,EAAE+H,UAAU,8BAAyB,IAAQ1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACC,UAAS,KAAM9H,EAAE+H,UAAU,aAAQ,IAAQ1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACrH,KAAK4H,OAAON,UAAS,EAAGO,KAAK,CAAC9D,KAAK,CAAC+D,OAAO,sBAAsBtI,EAAE+H,UAAU,gBAAW,IAAQ1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACC,UAAS,KAAM9H,EAAE+H,UAAU,4BAAuB,IAAQ1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE/H,EAAEmB,SAASjB,EAAE+H,UAAU,cAAS,IAAQ1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACC,UAAS,KAAM9H,EAAE+H,UAAU,cAAc,OAAM1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACC,UAAS,EAAGtH,KAAKiC,EAAAA,WAAKzC,EAAE+H,UAAU,uBAAkB,IAAQ1H,EAAAA,EAAAA,GAAE,EAACZ,EAAAA,EAAAA,GAAE,UAAU,kBAAkB,CAAC,uBAAuBO,EAAE+H,UAAU,sBAAsB,OAAM1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE/H,EAAEqB,YAAYnB,EAAE+H,UAAU,iBAAY,IAAQ1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACrH,KAAK4H,OAAON,UAAS,KAAM9H,EAAE+H,UAAU,gBAAgB,OAAM1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACC,UAAS,EAAGtH,KAAK4H,OAAOC,KAAK,CAAC9D,MAAK,MAAOvE,EAAE+H,UAAU,eAAe,OAAM1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACC,UAAS,EAAGtH,KAAK4H,UAAUpI,EAAE+H,UAAU,SAAS,OAAM1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACC,UAAS,EAAGtH,KAAK+H,EAAAA,KAAKvI,EAAE+H,UAAU,aAAa,OAAM1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACC,UAAS,EAAGtH,KAAKgI,EAAAA,KAAKxI,EAAE+H,UAAU,mBAAmB,OAAM1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACC,UAAS,KAAM9H,EAAE+H,UAAU,UAAU,OAAM1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACC,UAAS,EAAGtH,KAAKiI,EAAAA,KAAKzI,EAAE+H,UAAU,gBAAgB,OAAM1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACC,UAAS,EAAGtH,KAAKkI,UAAU1I,EAAE+H,UAAU,WAAW,OAAM1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACC,UAAS,EAAGtH,KAAKkI,UAAU1I,EAAE+H,UAAU,WAAW,OAAM1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACC,UAAS,EAAGtH,KAAKkI,UAAU1I,EAAE+H,UAAU,sBAAsB,OAAM1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACrH,KAAK,CAAC,OAAO,QAAQ6H,KAAK,CAACM,OAAM,MAAO3I,EAAE+H,UAAU,gBAAW,IAAQ1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACzC,MAAM7C,EAAAA,EAAE8F,KAAK,CAACO,QAAQ,CAACC,QAAQ,CAACtE,KAAK,CAAC+D,OAAO,0BAA0BzF,KAAK,uCAAuC8F,OAAM,GAAIG,MAAM,QAAQ9I,EAAE+H,UAAU,gBAAW,IAAQ1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACrH,KAAK4H,OAAOC,KAAK,CAACO,QAAQ,CAACC,QAAQ,CAACtE,MAAK,EAAGoE,OAAM,IAAK9F,KAAK,uCAAuC8F,MAAM,CAACI,SAAQ,EAAGC,WAAU,OAAQhJ,EAAE+H,UAAU,4BAAuB,IAAQ1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAEoB,EAAAA,KAAIjJ,EAAE+H,UAAU,oBAAe,IAAQ1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACrH,KAAKhB,EAAAA,EAAE6I,KAAK,CAAC9D,KAAK,CAAC+D,OAAO,aAAaK,MAAM,CAACO,OAAO,iBAAiBlJ,EAAE+H,UAAU,qBAAgB,IAAQ1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACC,UAAS,EAAGtH,KAAK4H,OAAOC,KAAK,CAACO,QAAQ,CAACC,QAAQ,CAACtE,KAAK,CAAC+D,OAAO,gCAAgC/D,MAAK,MAAOvE,EAAE+H,UAAU,4BAAuB,IAAQ1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACC,UAAS,EAAGO,KAAK,CAAC9D,MAAK,MAAOvE,EAAE+H,UAAU,uBAAuB,OAAM1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,OAAK7H,EAAE+H,UAAU,QAAQ,OAAM1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,OAAK7H,EAAE+H,UAAU,cAAc,OAAM1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACQ,KAAK,CAACM,OAAM,MAAMQ,EAAAA,EAAAA,GAAE,IAAIC,EAAAA,EAAE,CAAC,WAAW,YAAYC,MAAM,YAAYrJ,EAAE+H,UAAU,iBAAY,IAAQ1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,OAAK7H,EAAE+H,UAAU,eAAe,OAAM1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,OAAK7H,EAAE+H,UAAU,UAAU,OAAM1H,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,IAAE,CAACC,UAAS,EAAGO,KAAK,CAAC9D,MAAK,MAAOvE,EAAE+H,UAAU,eAAe,MAAM/H,GAAEK,EAAAA,EAAAA,GAAE,EAACiJ,EAAAA,EAAAA,GAAE5J,IAAIM,GAAG,MAAMuJ,EAAEvJ,C,sCCAzoSoJ,E,qHAAE,MAAMlJ,EAAE,CAACM,KAAKH,EAAAA,EAAEyH,UAAS,EAAGO,KAAK,CAACO,QAAQ,CAACC,QAAQ,CAACtE,KAAK,CAAC+D,OAAO,YAAYkB,OAAO5J,KAAK2E,MAAK,IAAK,SAAS3E,EAAEyC,EAAEE,EAAE/C,GAAG,GAAG6C,GAAGoH,MAAMC,QAAQrH,GAAG,OAAO,IAAIhC,EAAAA,EAAEgC,EAAEsH,KAAKtH,IAAI,MAAMhC,EAA6d,SAAWgC,GAAG,MAAM,UAAUA,EAAEZ,UAAU6H,EAAE/J,EAAAA,CAAC,CAAxgB4J,CAAE9G,GAAG,GAAGhC,EAAE,CAAC,MAAMkC,EAAE,IAAIlC,EAAE,OAAOkC,EAAEgC,KAAKlC,EAAE7C,GAAG+C,CAAC,CAAC,OAAQ,OAAD/C,QAAC,IAADA,GAAAA,EAAGoK,UAAUvH,GAAG7C,EAAEoK,SAASC,KAAK,IAAI1F,EAAAA,EAAE,iDAAiD,qCAAqC9B,EAAE7B,MAAM,WAAW,sBAAsB,CAACsJ,WAAWzH,EAAE0H,QAAQvK,KAAK,IAAI,IAAI,CAAC,IAAI8J,EAAEF,EAAE,cAAc3J,EAAAA,EAAEW,WAAAA,CAAYiC,GAAG/B,MAAM+B,GAAG9B,KAAKC,KAAK,iBAAiBD,KAAKa,SAAS,OAAOb,KAAKyJ,UAAU,IAAI,CAACC,OAAAA,GAAU,OAAO1H,EAAAA,EAAAA,GAAEhC,MAAM8B,GAAG+G,EAAEc,gBAAgB3J,KAAKyJ,WAAW3J,IAAI,mBAAmBA,EAAEG,MAAM6B,EAAEhC,EAAE,KAAK,GAA2P,IAASgC,GAAnNA,EAAAA,EAAAA,GAAE,EAAC7C,EAAAA,EAAAA,IAAE,CAACgB,KAAK,CAAC,OAAO,OAAO,iBAAiB6H,KAAK,CAACM,OAAM,MAAOW,EAAEvB,UAAU,gBAAW,IAAQ1F,EAAAA,EAAAA,GAAE,EAAC7C,EAAAA,EAAAA,IAAEU,IAAIoJ,EAAEvB,UAAU,iBAAY,GAAQuB,EAAEF,GAAE/G,EAAAA,EAAAA,GAAE,EAAC6E,EAAAA,EAAAA,GAAE,wDAAwDoC,IAAYjH,EAAmJiH,IAAIA,EAAE,CAAC,IAAlEa,kBAAkBjK,EAAEmC,EAAE+H,cAAcxK,EAAEyC,EAAE6H,gBAA7H,SAAS7J,EAAEgC,EAAEE,GAAGF,EAAEgI,SAAShI,IAAIE,EAAEF,GAAG,mBAAmBA,EAAE7B,MAAMH,EAAEgC,EAAE2H,UAAUzH,EAAE,GAAG,EAAyE,MAAMsF,EAAEyB,C,kJCAn+B,IAAIF,EAAE,eAAc7G,EAAAA,EAAAA,IAAEF,EAAAA,IAAIjC,WAAAA,CAAYC,GAAGC,MAAMD,GAAGE,KAAK+J,MAAM,GAAG/J,KAAKyB,IAAI,EAAEzB,KAAKgK,UAAU,KAAKhK,KAAKiK,QAAQ,KAAKjK,KAAKkK,eAAc,EAAGlK,KAAKmK,SAAQ,EAAGnK,KAAKoK,QAAQ,CAAC,CAACC,SAAAA,CAAUvK,EAAEkC,GAAG,MAAM,iBAAiBA,EAAEsI,MAAMtI,EAAEsI,MAAM,iBAAiBtI,EAAEM,KAAKN,EAAEM,KAAK,EAAE,CAACiI,cAAAA,CAAezK,GAAG,OAAO,IAAIE,KAAKyB,GAAGzB,KAAKyB,GAAG,iBAAiB3B,EAAEA,GAAG,CAAC,IAAGA,EAAAA,EAAAA,GAAE,EAACb,EAAAA,EAAAA,IAAE,CAACgB,KAAK4H,OAAOC,KAAK,CAACO,QAAQ,CAAC,YAAY,CAACD,OAAM,GAAI,cAAc,CAACA,OAAM,QAASS,EAAErB,UAAU,aAAQ,IAAQ1H,EAAAA,EAAAA,GAAE,EAAC8D,EAAAA,EAAAA,GAAE,UAAU,QAAQ,CAAC,QAAQ,UAAUiF,EAAErB,UAAU,YAAY,OAAM1H,EAAAA,EAAAA,GAAE,EAACb,EAAAA,EAAAA,OAAK4J,EAAErB,UAAU,aAAQ,IAAQ1H,EAAAA,EAAAA,GAAE,EAACb,EAAAA,EAAAA,IAAE,CAACgB,KAAK0G,EAAAA,GAAEY,UAAS,EAAGO,KAAK,CAAC9D,MAAK,EAAGoE,MAAM,CAACoC,cAAa,OAAQ3B,EAAErB,UAAU,UAAK,IAAQ1H,EAAAA,EAAAA,GAAE,EAAC8D,EAAAA,EAAAA,GAAE,UAAU,OAAOiF,EAAErB,UAAU,iBAAiB,OAAM1H,EAAAA,EAAAA,GAAE,EAACb,EAAAA,EAAAA,KAAEU,EAAAA,EAAAA,IAAEkI,UAAUgB,EAAErB,UAAU,iBAAY,IAAQ1H,EAAAA,EAAAA,GAAE,EAACb,EAAAA,EAAAA,KAAEU,EAAAA,EAAAA,IAAE8K,WAAW5B,EAAErB,UAAU,eAAU,IAAQ1H,EAAAA,EAAAA,GAAE,EAACb,EAAAA,EAAAA,IAAE,CAACgB,KAAKwK,QAAQC,aAAY,KAAM7B,EAAErB,UAAU,qBAAgB,IAAQ1H,EAAAA,EAAAA,GAAE,EAACb,EAAAA,EAAAA,IAAE,CAACgB,KAAKwK,QAAQ3C,KAAK,CAACxF,KAAK,aAAa8F,OAAM,MAAOS,EAAErB,UAAU,eAAU,IAAQ1H,EAAAA,EAAAA,GAAE,EAACb,EAAAA,EAAAA,IAAE,CAACgB,KAAKkI,OAAOL,KAAK,CAACM,OAAM,MAAOS,EAAErB,UAAU,eAAU,GAAQqB,GAAE/I,EAAAA,EAAAA,GAAE,EAACT,EAAAA,EAAAA,GAAE,mDAAmDwJ,GAAG,MAAM7J,EAAE6J,C,uTCAjrC,MAAMxJ,EAAEA,CAACA,EAAEM,KAAK,IAAIX,EAAE,eAAc4E,EAAAA,EAAAA,IAAE3E,EAAAA,EAAAA,IAAE6C,EAAAA,EAAE6I,aAAatL,MAAMQ,WAAAA,CAAYC,GAAGC,MAAMD,GAAGE,KAAK4K,SAAS,KAAK5K,KAAK6K,OAAO,KAAK7K,KAAK8K,KAAK,IAAI,CAACC,UAAAA,GAAa,CAAC,aAAIC,GAAY,OAAOhL,KAAKiL,WAAW,CAAC,YAAIC,GAAW,OAAOlL,KAAKgL,WAAWhL,KAAKmL,YAAY,CAAC,WAAIhB,GAAS,IAAAiB,EAAC,QAAqB,QAAdA,EAACpL,KAAK4K,gBAAQ,IAAAQ,IAAbA,EAAejB,QAAO,CAAC,WAAIA,CAAQrK,GAAGE,KAAKqL,gBAAgB,UAAUvL,EAAE,CAAC,eAAIwL,GAAa,IAAAC,EAAAC,EAAC,MAAM1L,EAAEA,GAAG,MAAMA,EAAEA,EAAE,EAAE,OAAOA,EAAe,QAAdyL,EAACvL,KAAK4K,gBAAQ,IAAAW,OAAA,EAAbA,EAAenB,SAAStK,EAAa,QAAZ0L,EAACxL,KAAK6K,cAAM,IAAAW,OAAA,EAAXA,EAAaF,YAAY,CAACL,SAAAA,GAAW,IAAAQ,EAAAC,EAAC,QAAkB,QAAZD,EAACzL,KAAK6K,cAAM,IAAAY,GAAXA,EAAaT,aAAoB,QAAXU,EAAE1L,KAAK8K,YAAI,IAAAY,OAAA,EAATA,EAAWC,QAAO3L,KAAKmK,UAAS,CAAE,CAACgB,UAAAA,GAAa,OAAM,CAAE,GAAG,OAAOrL,EAAAA,EAAAA,GAAE,EAAC6G,EAAAA,EAAAA,OAAK3H,EAAEwI,UAAU,gBAAW,IAAQ1H,EAAAA,EAAAA,GAAE,EAAC6G,EAAAA,EAAAA,OAAK3H,EAAEwI,UAAU,cAAS,IAAQ1H,EAAAA,EAAAA,GAAE,EAAC6G,EAAAA,EAAAA,IAAE,CAACY,UAAS,KAAMvI,EAAEwI,UAAU,YAAY,OAAM1H,EAAAA,EAAAA,GAAE,EAAC6G,EAAAA,EAAAA,IAAE,CAAC1G,KAAKwK,QAAQlD,UAAS,KAAMvI,EAAEwI,UAAU,WAAW,OAAM1H,EAAAA,EAAAA,GAAE,EAAC6G,EAAAA,EAAAA,OAAK3H,EAAEwI,UAAU,YAAO,IAAQ1H,EAAAA,EAAAA,GAAE,EAAC6G,EAAAA,EAAAA,OAAK3H,EAAEwI,UAAU,UAAU,OAAM1H,EAAAA,EAAAA,GAAE,EAAC6G,EAAAA,EAAAA,OAAK3H,EAAEwI,UAAU,cAAc,MAAMxI,GAAEc,EAAAA,EAAAA,GAAE,EAACkC,EAAAA,EAAAA,GAAE,gDAAgDhD,GAAGA,CAAC,E,ICAjsCgD,EAAYlC,E,sDAAAA,EAAyEkC,IAAIA,EAAE,CAAC,IAA3ElC,EAAE8L,MAAM,GAAG,QAAQ9L,EAAEA,EAAE+L,UAAU,GAAG,YAAY/L,EAAEA,EAAEgM,KAAK,GAAG,OAAmB,MAAY7M,EAAE,KAAK,SAAS0H,EAAE7G,GAAG,OAAOA,EAAEiM,WAAW9L,MAAM,IAAI,QAAQ,MAAM,CAAC+L,KAAKhK,EAAE4J,OAAO,IAAI,aAAa,MAAM,CAACI,KAAKhK,EAAE6J,UAAUI,cAAanK,EAAAA,EAAAA,IAAEhC,EAAEiM,WAAWG,MAAM,CAAC,IAAI,IAAI,QAAQ,MAAM,CAACF,KAAKhK,EAAE8J,MAAM,CAAC,SAAS/C,EAAEjJ,EAAEgC,GAAG,GAAG,MAAMA,EAAE,OAAOhC,EAAEqM,MAAM,GAAG,EAAErM,EAAEmM,aAAa,UAAUnM,EAAEsM,UAAS,GAAI,OAAOtK,EAAEkK,MAAM,KAAKhK,EAAE4J,MAAM,OAAO,KAAK5J,EAAE6J,UAAU,OAAO/L,EAAEqM,MAAM,GAAG,EAAErM,EAAEmM,aAAanK,EAAEmK,kBAAkBnM,EAAEsM,UAAS,GAAI,KAAKpK,EAAE8J,KAAK,OAAOhM,EAAEqM,MAAM,GAAG,EAAErM,EAAEqM,MAAM,GAAG,EAAErM,EAAEqM,MAAM,GAAG,EAAErM,EAAEqM,MAAM,IAAxd,IAA8drM,EAAEuM,aAAaxD,EAAAA,GAAEyD,QAAQxM,EAAEyM,aAAY,EAAGzM,EAAEsM,UAAS,OAAQtM,EAAEmM,aAAiC,SAAWnM,GAAG,OAAO,MAAMA,EAAE,MAAM8D,EAAE4I,eAAe1M,IAAI8D,EAAE6I,eAAwD,SAAW3K,GAAG,MAAM+G,GAAE/I,EAAAA,EAAAA,GAAEgC,EAAEqK,OAAO,OAAOtD,EAAE,IAAI5J,EAAE,IAAI6C,EAAEqK,MAAMtD,EAAE,CAAvGvB,CAAExH,GAAG8D,EAAE4I,aAAa1M,GAAG8D,EAAE6I,eAAe,CAArIzN,CAAEc,EAAEmM,eAAe,CAAkL,MAAMrI,EAAE,CAAC6I,eAAe,KAAKD,aAAa,M,2GCAlkB,MAAMxK,UAAUlC,EAAAA,EAAED,WAAAA,GAAcE,SAAS2M,WAAW1M,KAAK4K,SAAS,IAAI,CAAC,YAAIM,GAAW,OAAM,CAAE,CAAC,aAAIF,GAAY,OAAM,CAAE,CAAC,mBAAI2B,GAAkB,MAAM,EAAE,CAAC,UAAIC,GAAS,OAAO,IAAI,CAAC,UAAIA,CAAO9K,GAAG,MAAM,IAAI+K,MAAM,kBAAkB,CAAC7G,aAAAA,CAAclE,EAAEhC,GAAG,MAAM,IAAI+M,MAAM,kBAAkB,CAAC1G,cAAAA,CAAerE,EAAEhC,GAAG,MAAM,IAAI+M,MAAM,kBAAkB,CAAC9G,iBAAAA,CAAkBjE,EAAEhC,GAAG,MAAM,IAAI+M,MAAM,kBAAkB,CAACtH,WAAAA,GAAc,MAAM,IAAIsH,MAAM,kBAAkB,CAAChH,WAAAA,CAAY/D,EAAEhC,GAAG,MAAM,IAAI+M,MAAM,kBAAkB,CAACC,SAAAA,CAAUhL,GAAG,MAAM,IAAI+K,MAAM,kBAAkB,GAAE/K,EAAAA,EAAAA,GAAE,EAAC7C,EAAAA,EAAAA,OAAK+C,EAAEwF,UAAU,gBAAW,IAAQ1F,EAAAA,EAAAA,GAAE,EAAC7C,EAAAA,EAAAA,OAAK+C,EAAEwF,UAAU,kBAAkB,OAAM1F,EAAAA,EAAAA,GAAE,EAAC7C,EAAAA,EAAAA,OAAK+C,EAAEwF,UAAU,SAAS,M,yBCAqqB,IAAIU,EAAE,eAAc7B,EAAAA,EAAAA,IAAE0C,EAAAA,EAAAA,IAAEH,EAAEzD,MAAMtF,WAAAA,GAAcE,SAAS2M,WAAW1M,KAAKC,KAAK,iCAAiCD,KAAK+M,UAAU,KAAK/M,KAAKgN,kBAAkB,QAAQhN,KAAKiN,mBAAkB,EAAGjN,KAAKkN,mBAAkB,EAAGlN,KAAKmN,eAAe,GAAGnN,KAAKoN,sBAAsB,EAAEpN,KAAKqN,aAAa,IAAI,CAAC,YAAIC,GAAW,OAAOtN,KAAK4K,QAAQ,CAAC,YAAI2C,GAAW,OAAOvN,KAAK4K,SAAStJ,MAAMkM,GAAG,CAAC,eAAIC,GAAc,OAAOzN,KAAK4K,SAAS4C,GAAG,CAAC,WAAIpL,GAAU,OAAOpC,KAAK4K,SAAStJ,MAAMG,EAAE,CAAC,cAAIiM,GAAa,OAAO1N,KAAK4K,SAASnJ,EAAE,CAAC,mCAAIkM,GAAiC,IAAAC,EAAC,OAAO5N,KAAK4K,SAAS5J,eAAc0H,EAAAA,EAAAA,IAAE1I,KAAK4K,SAAuB,QAAfgD,EAAC5N,KAAK+M,iBAAS,IAAAa,GAAY,QAAZA,EAAdA,EAAgB9C,KAAK+C,aAAK,IAAAD,OAAA,EAA1BA,EAA4BE,4BAA4B,CAAC/C,UAAAA,GAAa/K,KAAK+N,iBAAiBC,KAAK,IAAI,CAAChO,KAAK4K,SAAS9J,SAASd,KAAKiO,2BAA2BjO,KAAKkO,0BAA0B,IAAIlO,KAAKmO,0BAA0BnO,KAAK+N,iBAAiBC,KAAK,IAAIhO,KAAK4K,SAAS9J,WAAWhB,GAAGE,KAAKoO,gBAAgBtO,IAAI8D,EAAAA,IAAG,MAAM9D,EAAEA,IAAIE,KAAKqO,gBAAgBrO,KAAK+N,iBAAiBC,KAAK,IAAIhO,KAAKsO,4BAA4BxO,GAAGE,KAAK+N,iBAAiBC,KAAK,IAAI,MAAMhO,KAAKuO,QAAQvO,KAAKuO,QAAQC,gBAAgB,MAAM1O,GAAGE,KAAK+N,iBAAiBC,KAAK,IAAI,MAAMhO,KAAKuO,QAAQvO,KAAKuO,QAAQE,kBAAkB,MAAM3O,GAAGE,KAAK+N,iBAAiBC,KAAK,IAAI,CAAC,MAAMhO,KAAKuO,QAAQvO,KAAKuO,QAAQG,eAAe,KAAK,MAAM1O,KAAK4M,OAAO5M,KAAK4M,OAAO+B,oBAAoB,QAAQ,IAAI3O,KAAK4O,0BAA0B5O,KAAK+N,iBAAiBC,KAAK,IAAIhO,KAAK6O,0BAA0B,IAAI7O,KAAK8O,4BAA4BlL,EAAAA,IAAG5D,KAAKwD,oBAAoBxD,KAAKmO,wBAAwB,CAAC,aAAIY,GAAY,OAAO/O,KAAK8K,KAAKkE,gBAAgBC,aAAaC,OAAOH,SAAS,CAAC,2BAAIF,GAA0B,MAAM,aAAa7O,KAAK4K,SAASZ,WAAWhK,KAAK+M,UAAU/M,KAAK+M,UAAUoC,kBAAkB/F,KAAKgG,IAAS,IAAKnQ,GAAZa,EAAEgC,GAAEsN,EAAU,IAAInQ,EAAE4J,EAAAA,YAAEwG,OAAOvP,EAAEE,KAAK4K,SAASjJ,YAAY,CAAC,MAAM3C,GAAG,OAAO2H,EAAAA,EAAErH,UAAUU,MAAMqH,MAAM,qCAAqCrI,GAAG,IAAI,CAAC,IAAIC,EAAEqQ,eAAe,OAAO3I,EAAAA,EAAErH,UAAUU,MAAMqH,MAAM,mDAAmD,KAAK,MAAMzD,EAAE,GAAGjE,EAAEV,EAAEsQ,WAAW,OAAO7H,EAAAA,EAAAA,GAAE/H,EAAEK,KAAK4K,SAASlK,OAAO,CAAC8O,cAAc5L,IAAIA,EAAE8C,OAAO,GAAGC,EAAAA,EAAErH,UAAUU,MAAMqH,MAAM,+CAAD7F,OAAgDoC,EAAE6L,KAAK,QAAS,MAAM,CAACxQ,EAAE6C,EAAE,IAAI8K,QAAQ9M,GAAG,MAAMA,IAAI,EAAE,CAAC,UAAI8M,GAAS,OAAO,MAAM5M,KAAKuO,QAAQvO,KAAKuO,QAAQmB,WAAW,IAAI,CAAC,UAAI9C,CAAO9M,GAAG,MAAMA,GAAGN,EAAAA,EAAEmQ,aAAa7P,GAAG,MAAME,KAAKuO,QAAQvO,KAAKuO,QAAQmB,WAAW5P,EAAEE,KAAKuO,QAAQ,IAAI/O,EAAAA,EAAE,CAACkQ,WAAW5P,EAAE8P,iBAAiB5P,KAAK4K,SAASjJ,YAAYkO,gBAAgB/P,GAAGE,KAAK8P,iBAAiBhQ,GAAGiQ,aAAaA,CAACjQ,EAAEgC,IAAI9B,KAAK+P,aAAajQ,EAAEgC,EAAE9B,KAAKgQ,YAAYhQ,KAAKuO,QAAQ,IAAI,CAACpD,UAAAA,GAAa,OAAOpL,MAAMoL,cAAc,MAAMnL,KAAKuO,SAASvO,KAAKuO,QAAQrD,QAAQ,CAAC4D,wBAAAA,GAA2B,MAAMhP,EAAEE,KAAK6O,wBAAwB/O,EAAE4G,OAAO,EAAE1G,KAAKiQ,uBAAuB,CAACnO,EAAE7C,KAAK,IAAI,MAAM2E,EAAEjE,KAAKG,EAAE,IAAI,GAAG8D,EAAEsM,YAAYpO,GAAG,OAAOlC,EAAEX,EAAEU,EAAE,CAAC,MAAMgH,GAAG3G,KAAKgQ,SAASrJ,EAAE,CAAC,OAAO/G,EAAEX,EAAE,KAAK,GAAGe,KAAKkO,wBAAwBlO,KAAKiQ,sBAAsB,KAAK,KAAK,CAAC,0BAAI/B,GAAyB,OAAOhP,EAAAA,EAAAA,IAAEc,KAAK4K,SAASjJ,YAAY3B,KAAK6O,wBAAwBsB,QAAQ,CAACrQ,EAACsQ,KAAA,IAAEtO,GAAEsO,EAAA,OAAGtQ,EAAE0B,OAAOM,EAAEyN,WAAW,GAAE,IAAIrG,OAAO,CAAC,mBAAIyD,GAAkB,MAAM7M,EAAEE,KAAK4K,SAAS9I,EAAEhC,EAAE6B,YAAY,IAAI1C,EAAEe,KAAKmN,eAAe,GAAGrN,EAAEc,WAAWd,EAAEwB,MAAMV,UAAU,CAAC,MAAM+F,EAAE,IAAI7G,EAAEc,WAAW,MAAMd,EAAEwB,MAAMV,WAAW,IAAI3B,EAAE,KAAIqI,EAAAA,EAAAA,IAAExF,EAAE6E,MAAM1H,EAAE,CAAC,OAAOC,EAAAA,EAAAA,IAAE4C,EAAE7C,EAAE,CAACoR,mBAAAA,CAAoBvQ,GAAG,MAAMb,EAAE,IAAI6C,EAAAA,EAAE,KAAK,KAAKhC,GAAG,OAAOb,EAAEqC,MAAMtB,KAAK4K,SAAStJ,MAAMrC,EAAEiH,YAAYlG,KAAK4K,SAAS3L,CAAC,CAACgM,SAAAA,GAAY,OAAOlL,MAAMkL,eAAejL,KAAKsQ,aAAatQ,KAAKsQ,YAAYC,gBAAgB,CAAC,wBAAMC,CAAmB1Q,EAAEgC,GAAG,MAAM7C,EAAEe,KAAKyQ,4BAA4B3O,GAAG,GAAG7C,EAAE,MAAMA,EAAE,GAAK,OAAD6C,QAAC,IAADA,IAAAA,EAAG4O,gBAAgB,IAAI5O,EAAE4O,eAAehK,OAAO,MAAM,GAAG,MAAM9C,EAAE,GAAGjE,EAAE,GAAGX,EAAE,MAAMgB,KAAK4K,SAASjK,sBAAsBX,KAAK4K,SAASjK,gBAAgBuC,OAAOlD,KAAK4K,SAAS/B,GAAEvB,EAAAA,EAAAA,IAAEtH,KAAK4K,SAASjJ,kBAAkB2B,EAAAA,EAAAA,IAAEtE,GAAEG,EAAAA,EAAAA,IAAEa,KAAK4K,SAAS9I,KAAKE,EAAE,IAAI2O,IAAI,IAAI,MAAMhK,KAAK7E,EAAE4O,gBAAerR,EAAAA,EAAAA,IAAEwJ,EAAElC,EAAE3E,GAAGrC,EAAE2J,KAAK3C,GAAG/C,EAAE0F,KAAK3C,GAAG,OAAO,IAAIhH,EAAE+G,OAAO9C,GAAG,MAAM5D,KAAK4K,SAASjK,uBAAuBX,KAAK4K,SAASjK,gBAAgBuC,OAAO0N,OAAO,IAAIjK,EAAAA,EAAErH,UAAUU,MAAM6Q,KAAK,kGAAkG7Q,KAAK8Q,sBAAsBnR,EAAEuJ,MAAM6H,KAAK/O,IAAI4O,OAAO,IAAIjR,IAAI0D,MAAMvD,GAAG8D,EAAEpC,OAAO1B,KAAK,CAAC,2BAAMqO,GAAwB,MAAMrO,GAAEZ,EAAAA,EAAAA,IAAEc,KAAK4K,SAASjJ,YAAY,IAAI3B,KAAK4K,SAAS9J,eAAed,KAAK4K,SAAS9J,SAASkQ,kBAAkBhR,KAAK4K,SAASjJ,aAAa,MAAM3B,KAAKiO,4BAA4B,MAAMjO,KAAKkO,wBAAwB,KAAKlO,KAAKiR,KAAK,iBAAiBnR,EAAE,CAAC2Q,2BAAAA,CAA4B3Q,GAAG,MAAM8K,SAAS9I,GAAG9B,MAAMgB,aAAa2F,GAAG7E,EAAE,OAAO6E,GAAExH,EAAAA,EAAAA,IAAE2C,EAAEhC,QAAG,EAAO,IAAIb,EAAAA,EAAE,8CAA8C,yCAAyC,CAAC2L,SAAS9I,IAAI,IAAI7C,EAAAA,EAAE,8CAA8C,sBAAsB,CAAC2L,SAAS9I,GAAG,CAACoP,UAAAA,GAAa,MAAMpR,EAAEC,MAAMmR,aAAa,OAAOlR,KAAK+P,aAAajQ,EAAEE,KAAKsO,2BAA2BtO,KAAKgQ,UAAU,MAAMhQ,KAAKuO,SAASvO,KAAKuO,QAAQ4C,WAAWrR,EAAEE,KAAK8K,KAAK9K,KAAKsQ,YAAYc,SAASpR,KAAKqR,aAAavR,CAAC,CAACyF,WAAAA,GAAc,MAAMzF,EAAE,CAACc,UAAU,CAAC,KAAK6E,gBAAe,EAAG6L,oBAAoBtR,KAAK8K,KAAKpI,kBAAkB,OAAO,MAAM1C,KAAK4M,OAAO5M,KAAK4M,OAAOrH,YAAYzF,GAAG,IAAImI,EAAAA,EAAEnI,EAAE,CAAC+F,WAAAA,CAAY/F,EAAEgC,GAAG,OAAO9B,KAAKuR,qBAAqBC,sBAAsBxR,KAAKyR,aAAa3R,GAAI,OAADgC,QAAC,IAADA,OAAC,EAADA,EAAGqB,OAAO,CAAC4C,iBAAAA,CAAkBjG,EAAEgC,GAAG,OAAO9B,KAAKuR,qBAAqBG,qBAAqB1R,KAAKyR,aAAa3R,GAAI,OAADgC,QAAC,IAADA,OAAC,EAADA,EAAGqB,OAAO,CAAC6C,aAAAA,CAAclG,EAAEgC,GAAG,OAAO9B,KAAKuR,qBAAqBI,aAAa3R,KAAKyR,aAAa3R,GAAI,OAADgC,QAAC,IAADA,OAAC,EAADA,EAAGqB,QAAQE,MAAMvD,IAAI,GAAK,OAADA,QAAC,IAADA,IAAAA,EAAGmG,SAAS,OAAOnG,EAAE,MAAMgC,EAAE9B,KAAK4K,SAAS3L,EAAE6C,EAAER,MAAM,IAAI,MAAMqF,KAAK7G,EAAEmG,SAASU,EAAErF,MAAMrC,EAAE0H,EAAET,YAAYpE,EAAE,OAAOhC,CAAC,GAAG,CAACqG,cAAAA,CAAerG,EAAEgC,GAAG,OAAO9B,KAAKuR,qBAAqBK,mBAAmB5R,KAAKyR,aAAa3R,GAAI,OAADgC,QAAC,IAADA,OAAC,EAADA,EAAGqB,OAAO,CAACoO,kBAAAA,GAAqB,OAAO,MAAMvR,KAAKqN,eAAerN,KAAKqN,aAAarN,KAAK6R,sBAAsB7R,KAAKqN,YAAY,CAACwE,kBAAAA,GAAqB,MAAM/R,GAAEkI,EAAAA,EAAAA,IAAEhI,KAAK8K,KAAKpI,iBAAiB1C,KAAK8K,KAAKgH,uBAAuB9R,KAAKqR,aAAa,OAAO,IAAI5J,EAAAA,EAAE,CAACsF,UAAU/M,KAAK+R,SAASpO,EAAAA,GAAEqO,qBAAqBC,aAAa,IAAI7S,EAAAA,EAAE,CAAC8S,eAAe,IAAIzS,EAAAA,EAAE,CAAC4C,cAAcrC,KAAK4K,SAASvI,cAAc5B,qBAAqBT,KAAK4K,SAASnK,qBAAqB0R,iBAAiBrS,IAAIsS,eAAeA,CAACtS,EAAEgC,IAAI9B,KAAKqS,iBAAiB,CAACvQ,EAAE7C,EAAE0H,IAAI7G,EAAE,CAAC2B,GAAGK,EAAEwQ,MAAMrT,EAAEsT,KAAK5L,KAAK7E,EAAEI,EAAAA,EAAEsQ,WAAWL,iBAAiBrS,EAAE2S,wBAAuB9K,EAAAA,EAAAA,IAAE3H,KAAK4K,UAAU8H,qBAAqB1S,KAAK8K,KAAKpI,oBAAoB,CAAC+O,YAAAA,CAAa3R,GAAG,OAAOE,KAAK2S,gCAAgC,MAAM7S,EAAEE,KAAKuF,cAAc0C,EAAAA,EAAE8I,KAAKjR,GAAG,IAAGA,EAAAA,EAAAA,GAAE,EAACH,EAAAA,EAAAA,OAAKuI,EAAEV,UAAU,WAAW,OAAM1H,EAAAA,EAAAA,GAAE,EAACH,EAAAA,EAAAA,OAAKuI,EAAEV,UAAU,iBAAY,IAAQ1H,EAAAA,EAAAA,GAAE,EAACH,EAAAA,EAAAA,OAAKuI,EAAEV,UAAU,YAAY,OAAM1H,EAAAA,EAAAA,GAAE,EAACH,EAAAA,EAAAA,IAAE,CAAC4H,UAAS,KAAMW,EAAEV,UAAU,0BAA0B,OAAM1H,EAAAA,EAAAA,GAAE,EAACH,EAAAA,EAAAA,IAAE,CAACM,KAAK+B,EAAAA,KAAKkG,EAAEV,UAAU,SAAS,OAAM1H,EAAAA,EAAAA,GAAE,EAACH,EAAAA,EAAAA,OAAKuI,EAAEV,UAAU,eAAU,IAAQ1H,EAAAA,EAAAA,GAAE,EAACH,EAAAA,EAAAA,IAAE,CAACM,KAAK,CAAC4H,QAAQN,UAAS,KAAMW,EAAEV,UAAU,yBAAyB,OAAM1H,EAAAA,EAAAA,GAAE,EAACH,EAAAA,EAAAA,IAAE,CAACM,KAAK,CAAC4H,QAAQN,UAAS,KAAMW,EAAEV,UAAU,sBAAiB,IAAQ1H,EAAAA,EAAAA,GAAE,EAACH,EAAAA,EAAAA,IAAE,CAACM,KAAK,CAAC4H,QAAQN,UAAS,KAAMW,EAAEV,UAAU,kBAAkB,MAAMU,GAAEpI,EAAAA,EAAAA,GAAE,EAACd,EAAAA,EAAAA,GAAE,yDAAyDkJ,GAAG,MAAMtG,EAAEsG,E,qCCAnnQ,MAAMtE,UAAU9D,EAAAA,EAAED,WAAAA,CAAYiC,GAAG/B,MAAM+B,GAAG9B,KAAKsB,MAAM,KAAKtB,KAAK4S,cAAc,IAAI,CAAC9F,SAAAA,CAAUhL,GAAG,MAAM,IAAI+K,MAAM,kBAAkB,GAAE/K,EAAAA,EAAAA,GAAE,EAACE,EAAAA,EAAAA,OAAK4B,EAAE4D,UAAU,aAAQ,IAAQ1F,EAAAA,EAAAA,GAAE,EAACE,EAAAA,EAAAA,OAAK4B,EAAE4D,UAAU,qBAAgB,GCAgkB,MAAM/H,EAAEyC,EAAE0B,EAAAA,GAAG,IAAIoF,EAAE,eAAchB,EAAAA,EAAAA,GAAE7C,IAAItF,WAAAA,CAAYC,GAAGC,MAAMD,GAAGE,KAAKC,KAAK,oBAAoBD,KAAK4S,cAAc,IAAIjM,EAAAA,EAAE3G,KAAK6S,iBAAiB,IAAIC,gBAAgB9S,KAAK+S,mBAAmB,EAAE/S,KAAKgT,0BAA0B,IAAIC,IAAIjT,KAAKkT,qBAAoB,CAAE,CAAC,oBAAIC,GAAkB,IAAAC,EAAC,MAAMtT,EAAEE,KAAKsB,MAAM+R,eAAevR,EAAE,MAAMhC,EAAEE,KAAKsB,MAAMgS,QAAQC,MAAMzR,GAAGA,EAAEL,KAAK3B,IAAI,KAAK8D,EAAE,MAAM9B,EAAgB,QAAfsR,EAACtR,EAAE0R,oBAAY,IAAAJ,OAAA,EAAdA,EAAgBG,MAAMzT,GAAG,UAAUA,EAAEiM,WAAW9L,OAAO,KAAK,OAAO2D,EAAEA,EAAEuP,iBAAiB,IAAI,CAAC,qBAAIhE,GAAoB,MAAMrP,EAAEE,KAAKsB,MAAM+R,eAAevR,EAAE,MAAMhC,EAAEE,KAAKsB,MAAMgS,QAAQC,MAAMzR,GAAGA,EAAEL,KAAK3B,IAAI,KAAK,OAAQ,OAADgC,QAAC,IAADA,GAAAA,EAAG0R,aAAa1R,EAAE0R,aAAaC,UAAUrK,KAAKtJ,IAAC,IAAA4T,EAAA,MAAE,CAAmB,QAAnBA,EAAC5T,EAAEqT,wBAAgB,IAAAO,EAAAA,EAAE,GAAGlU,EAAEM,GAAG,IAAG,EAAE,CAAC,yBAAI6T,GAAwB,MAAM7T,EAAEE,KAAK4S,cAAc9Q,EAAE9B,KAAK+S,oBAAoBjT,EAAEA,EAAE4G,OAAO,GAAG,OAAO5G,EAAEqQ,QAAQ,CAACrQ,EAAEgC,IAAIhC,EAAEgC,EAAE8R,kBAAkB,GAAG9R,CAAC,CAACqJ,UAAAA,GAAa,OAAOnL,KAAK+S,mBAAmB,GAAG/S,KAAK4S,eAAe5S,KAAK4S,cAAciB,MAAM/T,GAAGA,EAAEoL,UAAU,CAACH,UAAAA,IAAarD,EAAAA,EAAAA,IAAE1H,KAAKsB,MAAMoB,iBAAiB1C,KAAK8K,KAAKpI,iBAAiB1C,KAAK8K,KAAKgJ,aAAa9T,KAAK+T,yBAAyB/T,KAAKsB,MAAMmI,UAAUzJ,KAAK,CAACgU,OAAAA,GAAUhU,KAAK4S,gBAAgB5S,KAAK4S,cAAc9I,SAAShK,GAAGA,EAAEkU,YAAYhU,KAAK4S,cAAc,MAAM5S,KAAK6S,kBAAiBlT,EAAAA,EAAAA,IAAEK,KAAK6S,iBAAiB,CAACkB,wBAAAA,CAAyBjU,EAAEgC,GAAG,MAAM8B,EAAE5D,KAAKf,EAAEe,KAAK8K,KAAKhL,EAAEgK,SAAShK,IAAI,IAAIA,EAAEmK,QAAQ,GAAG,mBAAmBnK,EAAEG,KAAK,CAAC,MAAM2D,EAAE,IAAInE,EAAE,CAACmL,SAAS9K,EAAEgL,KAAK7L,EAAE4L,OAAO/I,IAAI9B,KAAK+T,yBAAyBjU,EAAE2J,UAAU7F,EAAE,KAAK,SAAS9D,EAAEkF,eAAehF,KAAK+S,qBAAqBjT,EAAEoD,KAAK,CAACC,OAAOnD,KAAK6S,iBAAiB1P,SAASE,MAAM,KAAK,MAAMsD,EAAE,IAAI/G,EAAE,CAACgL,SAAS9K,EAAEiN,UAAUnJ,EAAEkH,KAAK7L,EAAE4L,OAAO/I,IAAI9B,KAAK4S,cAActJ,KAAK3C,GAAG,MAAM3E,EAAEhC,KAAKgT,0BAA0B5O,IAAItE,GAAG,GAAGkC,EAAE,CAAC,IAAI,MAAMlC,KAAKkC,EAAElC,EAAE4D,QAAQiD,GAAG3G,KAAKgT,0BAA0BiB,OAAOnU,EAAE,CAACE,KAAKkU,WAAW,EAACjM,EAAAA,EAAAA,KAAG,IAAItB,EAAEuE,WAAW,IAAIlL,KAAKmU,aAAa,aAAapL,EAAAA,KAAGd,EAAAA,EAAAA,KAAG,IAAItB,EAAEiN,mBAAmB,IAAI5T,KAAKmU,aAAa,0BAA0BpL,EAAAA,KAAI,IAAI6H,OAAO9O,KAAI+G,EAAAA,EAAAA,IAAE/G,IAAI9C,EAAAA,EAAEM,UAAUU,MAAMqH,MAAM,0CAAD7F,OAA2C1B,EAAE2B,GAAE,aAAAD,OAAYxB,KAAKsB,MAAM4C,IAAG,MAAKpC,EAAE,IAAIuB,MAAM,KAAKrD,KAAK+S,qBAAqB/S,KAAKmU,aAAa,YAAYnU,KAAKmU,aAAa,wBAAwB,IAAI,GAAG,CAACC,+BAAAA,CAAgCtU,GAAG,IAAI,MAAMgC,KAAK9B,KAAK4S,cAAcyB,MAAM,GAAGvS,EAAE8I,SAAS4C,MAAM1N,EAAE2N,YAAY,OAAO3L,EAAEsS,gCAAgCtU,GAAG,OAAO,IAAI,CAAC,wBAAM0Q,CAAmB1Q,EAAEgC,GAAG,GAAK,OAADA,QAAC,IAADA,IAAAA,EAAG4O,gBAAgB,IAAI5O,EAAE4O,eAAehK,OAAO,MAAM,GAAG,MAAM9C,GAAE3E,EAAAA,EAAAA,IAAE6C,EAAE4O,gBAAgB5Q,GAAGA,EAAEoG,cAAcS,EAAE,GAAG,IAAI,MAAM1H,EAAE+C,KAAK4B,EAAE,CAAC,MAAMA,EAAE5D,KAAKsU,eAAerV,GAAG,MAAM2E,GAAG+C,EAAE2C,KAAK1F,EAAE4M,mBAAmB1Q,EAAE,IAAIgC,EAAE4O,eAAe1O,IAAI,CAAC,aAAa9C,EAAAA,EAAAA,IAAEyH,IAAI4N,MAAM,CAACC,iBAAAA,CAAkB1U,GAAG,MAAMgC,EAAE9B,KAAKsU,eAAexU,EAAEoG,aAAa,OAAO,MAAMpE,EAAE2B,QAAQgR,SAAS3S,EAAE0S,kBAAkB1U,EAAE,CAAC4U,4BAAAA,CAA6B5U,GAAG,IAAI,MAAMgC,KAAK9B,KAAK4S,cAAcyB,MAAM,GAAGvS,EAAE8I,SAAS4C,MAAM1N,EAAE2N,YAAY,OAAO3L,EAAE4S,6BAA6B5U,GAAG,OAAO,IAAI,CAAC,sBAAM6U,CAAiB7U,GAAG,MAAMgC,EAAE9B,KAAKsU,eAAexU,GAAG,GAAG,MAAMgC,EAAE,OAAOA,EAAE,MAAM8B,EAAE5D,KAAKgT,0BAA0B5O,IAAItE,GAAGb,GAAEI,EAAAA,EAAAA,MAAI,OAAOuE,EAAEA,EAAE0F,KAAKrK,GAAGe,KAAKgT,0BAA0B4B,IAAI9U,EAAE,CAACb,IAAIA,EAAE4V,OAAO,CAACP,cAAAA,CAAexU,GAAG,OAAOE,KAAK4S,cAAcW,MAAMzR,GAAGhC,IAAIgC,EAAE8I,UAAU,CAACkC,SAAAA,CAAUhN,GAAGA,aAAagC,EAAAA,EAAEhC,EAAE,CAACA,GAAGA,aAAa6G,EAAAA,IAAI7G,EAAEA,EAAE2T,WAAW,MAAM7P,EAAE,GAAG,GAAGsF,MAAMC,QAAQrJ,IAAIA,EAAE4G,OAAO,GAAG5G,EAAE,aAAagC,EAAAA,EAAE,CAAC,MAAMA,EAAEhC,EAAEb,EAAE,IAAIgU,IAAI,IAAI,MAAMnT,KAAKgC,EAAE,CAAC,IAAIA,EAAE7C,EAAEmF,IAAItE,EAAEoG,aAAa,MAAMpE,IAAIA,EAAE,GAAG7C,EAAE2V,IAAI9U,EAAEoG,YAAYpE,IAAIA,EAAEwH,KAAKxJ,EAAE,CAACE,KAAK4S,cAAc9I,SAAShK,IAAI,MAAMgC,EAAE7C,EAAEmF,IAAItE,EAAE8K,UAAU9I,GAAG8B,EAAE0F,KAAKxJ,EAAEgN,UAAUhL,GAAG,GAAG,CAAC,OAAOE,EAAAA,EAAAA,IAAE4B,EAAE,CAAC,cAAIkR,GAAa,OAAO9U,KAAK4S,cAAczC,QAAQ,CAACrQ,EAAEgC,IAAIhC,EAAEgC,EAAEgT,YAAY,EAAE,CAAC,kBAAIC,GAAiB,OAAO/U,KAAK4S,cAAczC,QAAQ,CAACrQ,EAAEgC,IAAIhC,EAAEgC,EAAEiT,gBAAgB,EAAE,IAAGjV,EAAAA,EAAAA,GAAE,EAAC8I,EAAAA,EAAAA,OAAKI,EAAExB,UAAU,qBAAgB,IAAQ1H,EAAAA,EAAAA,GAAE,EAAC8I,EAAAA,EAAAA,IAAE,CAACrB,UAAS,KAAMyB,EAAExB,UAAU,mBAAmB,OAAM1H,EAAAA,EAAAA,GAAE,EAAC8I,EAAAA,EAAAA,IAAE,CAACrB,UAAS,KAAMyB,EAAExB,UAAU,oBAAoB,OAAM1H,EAAAA,EAAAA,GAAE,EAAC8I,EAAAA,EAAAA,IAAEoM,EAAAA,IAAIhM,EAAExB,UAAU,wBAAmB,IAAQ1H,EAAAA,EAAAA,GAAE,EAAC8I,EAAAA,EAAAA,IAAE,CAACrB,UAAS,EAAG0N,UAAU,MAAMjM,EAAExB,UAAU,wBAAwB,MAAMwB,GAAElJ,EAAAA,EAAAA,GAAE,EAACwH,EAAAA,EAAAA,GAAE,kDAAkD0B,GAAG,MAAM3C,EAAE2C,C,sICA1pJ,MAAM/J,EAAEA,IAAI,IAAII,EAAE,cAAcJ,EAAEY,WAAAA,GAAcE,SAAS2M,WAAW1M,KAAKkV,4BAA4B,EAAElV,KAAKmV,+BAA+B,GAAGnV,KAAKgQ,SAASlO,IAAI9B,KAAKkV,4BAA4BlV,KAAKmV,gCAAgCrV,EAAAA,EAAER,UAAUU,MAAMqH,MAAM,gDAAgDvF,GAAG9B,KAAKkV,8BAA8BlV,KAAKkV,8BAA8BlV,KAAKmV,gCAAgCrV,EAAAA,EAAER,UAAUU,MAAMqH,MAAM,6BAA6B,CAAC,CAAC,8BAAIiH,GAA4B,IAAA8G,EAAC,GAAiB,QAAdA,EAACpV,KAAKsN,gBAAQ,IAAA8H,IAAbA,EAAerU,qBAAqB,OAAO,KAAK,IAAI,MAAMe,EAAEE,EAAAA,YAAEqN,OAAOrP,KAAKsN,SAASvM,qBAAqBf,KAAKsN,SAAS3L,aAAa,IAAIG,EAAEwN,eAAe,OAAOxP,EAAAA,EAAER,UAAUU,MAAMqH,MAAM,uDAAuD,KAAK,MAAMV,EAAE,GAAG/C,EAAE9B,EAAEyN,WAAW,OAAOvQ,EAAAA,EAAAA,GAAE4E,EAAE5D,KAAKsN,SAAS5M,OAAO,CAAC8O,cAAc7I,IAAIA,EAAED,OAAO,GAAG5G,EAAAA,EAAER,UAAUU,MAAMqH,MAAM,mDAAD7F,OAAoDmF,EAAE8I,KAAK,QAAS,OAAOzP,KAAKkV,4BAA4B,EAAEpT,EAAE,CAAC,MAAMA,GAAG,OAAOhC,EAAAA,EAAER,UAAUU,MAAMqH,MAAM,yCAAyCvF,GAAG,IAAI,CAAC,CAAC,8BAAImM,GAA6B,OAAOjO,KAAKsO,2BAA2BtO,KAAKsO,2BAA2BiB,WAAW,EAAE,CAAC8F,eAAAA,CAAgBvT,EAAEhC,GAAG,IAAI,OAAOgC,EAAEoO,YAAYpQ,EAAE,CAAC,MAAM6G,GAAG,OAAO3G,KAAKgQ,SAASrJ,IAAG,CAAE,CAAC,CAACgM,+BAAAA,CAAgC7Q,GAAG,IAAI9B,KAAKsO,2BAA2B,OAAOxM,EAAE,MAAMhC,EAAEE,KAAKsN,SAASvM,qBAAqB4F,EAAE7E,EAAEwT,QAAQ,OAAO3O,EAAEhB,MAAMgB,EAAEhB,MAAK,IAAAnE,OAAK1B,EAAC,WAAA0B,OAAUmF,EAAEhB,MAAK,KAAIgB,EAAEhB,MAAM7F,EAAE6G,CAAC,GAAG,OAAO7E,EAAAA,EAAAA,GAAE,EAAC6E,EAAAA,EAAAA,OAAKtH,EAAEmI,UAAU,gBAAW,IAAQ1F,EAAAA,EAAAA,GAAE,EAAC6E,EAAAA,EAAAA,IAAE,CAACY,UAAS,KAAMlI,EAAEmI,UAAU,6BAA6B,OAAM1F,EAAAA,EAAAA,GAAE,EAAC6E,EAAAA,EAAAA,IAAE,CAACY,UAAS,KAAMlI,EAAEmI,UAAU,6BAA6B,MAAMnI,GAAEyC,EAAAA,EAAAA,GAAE,EAAC8B,EAAAA,EAAAA,GAAE,oEAAoEvE,GAAGA,CAAC,C","sources":["../node_modules/@arcgis/core/core/maybeUpdating.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingComponentSublayer.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingGroupSublayer.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingSublayer.js","../node_modules/@arcgis/core/views/3d/layers/BuildingSublayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/i3s/BuildingFilterUtil.js","../node_modules/@arcgis/core/views/layers/BuildingComponentSublayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingComponentSublayerView3D.js","../node_modules/@arcgis/core/views/layers/BuildingSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingSceneLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nconst n=\"updating\";function t(n){return\"updating\"===n?null:n}function u(n){return\"updating\"===n}export{u as isUpdating,t as unwrapUpdating,n as updating};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../Graphic.js\";import t from\"../../PopupTemplate.js\";import\"../../renderers/ClassBreaksRenderer.js\";import\"../../renderers/DictionaryRenderer.js\";import\"../../renderers/DotDensityRenderer.js\";import\"../../renderers/HeatmapRenderer.js\";import\"../../renderers/PieChartRenderer.js\";import\"../../renderers/Renderer.js\";import\"../../renderers/SimpleRenderer.js\";import\"../../renderers/UniqueValueRenderer.js\";import\"../../renderers/support/jsonUtils.js\";import{webSceneRendererTypes as o}from\"../../renderers/support/types.js\";import s from\"../../request.js\";import i from\"../../core/Error.js\";import{JSONMap as a}from\"../../core/jsonMap.js\";import n from\"../../core/Loadable.js\";import p from\"../../core/Logger.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as d}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{enumeration as y}from\"../../core/accessorSupport/decorators/enumeration.js\";import{reader as u}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import m from\"../../geometry/Extent.js\";import h from\"../../geometry/SpatialReference.js\";import f from\"../FeatureLayer.js\";import g from\"./BuildingSublayer.js\";import{zeroCapabilities as j}from\"../support/capabilities.js\";import{popupEnabled as v}from\"../support/commonProperties.js\";import{defineFieldProperties as b}from\"../support/fieldProperties.js\";import L from\"../support/FieldsIndex.js\";import{unpackFieldNames as S}from\"../support/fieldUtils.js\";import{fetchIndexInfo as I}from\"../support/I3SIndexInfo.js\";import{I3SNodePageDefinition as F,I3SMaterialDefinition as w,I3STextureSetDefinition as x,I3SGeometryDefinition as O}from\"../support/I3SLayerDefinitions.js\";import T from\"../../rest/support/Query.js\";import{createPopupTemplate as q}from\"../../support/popupUtils.js\";import R from\"../../symbols/support/ElevationInfo.js\";import{queryAttributesFromCachedAttributesId as P}from\"../../views/3d/layers/i3s/I3SUtil.js\";import{getRequiredFields as U,getFetchPopupTemplate as D}from\"../../views/layers/support/popupUtils.js\";const Q=\"esri.layers.buildingSublayers.BuildingComponentSublayer\",E=p.getLogger(Q),A=b();let _=class extends(n.LoadableMixin(l(g))){constructor(e){super(e),this.type=\"building-component\",this.nodePages=null,this.materialDefinitions=[],this.textureSetDefinitions=[],this.geometryDefinitions=[],this.indexInfo=null,this.serviceUpdateTimeStamp=null,this.store=null,this.attributeStorageInfo=[],this.fields=[],this.associatedLayer=null,this.outFields=null,this.listMode=\"show\",this.renderer=null,this.definitionExpression=null,this.popupEnabled=!0,this.popupTemplate=null,this.layerType=\"3d-object\"}get parsedUrl(){return this.layer?{path:`${this.layer.parsedUrl?.path}/sublayers/${this.id}`,query:this.layer.parsedUrl?.query}:{path:\"\"}}get fieldsIndex(){return new L(this.fields)}readAssociatedLayer(e,r){const t=this.layer.associatedFeatureServiceItem,o=r.associatedLayerID;return null!=t&&\"number\"==typeof o?new f({portalItem:t,layerId:o}):null}get objectIdField(){if(null!=this.fields)for(const e of this.fields)if(\"oid\"===e.type)return e.name;return null}get displayField(){return null!=this.associatedLayer?this.associatedLayer.displayField:void 0}get apiKey(){return this.layer.apiKey}get fullExtent(){return this.layer.fullExtent}get spatialReference(){return this.layer.spatialReference}get version(){return this.layer.version}get elevationInfo(){return this.layer.elevationInfo}get minScale(){return this.layer.minScale}get maxScale(){return this.layer.maxScale}get effectiveScaleRange(){return this.layer.effectiveScaleRange}get defaultPopupTemplate(){return this.createPopupTemplate()}load(e){const r=null!=e?e.signal:null,t=this._fetchService(r).then((()=>{this.indexInfo=I(this.parsedUrl.path,this.rootNode,this.nodePages,this.apiKey,E,r)}));return this.addResolvingPromise(t),Promise.resolve(this)}createPopupTemplate(e){return q(this,e)}async _fetchService(e){const r=(await s(this.parsedUrl.path,{query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:e})).data;this.read(r,{origin:\"service\",url:this.parsedUrl})}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,r){const t=this.getFeatureType(r?.feature)?.domains?.[e];return t&&\"inherited\"!==t.type?t:this.getField(e)?.domain??null}getFeatureType(e){return e&&null!=this.associatedLayer?this.associatedLayer.getFeatureType(e):null}get types(){return null!=this.associatedLayer?this.associatedLayer.types??[]:[]}get typeIdField(){return null!=this.associatedLayer?this.associatedLayer.typeIdField:null}get geometryType(){return\"3d-object\"===this.layerType?\"mesh\":\"point\"}get profile(){return\"3d-object\"===this.layerType?\"mesh-pyramids\":\"points\"}get capabilities(){const e=null!=this.associatedLayer&&this.associatedLayer.capabilities?this.associatedLayer.capabilities:j,{query:r,data:{supportsZ:t,supportsM:o,isVersioned:s}}=e;return{query:r,data:{supportsZ:t,supportsM:o,isVersioned:s}}}createQuery(){const e=new T;return\"mesh\"!==this.geometryType&&(e.returnGeometry=!0,e.returnZ=!0),e.where=this.definitionExpression||\"1=1\",e.sqlFormat=\"standard\",e}queryExtent(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryExtent(e||this.createQuery(),r)))}queryFeatureCount(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryFeatureCount(e||this.createQuery(),r)))}queryFeatures(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryFeatures(e||this.createQuery(),r))).then((e=>{if(e?.features)for(const r of e.features)r.layer=this.layer,r.sourceLayer=this;return e}))}queryObjectIds(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryObjectIds(e||this.createQuery(),r)))}async queryCachedAttributes(e,r){const t=S(this.fieldsIndex,await U(this,D(this)));return P(this.parsedUrl.path,this.attributeStorageInfo,e,r,t)}async queryCachedFeature(e,t){const o=await this.queryCachedAttributes(e,[t]);if(!o||0===o.length)throw new i(\"scenelayer:feature-not-in-cached-data\",\"Feature not found in cached data\");const s=new r;return s.attributes=o[0],s.layer=this,s.sourceLayer=this,s}getFieldUsageInfo(e){return this.fieldsIndex.has(e)?{supportsLabelingInfo:!1,supportsRenderer:!1,supportsPopupTemplate:!1,supportsLayerQuery:!1}:{supportsLabelingInfo:!1,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:null!=this.associatedLayer}}_getAssociatedLayerForQuery(){const e=this.associatedLayer;return null!=e&&e.loaded?Promise.resolve(e):this._loadAssociatedLayerForQuery()}async _loadAssociatedLayerForQuery(){if(await this.load(),null==this.associatedLayer)throw new i(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer component layer queries are not available without an associated feature layer\",{layer:this});try{await this.associatedLayer.load()}catch(e){throw new i(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer associated feature layer could not be loaded\",{layer:this,error:e})}return this.associatedLayer}};e([d({readOnly:!0})],_.prototype,\"parsedUrl\",null),e([d({type:F,readOnly:!0})],_.prototype,\"nodePages\",void 0),e([d({type:[w],readOnly:!0})],_.prototype,\"materialDefinitions\",void 0),e([d({type:[x],readOnly:!0})],_.prototype,\"textureSetDefinitions\",void 0),e([d({type:[O],readOnly:!0})],_.prototype,\"geometryDefinitions\",void 0),e([d({readOnly:!0})],_.prototype,\"serviceUpdateTimeStamp\",void 0),e([d({readOnly:!0})],_.prototype,\"store\",void 0),e([d({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],_.prototype,\"rootNode\",void 0),e([d({readOnly:!0})],_.prototype,\"attributeStorageInfo\",void 0),e([d(A.fields)],_.prototype,\"fields\",void 0),e([d({readOnly:!0})],_.prototype,\"fieldsIndex\",null),e([d({readOnly:!0,type:f})],_.prototype,\"associatedLayer\",void 0),e([u(\"service\",\"associatedLayer\",[\"associatedLayerID\"])],_.prototype,\"readAssociatedLayer\",null),e([d(A.outFields)],_.prototype,\"outFields\",void 0),e([d({type:String,readOnly:!0})],_.prototype,\"objectIdField\",null),e([d({readOnly:!0,type:String,json:{read:!1}})],_.prototype,\"displayField\",null),e([d({readOnly:!0,type:String})],_.prototype,\"apiKey\",null),e([d({readOnly:!0,type:m})],_.prototype,\"fullExtent\",null),e([d({readOnly:!0,type:h})],_.prototype,\"spatialReference\",null),e([d({readOnly:!0})],_.prototype,\"version\",null),e([d({readOnly:!0,type:R})],_.prototype,\"elevationInfo\",null),e([d({readOnly:!0,type:Number})],_.prototype,\"minScale\",null),e([d({readOnly:!0,type:Number})],_.prototype,\"maxScale\",null),e([d({readOnly:!0,type:Number})],_.prototype,\"effectiveScaleRange\",null),e([d({type:[\"hide\",\"show\"],json:{write:!0}})],_.prototype,\"listMode\",void 0),e([d({types:o,json:{origins:{service:{read:{source:\"drawingInfo.renderer\"}}},name:\"layerDefinition.drawingInfo.renderer\",write:!0},value:null})],_.prototype,\"renderer\",void 0),e([d({type:String,json:{origins:{service:{read:!1,write:!1}},name:\"layerDefinition.definitionExpression\",write:{enabled:!0,allowNull:!0}}})],_.prototype,\"definitionExpression\",void 0),e([d(v)],_.prototype,\"popupEnabled\",void 0),e([d({type:t,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\"}}})],_.prototype,\"popupTemplate\",void 0),e([d({readOnly:!0,type:String,json:{origins:{service:{read:{source:\"store.normalReferenceFrame\"}}},read:!1}})],_.prototype,\"normalReferenceFrame\",void 0),e([d({readOnly:!0,json:{read:!1}})],_.prototype,\"defaultPopupTemplate\",null),e([d()],_.prototype,\"types\",null),e([d()],_.prototype,\"typeIdField\",null),e([d({json:{write:!1}}),y(new a({\"3DObject\":\"3d-object\",Point:\"point\"}))],_.prototype,\"layerType\",void 0),e([d()],_.prototype,\"geometryType\",null),e([d()],_.prototype,\"profile\",null),e([d({readOnly:!0,json:{read:!1}})],_.prototype,\"capabilities\",null),_=e([c(Q)],_);const C=_;export{C as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import{loadAllChildren as o}from\"../../core/loadAll.js\";import s from\"../../core/Warning.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import n from\"./BuildingComponentSublayer.js\";import u from\"./BuildingSublayer.js\";var a;const l={type:e,readOnly:!0,json:{origins:{service:{read:{source:\"sublayers\",reader:p}}},read:!1}};function p(r,o,t){if(r&&Array.isArray(r))return new e(r.map((r=>{const e=y(r);if(e){const o=new e;return o.read(r,t),o}return t?.messages&&r&&t.messages.push(new s(\"building-scene-layer:unsupported-sublayer-type\",\"Building scene sublayer of type '\"+(r.type||\"unknown\")+\"' are not supported\",{definition:r,context:t})),null})))}let c=a=class extends u{constructor(r){super(r),this.type=\"building-group\",this.listMode=\"show\",this.sublayers=null}loadAll(){return o(this,(r=>a.forEachSublayer(this.sublayers,(e=>{\"building-group\"!==e.type&&r(e)}))))}};function y(r){return\"group\"===r.layerType?c:n}r([t({type:[\"hide\",\"show\",\"hide-children\"],json:{write:!0}})],c.prototype,\"listMode\",void 0),r([t(l)],c.prototype,\"sublayers\",void 0),c=a=r([i(\"esri.layers.buildingSublayers.BuildingGroupSublayer\")],c),function(r){function e(r,o){r.forEach((r=>{o(r),\"building-group\"===r.type&&e(r.sublayers,o)}))}r.sublayersProperty=l,r.readSublayers=p,r.forEachSublayer=e}(c||(c={}));const d=c;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{IdentifiableMixin as o}from\"../../core/Identifiable.js\";import{MultiOriginJSONSupport as r}from\"../../core/MultiOriginJSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{Integer as i}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{readOnlyService as l}from\"../support/commonProperties.js\";let a=class extends(o(r)){constructor(e){super(e),this.title=\"\",this.id=-1,this.modelName=null,this.isEmpty=null,this.legendEnabled=!0,this.visible=!0,this.opacity=1}readTitle(e,o){return\"string\"==typeof o.alias?o.alias:\"string\"==typeof o.name?o.name:\"\"}readIdOnlyOnce(e){return-1!==this.id?this.id:\"number\"==typeof e?e:-1}};e([t({type:String,json:{origins:{\"web-scene\":{write:!0},\"portal-item\":{write:!0}}}})],a.prototype,\"title\",void 0),e([s(\"service\",\"title\",[\"alias\",\"name\"])],a.prototype,\"readTitle\",null),e([t()],a.prototype,\"layer\",void 0),e([t({type:i,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],a.prototype,\"id\",void 0),e([s(\"service\",\"id\")],a.prototype,\"readIdOnlyOnce\",null),e([t(l(String))],a.prototype,\"modelName\",void 0),e([t(l(Boolean))],a.prototype,\"isEmpty\",void 0),e([t({type:Boolean,nonNullable:!0})],a.prototype,\"legendEnabled\",void 0),e([t({type:Boolean,json:{name:\"visibility\",write:!0}})],a.prototype,\"visible\",void 0),e([t({type:Number,json:{write:!0}})],a.prototype,\"opacity\",void 0),a=e([p(\"esri.layers.buildingSublayers.BuildingSublayer\")],a);const n=a;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Evented.js\";import{IdentifiableMixin as t}from\"../../../core/Identifiable.js\";import{EsriPromiseMixin as s}from\"../../../core/Promise.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";const p=(p,l)=>{let n=class extends(s(t(r.EventedMixin(p)))){constructor(e){super(e),this.sublayer=null,this.parent=null,this.view=null}initialize(){}get suspended(){return!this.canResume()}get updating(){return!this.suspended&&this.isUpdating()}get visible(){return!!this.sublayer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get fullOpacity(){const e=e=>null!=e?e:1;return e(this.sublayer?.opacity)*e(this.parent?.fullOpacity)}canResume(){return!this.parent?.suspended&&this.view?.ready&&this.visible||!1}isUpdating(){return!1}};return e([i()],n.prototype,\"sublayer\",void 0),e([i()],n.prototype,\"parent\",void 0),e([i({readOnly:!0})],n.prototype,\"suspended\",null),e([i({type:Boolean,readOnly:!0})],n.prototype,\"updating\",null),e([i()],n.prototype,\"view\",void 0),e([i()],n.prototype,\"visible\",null),e([i()],n.prototype,\"fullOpacity\",null),n=e([o(\"esri.views.3d.layers.BuildingSublayerView3D\")],n),n};export{p as BuildingSublayerView3DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{d as e}from\"../../../../chunks/vec4f64.js\";import{createMaterialFromEdges as r}from\"../support/edgeUtils.js\";import{ColorMixModeEnum as a}from\"../support/symbolColorUtils.js\";var o;!function(e){e[e.Solid=0]=\"Solid\",e[e.WireFrame=1]=\"WireFrame\",e[e.XRay=2]=\"XRay\"}(o||(o={}));const l=.15,t=.5*l;function i(e){switch(e.filterMode.type){case\"solid\":return{mode:o.Solid};case\"wire-frame\":return{mode:o.WireFrame,edgeMaterial:r(e.filterMode.edges,{})};case\"x-ray\":return{mode:o.XRay}}}function c(e,r){if(null==r)return e.color[3]=0,e.edgeMaterial=null,void(e.pickable=!1);switch(r.mode){case o.Solid:return;case o.WireFrame:return e.color[3]=0,e.edgeMaterial=r.edgeMaterial,void(e.pickable=!1);case o.XRay:return e.color[0]=1,e.color[1]=1,e.color[2]=1,e.color[3]*=l,e.colorMixMode=a.Replace,e.castShadows=!1,e.pickable=!1,void(e.edgeMaterial=n(e.edgeMaterial))}}function n(e){return null==e?null:(s.lastMaterial!==e&&(s.cachedMaterial=d(e),s.lastMaterial=e),s.cachedMaterial)}function d(r){const a=e(r.color);return a[3]*=t,{...r,color:a}}const s={cachedMaterial:null,lastMaterial:null};export{o as FilterModeEnum,c as applyFilterMode,i as parseFilterMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/interfaces.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/tracking/Flags.js\";import\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import\"../../core/Error.js\";class o extends e{constructor(){super(...arguments),this.sublayer=null}get updating(){return!1}get suspended(){return!1}get availableFields(){return[]}get filter(){return null}set filter(r){throw new Error(\"Not implemented\")}queryFeatures(r,e){throw new Error(\"Not implemented\")}queryObjectIds(r,e){throw new Error(\"Not implemented\")}queryFeatureCount(r,e){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(r,e){throw new Error(\"Not implemented\")}highlight(r){throw new Error(\"Not implemented\")}}r([t()],o.prototype,\"sublayer\",void 0),r([t()],o.prototype,\"availableFields\",null),r([t()],o.prototype,\"filter\",null);export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Graphic.js\";import t from\"../../../core/Error.js\";import i from\"../../../core/Logger.js\";import{initial as s}from\"../../../core/reactiveUtils.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as a}from\"../../../core/sql/WhereClause.js\";import\"../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import o from\"../../../layers/support/FeatureFilter.js\";import{fixFields as u,unpackFieldNames as d,populateMissingFields as p}from\"../../../layers/support/fieldUtils.js\";import h from\"../../../rest/support/Query.js\";import{BuildingSublayerView3DMixin as y}from\"./BuildingSublayerView3D.js\";import{I3SMeshView3D as c}from\"./I3SMeshView3D.js\";import{ForAllFeaturesMode as f}from\"./II3SMeshView3D.js\";import{applyFilterMode as g}from\"./i3s/BuildingFilterUtil.js\";import{createGetFeatureExtent as m}from\"./i3s/I3SGeometryUtil.js\";import{I3SMeshViewFilter as b}from\"./i3s/I3SMeshViewFilter.js\";import{I3SQueryEngine as F}from\"./i3s/I3SQueryEngine.js\";import{I3SQueryFeatureAdapter as _}from\"./i3s/I3SQueryFeatureAdapter.js\";import{I3SQueryFeatureStore as E}from\"./i3s/I3SQueryFeatureStore.js\";import{findFieldsCaseInsensitive as w,getIndexCrs as x}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as S}from\"./support/DefinitionExpressionSceneLayerView.js\";import j from\"../../layers/BuildingComponentSublayerView.js\";import{hasPopupTemplate as v,getRequiredFields as I,getFetchPopupTemplate as Q}from\"../../layers/support/popupUtils.js\";import{TaskPriority as q}from\"../../support/Scheduler.js\";let R=class extends(S(c(y(j)))){constructor(){super(...arguments),this.type=\"building-component-sublayer-3d\",this.layerView=null,this._elevationContext=\"scene\",this._isIntegratedMesh=!1,this._supportsLabeling=!1,this.requiredFields=[],this.progressiveLoadFactor=1,this._queryEngine=null}get i3slayer(){return this.sublayer}get layerUid(){return this.sublayer.layer.uid}get sublayerUid(){return this.sublayer.uid}get layerId(){return this.sublayer.layer.id}get sublayerId(){return this.sublayer.id}get layerPopupEnabledAndHasTemplate(){return this.sublayer.popupEnabled&&v(this.sublayer,this.layerView?.view.popup?.defaultPopupTemplateEnabled)}initialize(){this._updatingHandles.add((()=>[this.sublayer.renderer,this.definitionExpressionFields,this.filterExpressionFields]),(()=>this._updateRequiredFields())),this._updatingHandles.add((()=>this.sublayer.renderer),(e=>this._rendererChange(e)),s);const e=()=>this._filterChange();this._updatingHandles.add((()=>this.parsedDefinitionExpression),e),this._updatingHandles.add((()=>null!=this._filter?this._filter.sortedObjectIds:null),e),this._updatingHandles.add((()=>null!=this._filter?this._filter.parsedWhereClause:null),e),this._updatingHandles.add((()=>[null!=this._filter?this._filter.parsedGeometry:null,null!=this.filter?this.filter.spatialRelationship:null]),(()=>this._geometryFilterChange())),this._updatingHandles.add((()=>this.parsedFilterExpressions),(()=>this._updateSymbologyOverride()),s),this.addResolvingPromise(this._updateRequiredFields())}get lodFactor(){return this.view.qualitySettings.sceneService.object.lodFactor}get parsedFilterExpressions(){return\"Overview\"!==this.sublayer.modelName&&this.layerView?this.layerView.filterExpressions.map((([e,r])=>{let t;try{t=a.create(e,this.sublayer.fieldsIndex)}catch(n){return i.getLogger(this).error(\"Failed to parse filterExpression: \"+n),null}if(!t.isStandardized)return i.getLogger(this).error(\"filterExpression is using non standard function\"),null;const s=[],l=t.fieldNames;return w(l,this.sublayer.fields,{missingFields:s}),s.length>0?(i.getLogger(this).error(`filterExpression references unknown fields: ${s.join(\", \")}`),null):[t,r]})).filter((e=>null!=e)):[]}get filter(){return null!=this._filter?this._filter.viewFilter:null}set filter(e){null!=e&&b.checkSupport(e)?null!=this._filter?this._filter.viewFilter=e:this._filter=new b({viewFilter:e,layerFieldsIndex:this.sublayer.fieldsIndex,loadAsyncModule:e=>this._loadAsyncModule(e),addSqlFilter:(e,r)=>this.addSqlFilter(e,r,this.logError)}):this._filter=null}isUpdating(){return super.isUpdating()||null!=this._filter&&this._filter.updating}_updateSymbologyOverride(){const e=this.parsedFilterExpressions;e.length>0?this._setSymbologyOverride(((r,t)=>{for(const[s,l]of e)try{if(s.testFeature(r))return g(t,l)}catch(i){this.logError(i)}return g(t,null)}),this.filterExpressionFields):this._setSymbologyOverride(null,null)}get filterExpressionFields(){return u(this.sublayer.fieldsIndex,this.parsedFilterExpressions.reduce(((e,[r])=>e.concat(r.fieldNames)),new Array))}get availableFields(){const e=this.sublayer,r=e.fieldsIndex;let t=this.requiredFields;if(e.outFields||e.layer.outFields){const i=[...e.outFields||[],...e.layer.outFields||[]];t=[...d(r,i),...t]}return u(r,t)}_createLayerGraphic(e){const t=new r(null,null,e);return t.layer=this.sublayer.layer,t.sourceLayer=this.sublayer,t}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}async fetchPopupFeatures(e,r){const t=this._validateFetchPopupFeatures(r);if(t)throw t;if(!r?.clientGraphics||0===r.clientGraphics.length)return[];const s=[],l=[],n=null!=this.sublayer.associatedLayer?await this.sublayer.associatedLayer.load():this.sublayer,a=d(this.sublayer.fieldsIndex,await I(n,Q(this.sublayer,r))),o=new Set;for(const i of r.clientGraphics)p(a,i,o)?l.push(i):s.push(i);return 0===l.length?s:(null!=this.sublayer.associatedLayer&&await this.sublayer.associatedLayer.load().catch((()=>i.getLogger(this).warn(\"Failed to load associated feature layer. Displaying popup attributes from cached attributes.\"))),this.whenGraphicAttributes(l,Array.from(o)).catch((()=>l)).then((e=>s.concat(e))))}async _updateRequiredFields(){const e=u(this.sublayer.fieldsIndex,[...this.sublayer.renderer?await this.sublayer.renderer.getRequiredFields(this.sublayer.fieldsIndex):[],...this.definitionExpressionFields||[],...this.filterExpressionFields||[]]);this._set(\"requiredFields\",e)}_validateFetchPopupFeatures(e){const{sublayer:r}=this,{popupEnabled:i}=r;return i?Q(r,e)?void 0:new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{sublayer:r}):new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{sublayer:r})}getFilters(){const e=super.getFilters();return this.addSqlFilter(e,this.parsedDefinitionExpression,this.logError),null!=this._filter&&this._filter.addFilters(e,this.view,this._controller.crsIndex,this._collection),e}createQuery(){const e={outFields:[\"*\"],returnGeometry:!1,outSpatialReference:this.view.spatialReference};return null!=this.filter?this.filter.createQuery(e):new h(e)}queryExtent(e,r){return this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e),r?.signal)}queryFeatureCount(e,r){return this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e),r?.signal)}queryFeatures(e,r){return this._ensureQueryEngine().executeQuery(this._ensureQuery(e),r?.signal).then((e=>{if(!e?.features)return e;const r=this.sublayer,t=r.layer;for(const i of e.features)i.layer=t,i.sourceLayer=r;return e}))}queryObjectIds(e,r){return this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e),r?.signal)}_ensureQueryEngine(){return null==this._queryEngine&&(this._queryEngine=this._createQueryEngine()),this._queryEngine}_createQueryEngine(){const e=m(this.view.spatialReference,this.view.renderSpatialReference,this._collection);return new F({layerView:this,priority:q.FEATURE_QUERY_ENGINE,spatialIndex:new E({featureAdapter:new _({objectIdField:this.sublayer.objectIdField,attributeStorageInfo:this.sublayer.attributeStorageInfo,getFeatureExtent:e}),forAllFeatures:(e,r)=>this._forAllFeatures(((r,t,i)=>e({id:r,index:t,meta:i})),r,f.QUERYABLE),getFeatureExtent:e,sourceSpatialReference:x(this.sublayer),viewSpatialReference:this.view.spatialReference})})}_ensureQuery(e){return this._addDefinitionExpressionToQuery(null==e?this.createQuery():h.from(e))}};e([l()],R.prototype,\"i3slayer\",null),e([l()],R.prototype,\"layerView\",void 0),e([l()],R.prototype,\"lodFactor\",null),e([l({readOnly:!0})],R.prototype,\"parsedFilterExpressions\",null),e([l({type:o})],R.prototype,\"filter\",null),e([l()],R.prototype,\"_filter\",void 0),e([l({type:[String],readOnly:!0})],R.prototype,\"filterExpressionFields\",null),e([l({type:[String],readOnly:!0})],R.prototype,\"requiredFields\",void 0),e([l({type:[String],readOnly:!0})],R.prototype,\"availableFields\",null),R=e([n(\"esri.views.3d.layers.BuildingComponentSublayerView3D\")],R);const L=R;export{L as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/interfaces.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/tracking/Flags.js\";import\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import\"../../core/Error.js\";import e from\"./LayerView.js\";class s extends e{constructor(r){super(r),this.layer=null,this.sublayerViews=null}highlight(r){throw new Error(\"Not implemented\")}}r([o()],s.prototype,\"layer\",void 0),r([o()],s.prototype,\"sublayerViews\",void 0);export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Graphic.js\";import s from\"../../../core/Accessor.js\";import{groupToMap as t}from\"../../../core/arrayUtils.js\";import i from\"../../../core/Collection.js\";import{handlesGroup as o}from\"../../../core/handleUtils.js\";import n from\"../../../core/Logger.js\";import{abortMaybe as l}from\"../../../core/maybe.js\";import{isAbortError as a,allSettledValues as u,createResolver as p}from\"../../../core/promiseUtils.js\";import{watch as h,syncAndInitial as c}from\"../../../core/reactiveUtils.js\";import{property as y}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/has.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../layers/buildingSublayers/BuildingGroupSublayer.js\";import g from\"./BuildingComponentSublayerView3D.js\";import{BuildingSublayerView3DMixin as f}from\"./BuildingSublayerView3D.js\";import{LayerView3D as m}from\"./LayerView3D.js\";import{parseFilterMode as b}from\"./i3s/BuildingFilterUtil.js\";import{checkSpatialReference as w}from\"./i3s/I3SUtil.js\";import{updatingProgress as V}from\"../support/updatingProperties.js\";import j from\"../../layers/BuildingSceneLayerView.js\";const _=f(s);let C=class extends(m(j)){constructor(e){super(e),this.type=\"building-scene-3d\",this.sublayerViews=new i,this._abortController=new AbortController,this._loadingComponents=0,this._pendingWhenSublayerViews=new Map,this.ignoresMemoryFactor=!1}get filterExpression(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find((r=>r.id===e)):null,s=null!=r?r.filterBlocks?.find((e=>\"solid\"===e.filterMode.type)):null;return s?s.filterExpression:null}get filterExpressions(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find((r=>r.id===e)):null;return r?.filterBlocks?r.filterBlocks.toArray().map((e=>[e.filterExpression??\"\",b(e)])):[]}get updatingProgressValue(){const e=this.sublayerViews,r=this._loadingComponents+(e?e.length:0);return e.reduce(((e,r)=>e+r.updatingProgress),0)/r}isUpdating(){return this._loadingComponents>0||this.sublayerViews&&this.sublayerViews.some((e=>e.updating))}initialize(){w(this.layer.spatialReference,this.view.spatialReference,this.view.viewingMode),this._initializeSubLayerViews(this.layer.sublayers,this)}destroy(){this.sublayerViews&&(this.sublayerViews.forEach((e=>e.destroy())),this.sublayerViews=null),this._abortController=l(this._abortController)}_initializeSubLayerViews(e,r){const s=this,t=this.view;e.forEach((e=>{if(!e.isEmpty)if(\"building-group\"===e.type){const s=new _({sublayer:e,view:t,parent:r});this._initializeSubLayerViews(e.sublayers,s)}else\"mesh\"===e.geometryType&&(this._loadingComponents++,e.load({signal:this._abortController.signal}).then((()=>{const i=new g({sublayer:e,layerView:s,view:t,parent:r});this.sublayerViews.push(i);const o=this._pendingWhenSublayerViews.get(e);if(o){for(const e of o)e.resolve(i);this._pendingWhenSublayerViews.delete(e)}this.addHandles([h((()=>i.updating),(()=>this.notifyChange(\"updating\")),c),h((()=>i.updatingProgress),(()=>this.notifyChange(\"updatingProgressValue\")),c)])})).catch((r=>{a(r)||n.getLogger(this).error(`Error while creating view for sublayer ${e.id}\\nLayer: ${this.layer.url}\\n`,r)})).then((()=>{this._loadingComponents--,this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")})))}))}getGraphicFromIntersectorTarget(e){for(const r of this.sublayerViews.items)if(r.sublayer.uid===e.sublayerUid)return r.getGraphicFromIntersectorTarget(e);return null}async fetchPopupFeatures(e,r){if(!r?.clientGraphics||0===r.clientGraphics.length)return[];const s=t(r.clientGraphics,(e=>e.sourceLayer)),i=[];for(const[t,o]of s){const s=this._findComponent(t);null!=s&&i.push(s.fetchPopupFeatures(e,{...r,clientGraphics:o}))}return(await u(i)).flat()}whenGraphicBounds(e){const r=this._findComponent(e.sourceLayer);return null==r?Promise.reject():r.whenGraphicBounds(e)}getAABBFromIntersectorTarget(e){for(const r of this.sublayerViews.items)if(r.sublayer.uid===e.sublayerUid)return r.getAABBFromIntersectorTarget(e);return null}async whenSublayerView(e){const r=this._findComponent(e);if(null!=r)return r;const s=this._pendingWhenSublayerViews.get(e),t=p();return s?s.push(t):this._pendingWhenSublayerViews.set(e,[t]),t.promise}_findComponent(e){return this.sublayerViews.find((r=>e===r.sublayer))}highlight(e){e instanceof r?e=[e]:e instanceof i&&(e=e.toArray());const s=[];if(Array.isArray(e)&&e.length>0&&e[0]instanceof r){const r=e,t=new Map;for(const e of r){let r=t.get(e.sourceLayer);null==r&&(r=[],t.set(e.sourceLayer,r)),r.push(e)}this.sublayerViews.forEach((e=>{const r=t.get(e.sublayer);r&&s.push(e.highlight(r))}))}return o(s)}get usedMemory(){return this.sublayerViews.reduce(((e,r)=>e+r.usedMemory),0)}get unloadedMemory(){return this.sublayerViews.reduce(((e,r)=>e+r.unloadedMemory),0)}};e([y()],C.prototype,\"sublayerViews\",void 0),e([y({readOnly:!0})],C.prototype,\"filterExpression\",null),e([y({readOnly:!0})],C.prototype,\"filterExpressions\",null),e([y(V)],C.prototype,\"updatingProgress\",void 0),e([y({readOnly:!0,dependsOn:[]})],C.prototype,\"updatingProgressValue\",null),C=e([d(\"esri.views.3d.layers.BuildingSceneLayerView3D\")],C);const S=C;export{S as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as o}from\"../../../../core/sql/WhereClause.js\";import{findFieldsCaseInsensitive as n}from\"../i3s/I3SUtil.js\";const t=t=>{let p=class extends t{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&e.getLogger(this).error(\"Error while evaluating definitionExpression: \"+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&e.getLogger(this).error(\"Further errors are ignored\")}}get parsedDefinitionExpression(){if(!this.i3slayer?.definitionExpression)return null;try{const r=o.create(this.i3slayer.definitionExpression,this.i3slayer.fieldsIndex);if(!r.isStandardized)return e.getLogger(this).error(\"definitionExpression is using non standard function\"),null;const i=[],s=r.fieldNames;return n(s,this.i3slayer.fields,{missingFields:i}),i.length>0?(e.getLogger(this).error(`definitionExpression references unknown fields: ${i.join(\", \")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return e.getLogger(this).error(\"Failed to parse definitionExpression: \"+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:[]}_evaluateClause(r,e){try{return r.testFeature(e)}catch(i){return this.logError(i),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const e=this.i3slayer.definitionExpression,i=r.clone();return i.where?i.where=`(${e}) AND (${i.where})`:i.where=e,i}};return r([i()],p.prototype,\"i3slayer\",void 0),r([i({readOnly:!0})],p.prototype,\"parsedDefinitionExpression\",null),r([i({readOnly:!0})],p.prototype,\"definitionExpressionFields\",null),p=r([s(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\")],p),p};export{t as DefinitionExpressionSceneLayerView};\n"],"names":["n","t","u","Q","E","p","getLogger","A","b","_","LoadableMixin","l","g","constructor","e","super","this","type","nodePages","materialDefinitions","textureSetDefinitions","geometryDefinitions","indexInfo","serviceUpdateTimeStamp","store","attributeStorageInfo","fields","associatedLayer","outFields","listMode","renderer","definitionExpression","popupEnabled","popupTemplate","layerType","parsedUrl","_this$layer$parsedUrl","_this$layer$parsedUrl2","layer","path","concat","id","query","fieldsIndex","L","readAssociatedLayer","r","associatedFeatureServiceItem","o","associatedLayerID","f","portalItem","layerId","objectIdField","name","displayField","apiKey","fullExtent","spatialReference","version","elevationInfo","minScale","maxScale","effectiveScaleRange","defaultPopupTemplate","createPopupTemplate","load","signal","_fetchService","then","I","rootNode","addResolvingPromise","Promise","resolve","q","s","token","responseType","data","read","origin","url","getField","get","getFieldDomain","_this$getFeatureType","_this$getField$domain","_this$getField","getFeatureType","feature","domains","domain","types","_this$associatedLayer","typeIdField","geometryType","profile","capabilities","j","supportsZ","supportsM","isVersioned","createQuery","T","returnGeometry","returnZ","where","sqlFormat","queryExtent","_getAssociatedLayerForQuery","queryFeatureCount","queryFeatures","features","sourceLayer","queryObjectIds","queryCachedAttributes","S","U","D","P","queryCachedFeature","length","i","attributes","getFieldUsageInfo","has","supportsLabelingInfo","supportsRenderer","supportsPopupTemplate","supportsLayerQuery","loaded","_loadAssociatedLayerForQuery","error","d","readOnly","prototype","F","w","x","O","String","json","source","m","h","R","Number","write","origins","service","value","enabled","allowNull","v","target","y","a","Point","c","C","reader","Array","isArray","map","messages","push","definition","context","sublayers","loadAll","forEachSublayer","sublayersProperty","readSublayers","forEach","title","modelName","isEmpty","legendEnabled","visible","opacity","readTitle","alias","readIdOnlyOnce","ignoreOrigin","Boolean","nonNullable","EventedMixin","sublayer","parent","view","initialize","suspended","canResume","updating","isUpdating","_this$sublayer","_overrideIfSome","fullOpacity","_this$sublayer2","_this$parent","_this$parent2","_this$view","ready","Solid","WireFrame","XRay","filterMode","mode","edgeMaterial","edges","color","pickable","colorMixMode","Replace","castShadows","lastMaterial","cachedMaterial","arguments","availableFields","filter","Error","highlight","layerView","_elevationContext","_isIntegratedMesh","_supportsLabeling","requiredFields","progressiveLoadFactor","_queryEngine","i3slayer","layerUid","uid","sublayerUid","sublayerId","layerPopupEnabledAndHasTemplate","_this$layerView","popup","defaultPopupTemplateEnabled","_updatingHandles","add","definitionExpressionFields","filterExpressionFields","_updateRequiredFields","_rendererChange","_filterChange","parsedDefinitionExpression","_filter","sortedObjectIds","parsedWhereClause","parsedGeometry","spatialRelationship","_geometryFilterChange","parsedFilterExpressions","_updateSymbologyOverride","lodFactor","qualitySettings","sceneService","object","filterExpressions","_ref","create","isStandardized","fieldNames","missingFields","join","viewFilter","checkSupport","layerFieldsIndex","loadAsyncModule","_loadAsyncModule","addSqlFilter","logError","_setSymbologyOverride","testFeature","reduce","_ref2","_createLayerGraphic","_controller","rootNodeVisible","fetchPopupFeatures","_validateFetchPopupFeatures","clientGraphics","Set","catch","warn","whenGraphicAttributes","from","getRequiredFields","_set","getFilters","addFilters","crsIndex","_collection","outSpatialReference","_ensureQueryEngine","executeQueryForExtent","_ensureQuery","executeQueryForCount","executeQuery","executeQueryForIds","_createQueryEngine","renderSpatialReference","priority","FEATURE_QUERY_ENGINE","spatialIndex","featureAdapter","getFeatureExtent","forAllFeatures","_forAllFeatures","index","meta","QUERYABLE","sourceSpatialReference","viewSpatialReference","_addDefinitionExpressionToQuery","sublayerViews","_abortController","AbortController","_loadingComponents","_pendingWhenSublayerViews","Map","ignoresMemoryFactor","filterExpression","_r$filterBlocks","activeFilterId","filters","find","filterBlocks","toArray","_e$filterExpression","updatingProgressValue","updatingProgress","some","viewingMode","_initializeSubLayerViews","destroy","delete","addHandles","notifyChange","getGraphicFromIntersectorTarget","items","_findComponent","flat","whenGraphicBounds","reject","getAABBFromIntersectorTarget","whenSublayerView","set","promise","usedMemory","unloadedMemory","V","dependsOn","_definitionExpressionErrors","_maxDefinitionExpressionErrors","_this$i3slayer","_evaluateClause","clone"],"sourceRoot":""}