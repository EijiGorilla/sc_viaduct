{"version":3,"file":"static/js/3218.836fbb9a.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/analysis/LengthDimension.js","../node_modules/@arcgis/core/analysis/dimensionUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Dimension/lengthDimensionUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Dimension/DimensionController.js","../node_modules/@arcgis/core/views/3d/analysis/Dimension/settings.js","../node_modules/@arcgis/core/views/3d/analysis/Dimension/lengthDimensionManipulatorUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Dimension/lengthDimensionConstraintUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Dimension/LengthDimensionSubTool.js","../node_modules/@arcgis/core/views/3d/analysis/Dimension/DimensionTool.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/MarkerVisualElement.js","../node_modules/@arcgis/core/views/3d/analysis/Dimension/LengthDimensionVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/Dimension/DimensionVisualization.js","../node_modules/@arcgis/core/views/analysis/LengthDimensionResult.js","../node_modules/@arcgis/core/views/3d/analysis/Dimension/LengthDimensionComputation.js","../node_modules/@arcgis/core/views/analysis/DimensionAnalysisView.js","../node_modules/@arcgis/core/views/3d/analysis/DimensionAnalysisView3D.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js","../node_modules/@arcgis/core/views/interactive/ToolIntersector.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import{LengthDimensionMeasureType as e,lengthDimensionMeasureType as t}from\"./dimensionUtils.js\";import{Clonable as r}from\"../core/Clonable.js\";import{cyclicalDegrees as s}from\"../core/Cyclical.js\";import{JSONSupportMixin as i}from\"../core/JSONSupport.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import{cast as n}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/RandomLCG.js\";import\"../core/has.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import{ensureNumber as c}from\"../core/accessorSupport/ensureType.js\";import a from\"../geometry/Point.js\";let l=class extends(i(r)){constructor(o){super(o),this.type=\"length\",this.startPoint=null,this.endPoint=null,this.measureType=e.Direct,this.offset=0,this.orientation=0}};o([p({type:[\"length\"],json:{write:{isRequired:!0}}})],l.prototype,\"type\",void 0),o([p({type:a,json:{write:!0}})],l.prototype,\"startPoint\",void 0),o([p({type:a,json:{write:!0}})],l.prototype,\"endPoint\",void 0),o([p({type:t,nonNullable:!0,json:{write:{isRequired:!0}}})],l.prototype,\"measureType\",void 0),o([p({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],l.prototype,\"offset\",void 0),o([p({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),n((o=>s.normalize(c(o),0,!0)))],l.prototype,\"orientation\",void 0),l=o([m(\"esri.analysis.LengthDimension\")],l);const u=l;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nvar t;!function(t){t.Horizontal=\"horizontal\",t.Vertical=\"vertical\",t.Direct=\"direct\"}(t||(t={}));const r=[t.Horizontal,t.Vertical,t.Direct];export{t as LengthDimensionMeasureType,r as lengthDimensionMeasureType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{LengthDimensionMeasureType as e}from\"../../../../analysis/dimensionUtils.js\";import{deg2rad as t}from\"../../../../core/mathUtils.js\";import{toUnit as n}from\"../../../../core/quantityUtils.js\";import{adaptiveVerticalLengthUnit as r,adaptiveLengthUnit as i}from\"../../../../core/unitUtils.js\";import{fromRotation as o}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{c as s,b as d,a as l,H as c,f as u,y as m,t as p,e as S,n as g,k as f}from\"../../../../chunks/vec32.js\";import{create as v,ZEROS as R}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Axis as A}from\"../../../../geometry/support/Axis.js\";import{sv3d as P}from\"../../../../geometry/support/vectorStacks.js\";import{makeDehydratedPoint as y}from\"../../../../layers/graphics/dehydratedPoint.js\";import{clonePoint as E}from\"../../../../layers/graphics/hydratedFeatures.js\";import{EuclideanSegment as j}from\"../../interactive/visualElements/support/Segment.js\";import{autoDistanceBetweenPoints2D as x}from\"../../../support/automaticLengthMeasurementUtils.js\";import{euclideanDirectDistance as h,euclideanDirectDistanceBetweenPoints as H}from\"../../../support/euclideanLengthMeasurementUtils.js\";import{geodesicDistanceThreshold as T}from\"../../../support/geodesicMeasurementUtils.js\";function C(t,o,a){if(null==t)return null;let s;if(o===e.Horizontal)s=x(t.elevationAlignedStartPoint,t.elevationAlignedEndPoint);else{const{startRenderSpace:e,endRenderSpace:n}=t.dimensionSegment;s=h(e,n,t.spatialReference)}if(null==s)return null;const d=o===e.Vertical?r(s.value,s.unit,a):i(s.value,s.unit,a);return n(s,d)}function U(e){const{elevationAlignedStartPoint:t,elevationAlignedEndPoint:n,dimension:{offset:r,measureType:i,orientation:o}}=e;return{elevationAlignedStartPoint:t,elevationAlignedEndPoint:n,offset:r,measureType:i,orientation:o}}function w({elevationAlignedStartPoint:t,elevationAlignedEndPoint:n,offset:r,measureType:i,orientation:o},a,d=null){if(null==t||null==n)return null;const l=V(d?.directSegment??new j,{elevationAlignedStartPoint:t,elevationAlignedEndPoint:n},a),c=d?.primaryOffsetAxis??v();B(c,{measureType:i,elevationAlignedStartPoint:t,elevationAlignedEndPoint:n,directSegment:l,orientation:o,renderCoordsHelper:a});const u=d?.dimensionSegment??new j;return Y({elevationAlignedStartPoint:t,elevationAlignedEndPoint:n})&&i===e.Vertical?(s(u.startRenderSpace,l.startRenderSpace),s(u.endRenderSpace,l.endRenderSpace)):G(u,{offsetAxis:c,offset:r,relativeToSegment:l,renderCoordsHelper:a}),{elevationAlignedStartPoint:t,elevationAlignedEndPoint:n,directSegment:l,dimensionSegment:u,primaryOffsetAxis:c,spatialReference:a.spatialReference}}function z(e,t,n,r){return t===b.Start?(s(e.startRenderSpace,n.startRenderSpace),s(e.endRenderSpace,r.startRenderSpace)):(s(e.startRenderSpace,n.endRenderSpace),s(e.endRenderSpace,r.endRenderSpace)),e}var b;function k(e,t,n,r){d(e.startRenderSpace,t.startRenderSpace,n,r),d(e.endRenderSpace,t.endRenderSpace,n,r)}function M(t,n,r,i){switch(n){case e.Direct:return V(t,r,i);case e.Horizontal:case e.Vertical:{const{elevationAlignedStartPoint:o,elevationAlignedEndPoint:a,dimension:s,geometry:d}=r;let l;if(s.measureType===e.Direct){l=D(d,i)===o.z>a.z,n===e.Horizontal&&(l=!l)}else l=!O(d);const[c,u]=l?[o,a]:[a,o],m=E(u,I);return n===e.Horizontal?m.z=c.z:(m.x=c.x,m.y=c.y),i.toRenderCoords(c,t.startRenderSpace),i.toRenderCoords(m,t.endRenderSpace),t}}}function V(e,t,n){return n.toRenderCoords(t.elevationAlignedStartPoint,e.startRenderSpace),n.toRenderCoords(t.elevationAlignedEndPoint,e.endRenderSpace),e}function D(e,t){const n=e.directSegment.eval(.5,P.get()),r=t.worldUpAtPosition(n,P.get()),i=e.dimensionSegment.eval(.5,P.get()),o=l(P.get(),i,n);return!c(o,R)&&u(o,r)>0}function O(e){const{startRenderSpace:t,endRenderSpace:n}=e.dimensionSegment,{startRenderSpace:r,endRenderSpace:i}=e.directSegment;return m(r,t)<m(i,n)}!function(e){e[e.Start=0]=\"Start\",e[e.End=1]=\"End\"}(b||(b={}));const I=y(0,0,0,null);function L(e,t,n,r){const{directSegment:i}=n,o=B(P.get(),{measureType:t,directSegment:i,renderCoordsHelper:r}),a=G(q,{offsetAxis:o,offset:0,relativeToSegment:i,renderCoordsHelper:r}).eval(.5,P.get()),s=l(P.get(),e,a);return u(s,o)*r.unitInMeters}const q=new j;function B(n,r){const{measureType:i,elevationAlignedStartPoint:a,elevationAlignedEndPoint:d,directSegment:{startRenderSpace:m,endRenderSpace:f},directSegment:v,renderCoordsHelper:y}=r,E=v.eval(.5,P.get()),j=y.worldUpAtPosition(E,P.get()),x=y.worldBasisAtPosition(E,A.Y,P.get());switch(i){case e.Horizontal:s(n,j);break;case e.Vertical:u(m,j)<u(f,j)?l(n,f,m):l(n,m,f),S(n,n,j),S(n,n,j);break;case e.Direct:{const e=r.orientation??0;if(Y({elevationAlignedStartPoint:a,elevationAlignedEndPoint:d}))o(F,-t(e),j),p(n,x,F);else{const r=l(P.get(),f,m),i=S(P.get(),r,j);S(i,i,r),o(F,t(e),r),p(n,i,F)}break}}return c(n,R)?s(n,x):g(n,n)}const F=a();function Y({elevationAlignedStartPoint:e,elevationAlignedEndPoint:t}){return null!=e&&null!=t&&e.x===t.x&&e.y===t.y}function G(e,t){const{offsetAxis:n,offset:r,relativeToSegment:{startRenderSpace:i,endRenderSpace:o},relativeToSegment:a,renderCoordsHelper:s}=t,l=r/s.unitInMeters,[c,u]=J(i,o,n,l);return d(e.startRenderSpace,a.startRenderSpace,n,c),d(e.endRenderSpace,a.endRenderSpace,n,u),e}function J(e,t,n,r=0){const i=u(t,n),o=u(e,n),a=Math.abs(i-o)+r;return i>o?[a,r]:[r,a]}function K(e,t,n){const r=t.directSegment.eval(.5,P.get());return n.worldUpAtPosition(r,e)}function N(e,t){const{startRenderSpace:n,endRenderSpace:r}=t.directSegment;return l(e,r,n)}function Q(e,t,n={invert:!1}){const{startRenderSpace:r,endRenderSpace:i}=t.dimensionSegment;return n.invert?l(e,r,i):l(e,i,r)}function W(e,t){const n=e.directSegment.eval(.5,P.get());return t.headingAtPosition(n,e.primaryOffsetAxis)}function X(e,t){return f(Q(Z,e))/t**2}const Z=v();function $(e){const{elevationAlignedStartPoint:t,elevationAlignedEndPoint:r}=e;if(null==t||null==r)return!1;const i=H(t,r);return null!=i&&n(i,\"meters\").value>T}function _(e){return null!=e.geometry}export{b as OffsetSegmentLocation,Y as arePointsVerticallyAligned,U as computationToGeometryDependencies,w as computeGeometryFromDimension,C as computeLength,B as computeOffsetAxis,L as computeOffsetForPoint,M as computeSegmentForMeasureType,z as computeSpanningSegment,Q as dimensionStartToEnd,N as directStartToEnd,K as directUp,W as headingFromGeometry,$ as isGeodesicDimension,_ as isValidComputation,X as maxScreenLengthSquaredFromGeometry,k as offsetSegment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{LengthDimensionMeasureType as e}from\"../../../../analysis/dimensionUtils.js\";import s from\"../../../../core/Accessor.js\";import{destroyHandle as o}from\"../../../../core/handleUtils.js\";import r from\"../../../../core/Logger.js\";import{mapCollection as i,watch as n,syncAndInitial as a}from\"../../../../core/reactiveUtils.js\";import{convertUnit as l}from\"../../../../core/unitUtils.js\";import{property as m}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getDefaultUnitForView as c}from\"../../../../support/getDefaultUnitForView.js\";import{isGeodesicDimension as u,computeGeometryFromDimension as d,computeLength as y,computationToGeometryDependencies as h}from\"./lengthDimensionUtils.js\";import{geodesicDistanceThreshold as f}from\"../../../support/geodesicMeasurementUtils.js\";let g=class extends s{constructor(t){super(t)}initialize(){const t=i((()=>this.analysisViewData.computations),(({computation:t})=>this._watchComputation(t)));this.addHandles(o(t))}get analysis(){return this.analysisViewData.analysis}get _defaultUnit(){return c(this.view)}_watchComputation(t){return n((()=>h(t)),(s=>{const{measureType:o}=s;if(u(s)&&o!==e.Direct){const e=Math.round(l(f,\"meters\",\"kilometers\"));return r.getLogger(this).warnOnce(`A ${o} dimension in the analysis (id: '${this.analysis.id}') will not display, because only direct dimensions can measure lengths greater than ${e} km. Update the measureType of the affected dimension to \"direct\" to display it.`),void(t.geometry=null)}const i=d(s,this.view.renderCoordsHelper,t.geometry);t.geometry=i,t.result.length=y(i,o,this._defaultUnit)}),a)}};t([m({constructOnly:!0})],g.prototype,\"analysisViewData\",void 0),t([m({constructOnly:!0})],g.prototype,\"view\",void 0),t([m()],g.prototype,\"analysis\",null),t([m()],g.prototype,\"_defaultUnit\",null),g=t([p(\"esri.views.3d.analysis.Dimension.DimensionController\")],g);export{g as DimensionController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport o from\"../../../../Color.js\";import{multiplyOpacity as r,getContrast as t}from\"../../../../core/colorUtils.js\";function n(o){return r(o.accentColor,.5)}function c(o){return t(o.accentColor)}const e=5,i=new o([127,127,127,.5]),l=.8,f=4,m=6,s=.1,u=.5,p=18,C=2,a=.3,j=2,w=.25,x=20,U=5,b=5,d=10,g=2500,h=50,k=2;export{d as constraintThresholdPx,i as disabledPointColor,m as focusedLinePaddingPx,c as getContrastColor,n as getTransparentAccentColor,h as initialOffsetPx,x as labelMarginPx,u as lengthFraction,f as linePaddingPx,l as markerLineSizeFraction,s as minLengthMeters,U as minScreenLengthFontSizeFactor,w as offsetLineSizeFraction,p as orientationCalloutOffsetPx,C as orientationCalloutWidth,a as orientationDiscScale,j as orientationFocusMultiplier,b as orientationSnapThresholdDegrees,e as pointRadius,g as pointerMoveTimeoutMs,k as smallScreenLengthLineSizeFactor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import\"../../../../geometry.js\";import{lengthDimensionMeasureType as t,LengthDimensionMeasureType as r}from\"../../../../analysis/dimensionUtils.js\";import{cyclicalDegrees as n}from\"../../../../core/Cyclical.js\";import{rad2deg as i}from\"../../../../core/mathUtils.js\";import{watch as o,initial as a}from\"../../../../core/reactiveUtils.js\";import{pt2px as s}from\"../../../../core/screenUtils.js\";import{identity as c,scale as l}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{h as d,c as u,d as p,e as f,f as g,p as h,l as v,i as y,a as w}from\"../../../../chunks/vec32.js\";import{create as S,ZEROS as j,fromValues as x}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as b}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{fromPositionAndNormal as H,create as M,signedDistance as P,getNormal as C}from\"../../../../geometry/support/plane.js\";import{sv3d as T}from\"../../../../geometry/support/vectorStacks.js\";import{clonePoint as O}from\"../../../../layers/graphics/hydratedFeatures.js\";import{isValidComputation as U,computeGeometryFromDimension as R,computationToGeometryDependencies as z,headingFromGeometry as A,computeOffsetForPoint as D,computeSegmentForMeasureType as _,computeOffsetAxis as F,directUp as L,directStartToEnd as k,dimensionStartToEnd as E}from\"./lengthDimensionUtils.js\";import{getTransparentAccentColor as I,pointRadius as G,lengthFraction as B,markerLineSizeFraction as N,orientationCalloutOffsetPx as V,orientationCalloutWidth as W,orientationDiscScale as q,orientationFocusMultiplier as J,orientationSnapThresholdDegrees as K,minLengthMeters as Q,linePaddingPx as X,focusedLinePaddingPx as Y}from\"./settings.js\";import{Manipulator3D as Z}from\"../../interactive/Manipulator3D.js\";import{createManipulatorMaterial as $,worldScaledManipulatorSettings as ee,calculateInputRotationTransform as te,calculateTranslateRotateFromBases as re,rotateManipulatorDefaults as ne}from\"../../interactive/manipulatorUtils.js\";import{RenderObject as ie}from\"../../interactive/RenderObject.js\";import{screenToMap3D as oe,screenToRenderPlane as ae,hideManipulatorWhileDragging as se}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{EuclideanSegment as ce}from\"../../interactive/visualElements/support/Segment.js\";import{markerSizePerLineWidth as le}from\"../../support/engineContent/marker.js\";import{Attribute as me}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as de}from\"../../webgl-engine/lib/Geometry.js\";import{createSphereGeometry as ue,createPolylineGeometry as pe}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as fe}from\"../../webgl-engine/lib/Material.js\";import{VertexAttribute as ge}from\"../../webgl-engine/lib/VertexAttribute.js\";import{ImageMaterial as he}from\"../../webgl-engine/materials/ImageMaterial.js\";import{RibbonLineMaterial as ve}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{createManipulatorDragEventPipeline as ye,resetProperties as we,EventPipeline as Se}from\"../../../interactive/dragEventPipeline.js\";import{ManipulatorStateCustomFlags as je,ManipulatorStateFlags as xe}from\"../../../interactive/interfaces.js\";import be from\"../../../../geometry/Point.js\";class He{constructor(e){this.start=e.start,this.end=e.end,this.offset=e.offset,this.heading=e.heading,this.rotation=e.rotation,this.direct=e.direct,this.horizontal=e.horizontal,this.vertical=e.vertical}manipulatorName(e){return Object.keys(this).find((t=>this.hasOwnProperty(t)&&e===this[t]))}values(){return[this.start,this.end,this.offset,this.heading,this.rotation,this.direct,this.horizontal,this.vertical]}forEachMeasureTypeManipulator(e){for(const r of t)e(this.manipulatorForMeasureType(r),r)}manipulatorForMeasureType(e){switch(e){case r.Direct:return this.direct;case r.Horizontal:return this.horizontal;case r.Vertical:return this.vertical}}}class Me extends Z{constructor(t,r){const n=$(e.toUnitRGBA(I(t.effectiveTheme))),i=[new ie(ue(n,1,32,32),tt)];super({view:t,renderObjects:i,metadata:r.metadata,available:!1,grabCursor:\"crosshair\",radius:G,collisionPriority:1}),this._themeHandle=o((()=>({color:e.toUnitRGBA(I(t.effectiveTheme))})),(e=>n.setParameters(e)))}destroy(){this._themeHandle.remove(),super.destroy()}}function Pe(e,t){const r=[x(-.5,0,0),x(.5,0,0)],n=pe(t.unfocusedMaterial,r.map((e=>d(S(),e,B)))),i=n.instantiate({material:t.focusedMaterial});return new Z({view:e,renderObjects:[new ie(n,xe.Unfocused|xe.Selected|tt),new ie(i,xe.Focused|tt)],collisionType:{type:\"line\",paths:[r]},radius:$e(t.lineSizePt)/2,metadata:t.metadata,available:!1,...ee})}class Ce extends Z{constructor(t,{lineSizePt:r,material:n,metadata:i}){super({view:t,autoScaleRenderObjects:!1,collisionPriority:1,metadata:i}),this._options={calloutColor:b(),lineSizePt:r,material:n},this._themeHandle=o((()=>e.toUnitRGBA(I(t.effectiveTheme))),(e=>{this._options.calloutColor=e,et(this,Te({...this._options,metadata:this.metadata}))}),a)}update({lineSizePt:e,material:t}){this._options.lineSizePt=e,this._options.material=t,et(this,Te({...this._options,metadata:this.metadata}))}destroy(){this._themeHandle.remove(),super.destroy()}}function Te({calloutColor:e,lineSizePt:t,material:r,metadata:n}){return{calloutLength:.25*le*N*s(t)+V,calloutColor:e,calloutWidth:W,customStateMask:tt,discScale:q,focusMultiplier:J,material:r,metadata:n}}function Oe(e,t){const r=[x(-.5,0,0),x(.5,0,0)],n=pe(t.thinOffsetManipulatorMaterial,r),i=pe(t.unfocusedMaterial,r.map((e=>d(S(),e,B)))),o=i.instantiate({material:t.focusedMaterial});return new Z({view:e,renderObjects:[new ie(i,xe.Unfocused|tt),new ie(o,xe.Focused|tt),new ie(n,tt)],collisionType:{type:\"line\",paths:[r]},radius:$e(t.lineSizePt)/2,available:!1,metadata:t.metadata,...ee})}function Ue(e,{isStart:t,createSnappingPipelineStep:r,dimension:n,onUpdate:i,view:o}){const a=t?\"startPoint\":\"endPoint\",s=ye(e,((e,t,s,c)=>{const l=se(e),{snappingStep:m,cancelSnapping:d}=r(c);s=s.next(l).next(we(n,[a,\"measureType\",\"orientation\"])).next(d),t.next(l).next(oe(o)).next(...m).next((e=>{const t=O(e.mapEnd,new be);i(\"startPoint\"===a?{startPoint:t}:{endPoint:t})}))}));return[s]}function Re(e,{computation:t,view:r}){return[ye(e,((e,n,i)=>{if(!U(t)||!e.selected)return;const{geometry:o,dimension:a}=t,s=se(e);n.next(s).next(ke(r,a,o.dimensionSegment,o.primaryOffsetAxis)),i.next(s).next(we(a,[\"offset\"]))}))]}function ze(e,{computation:t,view:r}){return[ye(e,((e,n,i)=>{_e({cancel:i,computation:t,settingHeading:!0,steps:n,view:r})}))]}function Ae(e,{computation:t,view:r}){return[ye(e,((e,n,i)=>{_e({cancel:i,computation:t,settingHeading:!1,steps:n,view:r})})),e.events.on(\"immediate-click\",(e=>{De(e,t,r)}))]}function De(e,t,r){const{dimension:i,geometry:o}=t;if(90===i.orientation||270===i.orientation)return i.orientation=0,void e.stopPropagation();if(null==o)return;const{renderCoordsHelper:a}=r,s=R({...z(t),orientation:90},a),c=R({...z(t),orientation:270},a);if(null==s||null==c)return;const l=A(s,a),m=A(c,a),d=Ee(o,r),u=n.shortestSignedDiff(d,l),p=n.shortestSignedDiff(d,m);i.orientation=Math.abs(u)<Math.abs(p)?90:270,e.stopPropagation()}function _e(e){const{cancel:t,computation:r,settingHeading:n,steps:o,view:a}=e;if(!U(r))return;const{renderCoordsHelper:s}=a,{dimension:c,geometry:l}=r,m=S(),d=Je(S(),l,l.directSegment,s),p=Ke(T.get(),{forHeading:n,geometry:l,renderCoordsHelper:s}),f=H(d,p,M()),g=n?c.orientation??A(l,a.renderCoordsHelper):c.orientation??0;o.next(ae(a,f)).next((e=>{\"start\"===e.action&&u(m,e.renderStart);const t=C(f),r=te(m,e.renderEnd,d,t);let o=g-i(r);n||(o=Fe(o)),c.orientation=o})),t.next(we(c,[\"orientation\"]))}function Fe(e){const t=n.normalize(e)%90;return t<K?e-t:90-t<K?e+(90-t):e}function Le(e,{computation:t,manipulatorMeasureType:n,view:i}){let o=r.Direct,a=0,s=0;return[e.events.on(\"grab-changed\",(r=>{if(\"start\"!==r.action||!U(t))return;const{dimension:c,geometry:l}=t;o=c.measureType,a=c.offset,s=c.orientation;const m=u(T.get(),e.renderLocation);c.measureType=n,c.offset=D(m,n,l,i.renderCoordsHelper),c.orientation=0})),ye(e,((e,r,c)=>{if(!U(t))return;const{geometry:l,dimension:m}=t,{renderCoordsHelper:d}=i,u=_(ot,n,t,d),p=F(T.get(),{measureType:n,directSegment:l.directSegment,renderCoordsHelper:d}),f=se(e);r.next(f).next(ke(i,m,u,p)),c.next(f).next((e=>(m.measureType=o,m.offset=a,m.orientation=s,e)))}))]}function ke(e,t,r,n){const i=p(T.get(),r.endRenderSpace,r.startRenderSpace);f(i,i,n);const o=H(r.startRenderSpace,i,M()),a=H(r.startRenderSpace,n,M()),s=t.offset;let c,l=0;const m=new Se;return m.next(ae(e,o)).next((r=>{\"start\"===r.action&&(l=P(a,r.renderStart));const n=(P(a,r.renderEnd)-l)*e.renderCoordsHelper.unitInMeters;t.offset=s+n,c=r})),e=>(m.execute(e),c)}function Ee(e,t){const{directSegment:r}=e,{renderCoordsHelper:n}=t,i=L(T.get(),e,n),o=k(T.get(),e),a=f(T.get(),o,i),{viewForward:s}=t.state.camera;g(a,s)>0&&d(a,a,-1);const c=r.eval(.5,T.get());return n.headingAtPosition(c,a)}function Ie(e,t,r){const{dimensionSegment:n,primaryOffsetAxis:i}=t,o=E(rt,t),a=h(o,j)?c(it):re(o,i,j,it),s=Math.max(v(o),Q/r.unitInMeters);l(a,a,y(rt,s,s,s)),e.modelTransform=a,e.renderLocation=n.eval(.5,rt)}function Ge(e,t,r){Ne(e,t,r,{forHeading:!0})}function Be(e,t,r){Ne(e,t,r,{forHeading:!1})}function Ne(e,t,r,{forHeading:n}){const{dimension:i,geometry:o}=t,{primaryOffsetAxis:a}=o,s=d(Ve,a,i.offset>=0?1:-1),c=Ke(We,{forHeading:n,geometry:o,renderCoordsHelper:r});f(c,c,s);const l=re(s,c,j,it);e.modelTransform=l,e.renderLocation=Je(rt,o,o.dimensionSegment,r)}const Ve=S(),We=S();function qe(e,t,r,n){const{geometry:i}=t,o=_(ot,r,t,n),a=F(rt,{measureType:r,directSegment:i.directSegment,renderCoordsHelper:n}),s=w(nt,o.endRenderSpace,o.startRenderSpace),c=re(s,a,j,it),m=v(s);l(c,c,y(nt,m,m,m)),e.modelTransform=c,e.renderLocation=o.eval(.5,nt)}function Je(e,t,r,n){const{startRenderSpace:i,endRenderSpace:o}=r,a=Qe(t,n)?i:o;return u(e,a)}function Ke(e,{forHeading:t,geometry:r,renderCoordsHelper:n}){return t?L(e,r,n):E(e,r,{invert:!0})}function Qe(e,t){const r=k(Xe,e),n=L(Ye,e,t);return g(r,n)>0}const Xe=S(),Ye=S();function Ze(e){return s(e)+X}function $e(e){return s(e)+Y}function et(e,t){const r=t.material??new he({writeDepth:!1,textureId:t.texture?.id,renderOccluded:fe.Opaque,isDecoration:!0}),n=t.focusMultiplier??ne.focusMultiplier,i=t.calloutLength??ne.calloutLength,o=ne.discRadius*(t.discScale??1),a=o*n,s=(e,t)=>{const r=[0,1,2,2,3,0];return new de(t,[[ge.POSITION,new me([i-e,-e,0,i+e,-e,0,i+e,e,0,i-e,e,0],r,3,!0)],[ge.UV0,new me([0,0,1,0,1,1,0,1],r,2,!0)]])},c=t.calloutWidth??ne.calloutWidth,l=new ve({width:c,color:t.calloutColor,renderOccluded:fe.OccludeAndTransparent,isDecoration:!0}),m=pe(l,[[0,0,0],[i-o,0,0]]),d=pe(l,[[0,0,0],[i-a,0,0]]),u=t.customStateMask??je.None;e.collisionType={type:\"disc\",direction:[0,0,1],offset:[i,0,0]},e.focusMultiplier=n,e.metadata=t.metadata,e.radius=o,e.renderObjects=[new ie(s(o,r),xe.Unfocused|u),new ie(m,xe.Unfocused|u),new ie(s(a,r),xe.Focused|u),new ie(d,xe.Focused|u)]}const tt=je.Custom1,rt=S(),nt=S(),it=m(),ot=new ce;export{tt as DidPointerMoveRecentlyFlag,He as LengthDimensionManipulators,Me as LengthDimensionPointManipulator,Ce as LineOfSightOrientationManipulator,Ee as automaticHeadingFromCamera,Oe as createMeasureTypeManipulator,Pe as createOffsetManipulator,$e as focusedOffsetWidth,ze as headingManipulatorHandles,Le as measureTypeManipulatorHandles,Re as offsetManipulatorHandles,Ue as pointManipulatorHandles,Ae as rotationManipulatorHandles,Fe as snapOrientationToNearestRightAngle,Ze as unfocusedOffsetWidth,Ge as updateHeadingManipulatorTransform,qe as updateMeasureTypeManipulatorTransform,Ie as updateOffsetManipulatorTransform,Be as updateRotationManipulatorTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import{LengthDimensionMeasureType as e}from\"../../../../analysis/dimensionUtils.js\";import\"../../../../core/has.js\";import{p as t,h as n,f as i,d as o,k as r}from\"../../../../chunks/vec32.js\";import{sv3d as a}from\"../../../../geometry/support/vectorStacks.js\";import{automaticHeadingFromCamera as s}from\"./lengthDimensionManipulatorUtils.js\";import{isGeodesicDimension as l,directUp as c,directStartToEnd as d}from\"./lengthDimensionUtils.js\";import{constraintThresholdPx as m}from\"./settings.js\";import u from\"../../../../geometry/Point.js\";var p;function P(e,t){return{enabled:t.effectiveFeatureEnabled,elevationAlignedStartPoint:e.elevationAlignedStartPoint,elevationAlignedEndPoint:e.elevationAlignedEndPoint,geometry:e.geometry}}function f(e,s){if(l(e))return p.Direct;if(!e.enabled)return null;const{geometry:u}=e;if(null==u||t(u.directSegment.startRenderSpace,u.directSegment.endRenderSpace))return null;const{camera:P}=s.state,f=c(a.get(),u,s.renderCoordsHelper),g=d(a.get(),u),S=n(a.get(),f,i(g,f)),v=o(a.get(),g,S),y=r(v),A=r(S),{startRenderSpace:R,endRenderSpace:z}=u.directSegment,j=Math.max(P.computeScreenPixelSizeAt(R)*m,P.computeScreenPixelSizeAt(z)*m)**2;return y<j?p.Vertical:A<j?p.Horizontal:null}function g(e,t,{constraint:n,view:i}){const{unconstrainedGeometry:o}=e;if(null==o)return;const{renderCoordsHelper:r,spatialReference:a}=i,{startRenderSpace:s,endRenderSpace:l}=o.directSegment,c=r.fromRenderCoords(s,new u({spatialReference:a})),d=r.fromRenderCoords(l,new u({spatialReference:a}));let m;m=\"start\"===t?{startPoint:c}:{endPoint:d},S(e,m,{constraint:n,elevationAlignedStartPoint:e.elevationAlignedStartPoint,elevationAlignedEndPoint:e.elevationAlignedEndPoint,unconstrainedGeometry:o,view:i})}function S(t,n,i){const{constraint:o,elevationAlignedStartPoint:r,elevationAlignedEndPoint:a,unconstrainedGeometry:l,view:c}=i,{dimension:d,previousConstraint:m,preConstraintProperties:u}=t;if(null==r||null==a)return;const P=()=>{\"startPoint\"in n?d.startPoint=n.startPoint:\"endPoint\"in n&&(d.endPoint=n.endPoint)};if(null==o)P(),null!=m&&null!=u&&(d.measureType=u.measureType,d.orientation=u.orientation);else switch(d.measureType=e.Direct,o){case p.Horizontal:if(o!==m&&(d.orientation=0),\"startPoint\"in n){const e=n.startPoint;null!=e&&(e.z=a.z),d.startPoint=e}else if(\"endPoint\"in n){const e=n.endPoint;null!=e&&(e.z=r.z),d.endPoint=e}break;case p.Vertical:if(o!==m&&(d.orientation=s(l,c)),\"startPoint\"in n){const e=n.startPoint;null!=e&&(e.x=a.x,e.y=a.y),d.startPoint=e}else if(\"endPoint\"in n){const e=n.endPoint;null!=e&&(e.x=r.x,e.y=r.y),d.endPoint=e}break;case p.Direct:o!==m&&null!=u&&(d.orientation=u.orientation),P()}t.previousConstraint=o,t.unconstrainedGeometry=l}!function(e){e[e.Horizontal=0]=\"Horizontal\",e[e.Vertical=1]=\"Vertical\",e[e.Direct=2]=\"Direct\"}(p||(p={}));export{p as LengthDimensionConstraint,S as applyConstraint,f as computeConstraint,P as constraintDependencies,g as reapplyConstraint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Color.js\";import\"../../../../geometry.js\";import{LengthDimensionMeasureType as i}from\"../../../../analysis/dimensionUtils.js\";import a from\"../../../../analysis/LengthDimension.js\";import n from\"../../../../core/Accessor.js\";import s from\"../../../../core/Handles.js\";import{destroyHandle as o}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{equals as r}from\"../../../../core/lang.js\";import{destroyMaybe as p}from\"../../../../core/maybe.js\";import{memoize as l}from\"../../../../core/memoize.js\";import{ignoreAbortErrors as u}from\"../../../../core/promiseUtils.js\";import{watch as d,initial as c,mapCollection as m,sync as h,syncAndInitial as g,when as f}from\"../../../../core/reactiveUtils.js\";import{property as _}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import{subclass as M}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as v}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{UpdatingHandles as y}from\"../../../../core/support/UpdatingHandles.js\";import{clonePoint as C}from\"../../../../layers/graphics/hydratedFeatures.js\";import{reapplyConstraint as S,LengthDimensionConstraint as w,applyConstraint as b,computeConstraint as P,constraintDependencies as O}from\"./lengthDimensionConstraintUtils.js\";import{LengthDimensionManipulators as D,LengthDimensionPointManipulator as j,pointManipulatorHandles as H,createOffsetManipulator as T,offsetManipulatorHandles as G,LineOfSightOrientationManipulator as x,headingManipulatorHandles as z,rotationManipulatorHandles as U,createMeasureTypeManipulator as I,measureTypeManipulatorHandles as V,updateOffsetManipulatorTransform as R,updateHeadingManipulatorTransform as A,updateRotationManipulatorTransform as k,updateMeasureTypeManipulatorTransform as E,unfocusedOffsetWidth as L,focusedOffsetWidth as F}from\"./lengthDimensionManipulatorUtils.js\";import{isValidComputation as q,arePointsVerticallyAligned as B,computeGeometryFromDimension as N,computationToGeometryDependencies as J}from\"./lengthDimensionUtils.js\";import{disabledPointColor as K,pointRadius as Q,getTransparentAccentColor as W,getContrastColor as X,initialOffsetPx as Y}from\"./settings.js\";import{getRotateHeadingTexture as Z}from\"../images/Factory.js\";import{SnappingVisualizer3D as $}from\"../../interactive/SnappingVisualizer3D.js\";import{LineVisualElement as tt}from\"../../interactive/visualElements/LineVisualElement.js\";import{VerticesVisualElement as et}from\"../../interactive/visualElements/VerticesVisualElement.js\";import{RenderOccludedFlag as it}from\"../../webgl-engine/lib/Material.js\";import{ImageMaterial as at}from\"../../webgl-engine/materials/ImageMaterial.js\";import{createStipplePatternSimple as nt}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{RibbonLineMaterial as st}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{createCoordinateHelper as ot}from\"../../../interactive/coordinateHelper.js\";import{EditGeometry as rt}from\"../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as pt}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";import{SnappingContext as lt}from\"../../../interactive/snapping/SnappingContext.js\";import{createSnapDragEventPipelineStep as ut}from\"../../../interactive/snapping/SnappingDragPipelineStep.js\";import{acquire as dt}from\"../../../interactive/snapping/SnappingManagerPool.js\";import{SnappingOperation as ct}from\"../../../interactive/snapping/SnappingOperation.js\";import{setupSnappingToggleHandles as mt}from\"../../../interactive/snapping/snappingUtils.js\";import ht from\"../../../../geometry/Point.js\";let gt=class extends n{constructor(t){super(t),this._stagedDimension=null,this._computationManipulators=new Map,this._computationHandles=new s,this._orientationManipulatorTexture=null,this._updatingHandles=new y,this._getSnappingContext=l((t=>new lt({elevationInfo:{mode:\"absolute-height\",offset:0},pointer:t,editGeometryOperations:new pt(new rt(\"point\",ot(!0,!1,this.view.spatialReference)),this.view.state.viewingMode),visualizer:new $})));const{view:i}=t;this._snappingManagerResult=dt(i),this.addHandles(this._snappingManagerResult),this._unfocusedOffsetManipulatorMaterial=this._createOffsetManipulatorMaterial(),this._focusedOffsetManipulatorMaterial=this._createOffsetManipulatorMaterial(),this._thinOffsetManipulatorMaterial=this._createOffsetManipulatorMaterial(),this._thinOffsetManipulatorMaterial.setParameters({stipplePattern:nt(2)}),this._constraintSnappingIndicator=new tt({view:i,attached:!0,width:1,renderOccluded:it.OccludeAndTransparent,stipplePattern:nt(5),isDecoration:!0});const a=e.toUnitRGBA(K);this._stagedStartIndicator=new et({view:i,attached:!1,elevationInfo:{mode:\"absolute-height\",offset:0},spatialReference:t.view.renderCoordsHelper.spatialReference,color:a,size:2*Q,outlineSize:0,renderOccluded:it.OccludeAndTransparent,isDecoration:!0})}initialize(){const{view:t}=this;this._snappingOperation=new ct({view:t});const i=!t._stage?.renderView.renderingContext.driverTest.svgPremultipliesAlpha.result;this._orientationManipulatorMaterial=new at({writeDepth:!1,renderOccluded:it.Opaque,isDecoration:!0}),this.addHandles(d((()=>({accentColor:W(t.effectiveTheme),contrastColor:X(t.effectiveTheme)})),(({accentColor:a,contrastColor:n})=>{const s=this._orientationManipulatorTexture,o=Z(t.textures,{accentColor:a,contrastColor:n,preMultiplyAlpha:i});this._orientationManipulatorMaterial.setParameters({textureId:o.texture.id}),this._orientationManipulatorTexture=o,s?.release();const r=e.toUnitRGBA(a);this._unfocusedOffsetManipulatorMaterial.setParameters({color:r}),this._focusedOffsetManipulatorMaterial.setParameters({color:r}),this._thinOffsetManipulatorMaterial.setParameters({color:r}),this._constraintSnappingIndicator.color=r}),c));const a=m((()=>this.analysisViewData.computations),(({computation:t})=>this._createManipulators(t)));this.addHandles(o(a)),this.addHandles([d((()=>({stagedPoint:this._snappingOperation.stagedPoint,stagedComputation:this._stagedComputation})),(({stagedPoint:t,stagedComputation:e})=>{if(null==e||null==t)return;const i=C(t,new ht);this._applyPointUpdate(e,{endPoint:i})}),h),d((()=>({stagedDimension:this._stagedDimension,selectedComputation:this.analysisViewData.selectedComputation,firstGrabbedManipulator:this.firstGrabbedManipulator})),((t,e)=>{const{stagedDimension:i,selectedComputation:a,firstGrabbedManipulator:n}=t;if(i===e?.stagedDimension&&n===e?.firstGrabbedManipulator){for(const s of[a,e?.selectedComputation])if(null!=s){const e=this._computationManipulators.get(s);null!=e&&this._updateManipulators(s,e,t)}}else for(const[s,o]of this._computationManipulators)this._updateManipulators(s,o,t)}),g),d((()=>this.analysis.style.lineSize),(t=>{this._updateManipulatorStyle(t)}),c),d((()=>this.view.state.camera),(()=>{null!=this._stagedComputation&&this._updateStagedDimensionOffset(this._stagedComputation)})),d((()=>{const t=this._stagedComputation;if(!t)return null;const e=t.elevationAlignedStartPoint,i=v();return null!=e&&this.view.renderCoordsHelper.toRenderCoords(e,i)?i:null}),(t=>{null!=t?(this._stagedStartIndicator.vertices=[t],this._stagedStartIndicator.attached=!0):this._stagedStartIndicator.attached=!1}))]),this.addHandles(this._constraintHandles),this.addHandles(this._snappingIndicatorHandles),mt(this,(()=>{const t=this._activeComputation,e=this._stagedComputation;if(null==t||null!=e){const t=this.view.inputManager.latestPointerType??\"mouse\",e=this._getSnappingContext(t);this._updatingHandles.addPromise(u(this._snappingOperation.snapAgainNearPreviousMapPoint(this._snappingManager,e)))}if(null!=t){const{start:e,end:i}=this._computationManipulators.get(t);if(e.grabbing||i.grabbing){const i=e.grabbing?\"start\":\"end\",a=this._computeConstraint(t);S(t,i,{constraint:a,view:this.view})}}}))}destroy(){this._snappingOperation=p(this._snappingOperation),this._computationHandles.destroy(),this._constraintSnappingIndicator.destroy(),this._stagedStartIndicator.destroy(),this._orientationManipulatorTexture?.release()}get updating(){return this._updatingHandles.updating||this._snappingManager.updating}get firstGrabbedManipulator(){return this.parentTool.firstGrabbedManipulator}get hasGrabbedManipulators(){return this.parentTool.hasGrabbedManipulators}get snappingOptions(){return this._snappingManager.options}get _snappingManager(){return this._snappingManagerResult.snappingManager}get _activeComputation(){if(null!=this._stagedComputation)return this._stagedComputation;const{selectedComputation:t}=this.analysisViewData;return this.hasGrabbedManipulators&&null!=t?t:null}get _stagedComputation(){const t=this._stagedDimension,e=this.analysisViewData.computations.at(-1)?.computation;return null==t||null==e||e.dimension!==t?null:e}get _constraintHandles(){return[f((()=>this.analysisViewData.selectedComputation),(t=>{t.previousConstraint=this._computeConstraint(t)}),{...g,equals:r}),d((()=>{const t=this._activeComputation;if(null==t)return null;const{measureType:e,orientation:i}=t.dimension;return{measureType:e,orientation:i,computation:t}}),((t,e)=>{if(null!=t&&null==e){const{measureType:e,orientation:a,computation:n}=t;switch(n.previousConstraint){case w.Horizontal:n.preConstraintProperties={measureType:i.Horizontal,orientation:0};break;case w.Vertical:n.preConstraintProperties={measureType:i.Vertical,orientation:0};break;case w.Direct:n.preConstraintProperties={measureType:i.Direct,orientation:a};break;default:n.preConstraintProperties={measureType:e,orientation:a}}}null==t&&null!=e&&(e.computation.preConstraintProperties=null)}),h)]}get _snappingIndicatorHandles(){const t=\"snapping-indicator-event-handles\";return[d((()=>({stagedComputation:this._stagedComputation,activeComputation:this._activeComputation})),(({stagedComputation:e,activeComputation:i})=>{const a=this._constraintSnappingIndicator;if(this.removeHandles(t),null!=i)if(i===e)a.attached=!0;else{const{start:e,end:n}=this._computationManipulators.get(i),s=()=>{a.attached=e.grabbing||n.grabbing};s(),this.addHandles([e.events.on(\"grab-changed\",s),n.events.on(\"grab-changed\",s)],t)}else a.attached=!1})),d((()=>{const t=this._activeComputation;return null!=t?{geometry:t.geometry,constraint:t.previousConstraint}:{}}),(({geometry:t,constraint:e})=>{const i=this._constraintSnappingIndicator;null!=t&&null!=e&&e!==w.Direct?(i.visible=!0,i.setGeometryFromSegment(t.directSegment)):i.visible=!1}))]}removeStaged(){return null!=this._stagedDimension&&(this.analysis.dimensions.remove(this._stagedDimension),this._stagedDimension=null,!0)}onDeactivate(){this.removeStaged(),this._resetSnappingState()}onClick(t){const{_stagedDimension:e}=this;if(null==e){const e=this._onUnstagedClick(t);return this.analysis.dimensions.add(e),null}return this._onStagedClick(t),e}onPointerMove({mapPoint:t,pointerType:e}){if(\"touch\"===e)return;const i=this._getSnappingContext(e);this._updatingHandles.addPromise(u(this._snappingOperation.snap({point:t},this._snappingManager,i)))}onManipulatorSelectionChanged(){if(null!=this.analysisViewData.selectedComputation){this._computationManipulators.get(this.analysisViewData.selectedComputation).offset.selected||(this.analysisViewData.selectedDimension=null)}}_onUnstagedClick({mapPoint:t,pointerType:e}){let n=t;if(\"mouse\"===e){const i=this._getSnappingContext(e);n=this._snappingManager.update({point:t,context:i})}const s=new a({startPoint:C(n,new ht),endPoint:null,measureType:i.Horizontal});return this._stagedDimension=s,this._resetSnappingState(),s}_onStagedClick({mapPoint:t,pointerType:e}){const i=this._stagedComputation;if(null==i)return;let a=t;if(\"mouse\"===e){const i=this._getSnappingContext(e);a=this._snappingManager.update({point:t,context:i})}const n=C(a,new ht);this._applyPointUpdate(i,{endPoint:n}),this._stagedDimension=null,this._resetSnappingState()}_resetSnappingState(){this._snappingManager.doneSnapping(),this._snappingOperation.abort(),this._snappingOperation.stagedPoint=null}_createManipulators(t){const e=this._setupPointManipulator(t,{isStart:!0}),a=this._setupPointManipulator(t,{isStart:!1}),n=this._setupOffsetManipulator(t),s=this._setupHeadingManipulator(t),o=this._setupRotationManipulator(t),r=this._setupMeasureTypeManipulator(t,i.Direct),p=this._setupMeasureTypeManipulator(t,i.Horizontal),l=this._setupMeasureTypeManipulator(t,i.Vertical),u=new D({start:e,end:a,offset:n,heading:s,rotation:o,direct:r,horizontal:p,vertical:l});return this._setupComputationToManipulatorsSync(t,u),this._computationManipulators.set(t,u),this.manipulators.addMany(u.values()),{manipulators:u,remove:()=>{this._computationHandles.remove(t),this._computationManipulators.delete(t);for(const t of u.values())this.manipulators.remove(t)}}}_setupComputationToManipulatorsSync(t,e){this._computationHandles.add([d((()=>t.geometry),(()=>this._updateManipulators(t,e)),{...g,equals:r})],t)}_setupPointManipulator(t,e){const{view:i}=this,{dimension:a}=t,n=new j(i,{metadata:a}),s=H(n,{isStart:e.isStart,createSnappingPipelineStep:t=>ut({snappingContext:this._getSnappingContext(t),snappingManager:this._snappingManager,updatingHandles:this._updatingHandles}),dimension:a,onUpdate:e=>this._applyPointUpdate(t,e),view:i});return this._computationHandles.add(s,t),n}_setupOffsetManipulator(t){const{view:e}=this,i=T(e,{lineSizePt:this.analysis.style.lineSize,unfocusedMaterial:this._unfocusedOffsetManipulatorMaterial,focusedMaterial:this._focusedOffsetManipulatorMaterial,metadata:t.dimension}),a=G(i,{computation:t,view:e});return this._computationHandles.add(a,t),i}_setupHeadingManipulator(t){const{view:e}=this,i=new x(e,{lineSizePt:this.analysis.style.lineSize,material:this._orientationManipulatorMaterial,metadata:t.dimension}),a=z(i,{computation:t,view:e});return this._computationHandles.add(a,t),i}_setupRotationManipulator(t){const{view:e}=this,i=new x(e,{lineSizePt:this.analysis.style.lineSize,material:this._orientationManipulatorMaterial,metadata:t.dimension}),a=U(i,{computation:t,view:e});return this._computationHandles.add(a,t),i}_setupMeasureTypeManipulator(t,e){const{view:i}=this,a=I(i,{lineSizePt:this.analysis.style.lineSize,unfocusedMaterial:this._unfocusedOffsetManipulatorMaterial,focusedMaterial:this._focusedOffsetManipulatorMaterial,thinOffsetManipulatorMaterial:this._thinOffsetManipulatorMaterial,metadata:t.dimension}),n=V(a,{computation:t,manipulatorMeasureType:e,view:i});return this._computationHandles.add(n,t),a}_updateManipulators(t,e,a={stagedDimension:this._stagedDimension,selectedComputation:this.analysisViewData.selectedComputation,firstGrabbedManipulator:this.firstGrabbedManipulator}){const{stagedDimension:n,selectedComputation:s,firstGrabbedManipulator:o}=a,{start:r,end:p,offset:l,heading:u,rotation:d}=e,c=s===t,m=q(t),{dimension:h}=t;for(const i of e.values()){const t=m&&null==n&&(null==o||i===o);i===l?(i.available=t,i.selected=c):i.available=t&&c}if(!m)return;null!=this._computeConstraint(t)?e.forEachMeasureTypeManipulator((t=>t.available=!1)):e.manipulatorForMeasureType(h.measureType).available=!1;for(const _ of[u,d])h.measureType===i.Direct&&0!==h.offset||(_.available=!1);B(t)?d.available=!1:u.available=!1;const{geometry:g}=t;r.renderLocation=g.directSegment.startRenderSpace,p.renderLocation=g.directSegment.endRenderSpace;const{renderCoordsHelper:f}=this.view;R(l,g,f),u.available&&A(u,t,f),d.available&&k(d,t,f),e.forEachMeasureTypeManipulator(((e,i)=>{e.available&&E(e,t,i,f)}))}_updateManipulatorStyle(t){const e=L(t),i=F(t),a={lineSizePt:t,material:this._orientationManipulatorMaterial};for(const{offset:n,heading:s,rotation:o}of this._computationManipulators.values())n.radius=i/2,s.update(a),o.update(a);this._unfocusedOffsetManipulatorMaterial.setParameters({width:e}),this._focusedOffsetManipulatorMaterial.setParameters({width:i})}_applyPointUpdate(t,e){const{view:i}=this,a=J(t);\"startPoint\"in e&&(a.elevationAlignedStartPoint=e.startPoint),\"endPoint\"in e&&(a.elevationAlignedEndPoint=e.endPoint);const n=N(a,i.renderCoordsHelper);if(null==n)return;const s=this._computeConstraint({...a,geometry:n});b(t,e,{...a,constraint:s,unconstrainedGeometry:n,view:i}),t===this._stagedComputation&&this._updateStagedDimensionOffset(t)}_updateStagedDimensionOffset(t){if(null==t.geometry)return;t.geometry.directSegment.eval(.5,ft);const{state:e,renderCoordsHelper:i}=this.view,a=e.camera.computeScreenPixelSizeAt(ft);t.dimension.offset=Y*a*i.unitInMeters}_computeConstraint(t){return P(O(t,this._snappingManager.options),this.view)}_createOffsetManipulatorMaterial(){return new st({width:1,renderOccluded:it.OccludeAndTransparent,writeDepth:!1,hasPolygonOffset:!0,isDecoration:!0})}get testInfo(){}};t([_({constructOnly:!0})],gt.prototype,\"analysis\",void 0),t([_({constructOnly:!0})],gt.prototype,\"analysisViewData\",void 0),t([_({constructOnly:!0})],gt.prototype,\"manipulators\",void 0),t([_({constructOnly:!0})],gt.prototype,\"parentTool\",void 0),t([_({constructOnly:!0,nonNullable:!0})],gt.prototype,\"view\",void 0),t([_({readOnly:!0})],gt.prototype,\"updating\",null),t([_()],gt.prototype,\"firstGrabbedManipulator\",null),t([_()],gt.prototype,\"hasGrabbedManipulators\",null),t([_()],gt.prototype,\"snappingOptions\",null),t([_()],gt.prototype,\"_stagedDimension\",void 0),t([_()],gt.prototype,\"_activeComputation\",null),t([_()],gt.prototype,\"_stagedComputation\",null),gt=t([M(\"esri.views.3d.analysis.Dimension.LengthDimensionSubTool\")],gt);const ft=v();export{gt as LengthDimensionSubTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import{clock as t}from\"../../../../core/clock.js\";import{destroyHandle as i,makeHandle as o}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{removeMaybe as s}from\"../../../../core/maybe.js\";import{watch as n,syncAndInitial as r,when as a}from\"../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{sv3d as m}from\"../../../../geometry/support/vectorStacks.js\";import{DidPointerMoveRecentlyFlag as p}from\"./lengthDimensionManipulatorUtils.js\";import{LengthDimensionSubTool as u}from\"./LengthDimensionSubTool.js\";import{pointerMoveTimeoutMs as h}from\"./settings.js\";import{AnalysisToolBase as d}from\"../../../interactive/AnalysisToolBase.js\";import{sketchKeys as v}from\"../../../interactive/keybindings.js\";import{newToolIntersector as _}from\"../../../interactive/ToolIntersector.js\";import{createScreenPointArrayFromEvent as y}from\"../../../support/screenUtils.js\";import T from\"../../../../geometry/Point.js\";var g;!function(e){e.Ready=\"ready\",e.Creating=\"creating\",e.Created=\"created\"}(g||(g={}));let S=class extends d{constructor(e){super(e),this.automaticManipulatorSelection=!1,this.removeIncompleteOnCancel=!1,this._pointerMoveTimerMs=h,this._prevPointerMoveTimeout=null}initialize(){this._intersector=_(this.view.state.viewingMode),this._lengthDimensionSubTool=new u({analysis:this.analysis,analysisViewData:this.analysisViewData,manipulators:this.manipulators,parentTool:this,view:this.view}),this.addHandles([i(this._lengthDimensionSubTool),o((()=>this._clearPointerMoveTimeout())),n((()=>this.state),(e=>{e===g.Created&&this.finishToolCreation()}),r),a((()=>this.firstGrabbedManipulator),(e=>{this.selectedDimension=e.metadata}),r),n((()=>this.selectedDimension),(()=>this._resetPointerMoveTimeout()),r)])}get state(){return this.analysis.dimensions.some((e=>\"length\"===e.type))?null!=this._activeSubTool?g.Creating:g.Created:g.Ready}get updating(){return this._lengthDimensionSubTool.updating}get cursor(){return this.active?\"crosshair\":null}get selectedDimension(){return this.analysisViewData.selectedDimension}set selectedDimension(e){this.analysisViewData.selectedDimension=e}onInputEvent(e){switch(e.type){case\"immediate-click\":this._clickHandler(e);break;case\"immediate-double-click\":this._doubleClickHandler(e);break;case\"pointer-move\":this._pointerMoveHandler(e);break;case\"key-down\":if(v.cancel===e.key){if(null!=this._activeSubTool&&this._activeSubTool.removeStaged())return void e.stopPropagation();this.active||(this.selectedDimension=null)}else v.delete.includes(e.key)&&this._deleteKeyHandler()}}onActivate(){this._activeSubTool=this._lengthDimensionSubTool}onDeactivate(){null!=this._activeSubTool&&(this._activeSubTool.onDeactivate(),this._activeSubTool=null)}onShow(){this._resetPointerMoveTimeout()}onManipulatorSelectionChanged(){this._lengthDimensionSubTool.onManipulatorSelectionChanged()}onHide(){this.selectedDimension=null}_clickHandler(e){if(this.hasFocusedManipulators)return void e.stopPropagation();if(null==this._activeSubTool)return;const t=this._intersectScreen(e);null!=t&&(this.selectedDimension=this._activeSubTool.onClick({mapPoint:t,pointerType:e.pointerType}),e.stopPropagation())}_doubleClickHandler(e){this.active&&(this.view.activeTool=null,e.stopPropagation())}_pointerMoveHandler(e){if(this._resetPointerMoveTimeout(),null==this._activeSubTool)return;if(this.hasFocusedManipulators)return;const t=this._intersectScreen(e);null!=t&&this._activeSubTool.onPointerMove({mapPoint:t,pointerType:e.pointerType})}_deleteKeyHandler(){null!=this._activeSubTool&&this._activeSubTool.removeStaged(),this._removeSelected()}_intersectScreen(e){const t=y(e);this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(t,this._intersector);const i=this._intersector.results.min,o=m.get();return i.getIntersectionPoint(o)?this.view.renderCoordsHelper.fromRenderCoords(o,new T({spatialReference:this.view.spatialReference})):null}_removeSelected(){null!=this.selectedDimension&&(this.analysis.dimensions.remove(this.selectedDimension),this.selectedDimension=null)}_clearPointerMoveTimeout(){this._prevPointerMoveTimeout=s(this._prevPointerMoveTimeout)}_resetPointerMoveTimeout(){this._clearPointerMoveTimeout(),this.manipulators.forEach((e=>e.manipulator.state|=p)),this._prevPointerMoveTimeout=t.setTimeout((()=>{this.manipulators.forEach((e=>e.manipulator.state&=~p))}),this._pointerMoveTimerMs)}get testInfo(){}};e([l({constructOnly:!0})],S.prototype,\"view\",void 0),e([l({constructOnly:!0})],S.prototype,\"analysis\",void 0),e([l({readOnly:!0})],S.prototype,\"state\",null),e([l({readOnly:!0})],S.prototype,\"updating\",null),e([l({readOnly:!0})],S.prototype,\"cursor\",null),e([l({constructOnly:!0})],S.prototype,\"analysisViewData\",void 0),e([l()],S.prototype,\"selectedDimension\",null),e([l()],S.prototype,\"automaticManipulatorSelection\",void 0),e([l()],S.prototype,\"_activeSubTool\",void 0),e([l()],S.prototype,\"_lengthDimensionSubTool\",void 0),S=e([c(\"esri.views.3d.analysis.Dimension.DimensionTool\")],S);export{S as DimensionTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{fromTranslation as e}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{fromValues as r,clone as i}from\"../../../../core/libs/gl-matrix-2/factories/vec4f32.js\";import{Object3DVisualElement as a}from\"./Object3DVisualElement.js\";import{lineStripsToParameters as s,createGeometry as l}from\"../../support/engineContent/line.js\";import{RenderOccludedFlag as m}from\"../../webgl-engine/lib/Material.js\";import{LineMarkerMaterial as o}from\"../../webgl-engine/materials/LineMarkerMaterial.js\";class n extends a{constructor(e,t){super(e),this._hasExternalMaterial=!1,this._renderOccluded=m.OccludeAndTransparent,this._width=1,this._color=r(1,0,1,1),this._placement=\"end\",this._markerPrimitive=\"arrow\",this._material=t,this._hasExternalMaterial=null!=t,this.applyProperties(e)}setGeometryFromSegment(t,r){const i=t.endRenderSpace;this.transform=e(h,i),this._normal=r;const{points:a}=t.createRenderGeometry(i,this.view.renderCoordsHelper);this.geometry=[a]}get renderOccluded(){return null!=this._material?this._material.parameters.renderOccluded:this._renderOccluded}set renderOccluded(e){this._renderOccluded=e,null!=this._material&&this._material.setParameters({renderOccluded:e})}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get normal(){return this._normal}set normal(e){this._normal=e,this.recreateGeometry()}get width(){return null!=this._material?this._material.parameters.width:this._width}set width(e){this._width=e,null!=this._material&&this._material.setParameters({width:e})}get color(){return null!=this._material?this._material.parameters.color:this._color}set color(e){this._color=i(e),null!=this._material&&this._material.setParameters({color:this._color})}get placement(){return null!=this._material?this._material.parameters.placement:this._placement}set placement(e){this._placement=e,null!=this._material&&this._material.setParameters({placement:this._placement})}get markerPrimitive(){return this._material?.parameters.markerPrimitive??this._markerPrimitive}set markerPrimitive(e){this._markerPrimitive=e,null!=this._material&&this._material.setParameters({markerPrimitive:e})}createExternalResources(){this._hasExternalMaterial||(this._material=new o({width:this._width,color:this._color,placement:this._placement,renderOccluded:this._renderOccluded,markerPrimitive:this._markerPrimitive,isDecoration:this.isDecoration}))}destroyExternalResources(){this._hasExternalMaterial||(this._material=null)}createGeometries(e){for(const t of s(this.geometry,this.normal)){const r=l(this._material,t);e.addGeometry(r)}}forEachExternalMaterial(e){this._hasExternalMaterial||e(this._material)}}const h=t();export{n as MarkerVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Handles.js\";import\"../../../../core/has.js\";import{equals as t}from\"../../../../core/lang.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{formatDecimal as i}from\"../../../../core/quantityFormatUtils.js\";import{watch as n,initial as l}from\"../../../../core/reactiveUtils.js\";import{pt2px as a}from\"../../../../core/screenUtils.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{computeSpanningSegment as m,OffsetSegmentLocation as r,maxScreenLengthSquaredFromGeometry as f,offsetSegment as d}from\"./lengthDimensionUtils.js\";import{smallScreenLengthLineSizeFactor as c,minScreenLengthFontSizeFactor as h,labelMarginPx as u}from\"./settings.js\";import{LabelVisualElement as S}from\"../../interactive/visualElements/LabelVisualElement.js\";import{LineVisualElement as g}from\"../../interactive/visualElements/LineVisualElement.js\";import{MarkerVisualElement as p}from\"../../interactive/visualElements/MarkerVisualElement.js\";import{EuclideanSegment as v}from\"../../interactive/visualElements/support/Segment.js\";class b{set visible(e){for(const t of this._visualElements.values())t.attached=e}constructor(s){this.destroyed=!1,this._handles=new e,this._messages=null,this._labelSegment=new v;const{analysis:i,computation:o,view:m,messages:r,isDecoration:f}=s;this.analysis=i,this.computation=o,this.view=m,this._messages=r;const d=s.visible,c={view:m,attached:d,isDecoration:f},{fontSize:h,textColor:u,textBackgroundColor:b}=i.style;this._visualElements=new E({marker:new p(c,s.markerMaterial),dimension:new g(c,s.dimensionLineMaterial),startOffset:new g(c,s.offsetLineMaterial),endOffset:new g(c,s.offsetLineMaterial),dimensionSmall:new g(c,s.smallDimensionLineMaterial),startOffsetSmall:new g(c,s.smallOffsetLineMaterial),endOffsetSmall:new g(c,s.smallOffsetLineMaterial),label:new S({view:m,attached:d,distance:0,geometry:{type:\"segment\",sampleLocation:\"center\",segment:this._labelSegment,callout:!1},fontSize:a(h),textColor:u.clone(),backgroundColor:b.clone(),isDecoration:f})}),this._handles.add([n((()=>o.geometry),(e=>{this.updateCameraDependentElements(m.state.camera,e,i.style),null!=o.geometry&&this._updateLines(o.geometry)}),{...l,equals:t}),n((()=>o.length),(e=>this._updateLabelContent(e)),l)])}destroy(){this.destroyed=!0,this._handles=s(this._handles);for(const e of this._visualElements.values())e.destroy()}get testInfo(){}_updateLines(e){const t=m(y,r.Start,e.directSegment,e.dimensionSegment),s=m(_,r.End,e.directSegment,e.dimensionSegment),i=this._visualElements;i.marker.setGeometryFromSegment(e.dimensionSegment,e.primaryOffsetAxis),i.dimension.setGeometryFromSegment(e.dimensionSegment),i.startOffset.setGeometryFromSegment(t),i.endOffset.setGeometryFromSegment(s),i.dimensionSmall.setGeometryFromSegment(e.dimensionSegment),i.startOffsetSmall.setGeometryFromSegment(t),i.endOffsetSmall.setGeometryFromSegment(s)}updateCameraDependentElements(e,t,s){const i=this._visualElements;if(null==t){for(const e of i.values())e.visible=!1;return}const n=e.computeScreenPixelSizeAt(t.dimensionSegment.eval(.5,w)),l=f(t,n),o=l<(a(s.lineSize)*c)**2,m=!o;i.marker.visible=m,i.dimension.visible=m,i.startOffset.visible=m,i.endOffset.visible=m,i.dimensionSmall.visible=o,i.startOffsetSmall.visible=o,i.endOffsetSmall.visible=o;const r=a(s.fontSize)*h,{label:u}=i;if(u.visible=l>=r**2,!u.visible)return;const{dimensionSegment:S,primaryOffsetAxis:g}=t,{offset:p}=this.computation.dimension,v=(Math.sign(p)>=0?1:-1)*O(s)*n;d(this._labelSegment,S,g,v),u.updateLabelPosition()}updateLabelStyle(e){const{label:t}=this._visualElements;t.fontSize=a(e.fontSize),t.textColor=e.textColor,t.backgroundColor=e.textBackgroundColor}updateUnitsMessages(e){this._messages=e;const{length:t}=this.computation;this._updateLabelContent(t)}_updateLabelContent(e){const{label:t}=this._visualElements;null!=e&&null!=this._messages?t.text=i(this._messages,e,e.unit):t.text=\"\"}}function O(e){return 1.5*a(e.fontSize)+u+a(e.lineSize/2)}const y=new v,_=new v,w=o();class E{constructor(e){this.marker=e.marker,this.dimension=e.dimension,this.startOffset=e.startOffset,this.endOffset=e.endOffset,this.dimensionSmall=e.dimensionSmall,this.startOffsetSmall=e.startOffsetSmall,this.endOffsetSmall=e.endOffsetSmall,this.label=e.label}values(){return[this.marker,this.dimension,this.startOffset,this.endOffset,this.dimensionSmall,this.startOffsetSmall,this.endOffsetSmall,this.label]}}export{E as LengthDimensionVisualElements,b as LengthDimensionVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../Color.js\";import\"../../../../intl.js\";import s from\"../../../../core/Accessor.js\";import{makeHandle as t,destroyHandle as a}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{mapCollection as r,watch as o,syncAndInitial as n,when as l,sync as m}from\"../../../../core/reactiveUtils.js\";import{pt2px as c}from\"../../../../core/screenUtils.js\";import{property as d}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as h}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ZEROS as p}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{LengthDimensionVisualization as u}from\"./LengthDimensionVisualization.js\";import{markerLineSizeFraction as f,offsetLineSizeFraction as g}from\"./settings.js\";import{RenderOccludedFlag as M}from\"../../webgl-engine/lib/Material.js\";import{LineMarkerMaterial as _}from\"../../webgl-engine/materials/LineMarkerMaterial.js\";import{createStipplePatternSimple as y}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{RibbonLineMaterial as w}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{LineMarkerAnchor as v}from\"../../webgl-engine/shaders/LineMarkerTechniqueConfiguration.js\";import{onLocaleChange as L}from\"../../../../intl/locale.js\";import{fetchMessageBundle as j}from\"../../../../intl/messages.js\";let b=class extends s{get analysis(){return this.analysisViewData.analysis}get visible(){return this.analysisViewData.visible}constructor(e){super(e),this.loadingMessages=!1,this._messages=null}initialize(){const e=this.isDecoration;this._markerMaterial=new _({width:1,anchor:v.Tip,color:p,placement:\"begin-end\",worldSpace:!0,hideOnShortSegments:!0,hasTip:!0,renderOccluded:M.OccludeAndTransparent,markerPrimitive:\"triangle\",isDecoration:e}),this._dimensionLineMaterial=new w({width:1,color:p,renderOccluded:M.OccludeAndTransparent,markerParameters:this._markerMaterial.parameters,isDecoration:e}),this._offsetLineMaterial=new w({width:1,color:p,renderOccluded:M.OccludeAndTransparent,stipplePattern:y(5),isDecoration:e}),this._smallDimensionLineMaterial=new w({width:1,color:p,renderOccluded:M.OccludeAndTransparent,isDecoration:e}),this._smallOffsetLineMaterial=new w({width:1,color:p,renderOccluded:M.OccludeAndTransparent,stipplePattern:y(5),isDecoration:e});for(const i of this._lineMaterials())this.view._stage.add(i),this.addHandles(t((()=>{this.view._stage?.remove(i)})));const s=r((()=>this.analysisViewData.computations),(({computation:e})=>this._createVisualization(e)));this._dimensionVisualizations=s,this.addHandles([a(s),o((()=>i.toUnitRGBA(this.analysis.style.color)),(e=>{for(const i of this._lineMaterials())i.setParameters({color:e})}),n),o((()=>this.analysis.style.lineSize),(e=>{const i=c(e);this._markerMaterial.setParameters({width:i*f}),this._dimensionLineMaterial.setParameters({width:i,markerParameters:this._markerMaterial.parameters});const s=Math.max(i*g,1);this._offsetLineMaterial.setParameters({width:s})}),n),o((()=>({camera:this.view.state.camera,style:D(this.analysis)})),(({camera:e,style:i})=>{for(const{visualization:s}of this._dimensionVisualizations)s.updateCameraDependentElements(e,s.computation.geometry,i),s.updateLabelStyle(i)})),o((()=>this.visible),(e=>{for(const{visualization:i}of this._dimensionVisualizations)i.visible=e}))]),this.addHandles([L((()=>this._updateMessageBundle())),l((()=>!this.loadingMessages),(()=>{for(const{visualization:e}of this._dimensionVisualizations)e.updateUnitsMessages(this._messages)}),m)]),this._updateMessageBundle()}get testInfo(){}_createVisualization(e){const i=new u({analysis:this.analysis,computation:e,view:this.view,visible:this.visible,markerMaterial:this._markerMaterial,dimensionLineMaterial:this._dimensionLineMaterial,offsetLineMaterial:this._offsetLineMaterial,smallDimensionLineMaterial:this._smallDimensionLineMaterial,smallOffsetLineMaterial:this._smallOffsetLineMaterial,messages:this._messages,isDecoration:this.isDecoration});return{visualization:i,remove:()=>i.destroy()}}_lineMaterials(){return[this._markerMaterial,this._dimensionLineMaterial,this._offsetLineMaterial,this._smallDimensionLineMaterial,this._smallOffsetLineMaterial]}async _updateMessageBundle(){this.loadingMessages=!0;try{this._messages=await j(\"esri/core/t9n/Units\")}finally{this.loadingMessages=!1}}};function D(e){const{fontSize:i,lineSize:s,textColor:t,textBackgroundColor:a}=e.style;return{fontSize:i,lineSize:s,textBackgroundColor:a.clone(),textColor:t.clone()}}e([d({constructOnly:!0})],b.prototype,\"analysisViewData\",void 0),e([d({constructOnly:!0,nonNullable:!0})],b.prototype,\"view\",void 0),e([d({constructOnly:!0})],b.prototype,\"isDecoration\",void 0),e([d()],b.prototype,\"analysis\",null),e([d()],b.prototype,\"visible\",null),e([d()],b.prototype,\"loadingMessages\",void 0),b=e([h(\"esri.views.3d.analysis.Dimension.DimensionVisualization\")],b);export{b as DimensionVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import s from\"../../core/Accessor.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";let t=class extends s{constructor(o){super(o),this.dimension=null,this.length=null}};o([r({constructOnly:!0,nonNullable:!0})],t.prototype,\"dimension\",void 0),o([r()],t.prototype,\"length\",void 0),t=o([e(\"esri.views.analysis.LengthDimensionResult\")],t);const c=t;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Accessor.js\";import{watch as e,syncAndInitial as n}from\"../../../../core/reactiveUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../analysis/LengthDimensionResult.js\";let l=class extends o{constructor(t){super(t),this.geometry=null,this.unconstrainedGeometry=null,this.elevationAlignedStartPoint=null,this.elevationAlignedEndPoint=null}normalizeCtorArgs(t){const{dimension:o,...e}=t;return{result:new s({dimension:o}),...e}}initialize(){this.addHandles([e((()=>this.dimension.startPoint),(t=>this.elevationAlignedStartPoint=this.projectAndAlignPoint(t)),n),e((()=>this.dimension.endPoint),(t=>this.elevationAlignedEndPoint=this.projectAndAlignPoint(t)),n)])}get dimension(){return this.result.dimension}get length(){return this.result.length}};t([i({constructOnly:!0,nonNullable:!0})],l.prototype,\"result\",void 0),t([i({constructOnly:!0,nonNullable:!0})],l.prototype,\"projectAndAlignPoint\",void 0),t([i()],l.prototype,\"dimension\",null),t([i()],l.prototype,\"length\",null),t([i()],l.prototype,\"geometry\",void 0),t([i()],l.prototype,\"unconstrainedGeometry\",void 0),t([i()],l.prototype,\"elevationAlignedStartPoint\",void 0),t([i()],l.prototype,\"elevationAlignedEndPoint\",void 0),t([i()],l.prototype,\"preConstraintProperties\",void 0),t([i()],l.prototype,\"previousConstraint\",void 0),l=t([r(\"esri.views.3d.analysis.Dimension.LengthDimensionComputation\")],l);export{l as LengthDimensionComputation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";const r=r=>{let i=class extends r{constructor(...o){super(...o),this.analysis=null,this.tool=null,this.selectedDimension=null,this.interactive=!1,this.visible=null}get results(){return new e}createLengthDimensions(o){throw new Error(\"Method not implemented.\")}};return o([t({constructOnly:!0})],i.prototype,\"view\",void 0),o([t({constructOnly:!0,nonNullable:!0})],i.prototype,\"analysis\",void 0),o([t()],i.prototype,\"tool\",void 0),o([t({readOnly:!0})],i.prototype,\"results\",null),o([t()],i.prototype,\"selectedDimension\",void 0),o([t()],i.prototype,\"interactive\",void 0),o([t()],i.prototype,\"visible\",void 0),i=o([s(\"esri.views.analysis.DimensionAnalysisView\")],i),i};export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import{destroyHandle as t}from\"../../../core/handleUtils.js\";import\"../../../core/has.js\";import o from\"../../../core/Logger.js\";import{abortMaybe as e,destroyMaybe as n}from\"../../../core/maybe.js\";import{mapCollection as a}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/RandomLCG.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AnalysisView3D as m}from\"./AnalysisView3D.js\";import{DimensionController as p}from\"./Dimension/DimensionController.js\";import{DimensionTool as c}from\"./Dimension/DimensionTool.js\";import{DimensionVisualization as u}from\"./Dimension/DimensionVisualization.js\";import{LengthDimensionComputation as d}from\"./Dimension/LengthDimensionComputation.js\";import{applyProjectionAndElevationAlignment as h,logFailedGeometryProjectionError as y}from\"./support/projectionUtils.js\";import{connectAnalysisViewToTool as _,removeAnalysisViewTool as j,activateAnalysisViewTool as D}from\"../../analysis/analysisViewUtils.js\";import f from\"../../analysis/DimensionAnalysisView.js\";let g=class extends(f(m(s))){constructor(i){super(i),this.type=\"dimension-view-3d\",this.tool=null,this.selectedDimension=null,this._dimensionsToComputations=new Map,this._placementTask=null,this._projectAndAlignPoint=null}initialize(){this._projectAndAlignPoint=i=>{if(null==i)return null;const{spatialReference:s,elevationProvider:t}=this.view,e=h(i,s,t);return null==e&&y(this.analysis,i.spatialReference,o.getLogger(this)),e};const i=a((()=>this.analysis.dimensions),(i=>this._createComputation(i)));this.computations=i,this.addHandles([_(this,c),t(i)]),this._analysisVisualization=new u({analysisViewData:this,view:this.view,isDecoration:!this.parent}),this._analysisController=new p({analysisViewData:this,view:this.view})}destroy(){this._placementTask=e(this._placementTask),this._analysisVisualization=n(this._analysisVisualization),j(this)}get updating(){return this._analysisVisualization?.loadingMessages??!1}get results(){return this.analysis.dimensions.map((i=>this._dimensionsToComputations.get(i).result))}get selectedComputation(){const{selectedDimension:i}=this;return null==i?null:this._dimensionsToComputations.get(i)}get testInfo(){}async createLengthDimensions(i){return this.selectedDimension=null,this._placementTask=e(this._placementTask),this._placementTask=D(this,i),this._placementTask.promise}_createComputation(i){const{_dimensionsToComputations:s}=this,t=new d({dimension:i,projectAndAlignPoint:this._projectAndAlignPoint});return s.set(i,t),{computation:t,remove:()=>this._removeComputation(t)}}_removeComputation(i){const{dimension:s}=i;s===this.selectedDimension&&(this.selectedDimension=null),this._dimensionsToComputations.delete(s),i.destroy()}};i([r({readOnly:!0})],g.prototype,\"type\",void 0),i([r()],g.prototype,\"tool\",void 0),i([r()],g.prototype,\"updating\",null),i([r({readOnly:!0})],g.prototype,\"results\",null),i([r()],g.prototype,\"computations\",void 0),i([r()],g.prototype,\"selectedDimension\",void 0),i([r()],g.prototype,\"selectedComputation\",null),i([r()],g.prototype,\"_analysisVisualization\",void 0),i([r()],g.prototype,\"_analysisController\",void 0),i([r()],g.prototype,\"_dimensionsToComputations\",void 0),i([r()],g.prototype,\"_placementTask\",void 0),g=i([l(\"esri.views.3d.analysis.DimensionAnalysisView3D\")],g);const v=g;export{v as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{removeMaybe as t}from\"../../core/maybe.js\";import{onAbort as i}from\"../../core/promiseUtils.js\";import{whenOnce as e,watch as n,syncAndInitial as r}from\"../../core/reactiveUtils.js\";function l(n,r){n.interactive=!0;const{tool:l,view:a}=n;a.activeTool=l;let c=i(r,(()=>{a.activeTool===l&&(a.activeTool=null)}));return o((async o=>{await e((()=>null==l||!l.active),o),c=t(c)}),r)}function a(o,t){return n((()=>o.interactive),(()=>c(o,t)),r)}function c(o,t){o.interactive?s(o,t):v(o)}function s(o,t){v(o);const{view:i,analysis:e}=o,n=new t({view:i,analysis:e,analysisViewData:o});return o.tool=n,i.tools.add(n),n}function v(o){const{view:t,tool:i}=o;null!=i&&(t.tools.remove(i),o.tool=null)}export{l as activateAnalysisViewTool,a as connectAnalysisViewToTool,v as removeAnalysisViewTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{watch as e,syncAndInitial as t}from\"../../core/reactiveUtils.js\";import\"../../core/Logger.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import{InteractiveToolBase as i}from\"./InteractiveToolBase.js\";let o=class extends i{constructor(s){super(s)}initialize(){this.addHandles(e((()=>this.analysisViewData.visible),(s=>this.visible=s),t))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set(\"created\",!1)}};o=s([r(\"esri.views.interactive.AnalysisToolBase\")],o);export{o as AnalysisToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{newIntersector as e}from\"../3d/webgl-engine/lib/Intersector.js\";import{StoreResults as o}from\"../3d/webgl-engine/lib/IntersectorInterfaces.js\";function t(t){const n=e(t);return n.options.store=o.MIN,n.options.excludeLabels=!0,n}export{t as newToolIntersector};\n"],"names":["l","i","r","constructor","o","super","this","type","startPoint","endPoint","measureType","e","Direct","offset","orientation","p","json","write","isRequired","prototype","a","t","nonNullable","Number","n","s","normalize","c","m","u","Horizontal","Vertical","b","U","elevationAlignedStartPoint","elevationAlignedEndPoint","dimension","w","_ref","_d$directSegment","_d$primaryOffsetAxis","_d$dimensionSegment","d","arguments","length","undefined","V","directSegment","j","primaryOffsetAxis","v","B","renderCoordsHelper","dimensionSegment","Y","startRenderSpace","endRenderSpace","G","offsetAxis","relativeToSegment","spatialReference","z","Start","M","geometry","eval","P","get","worldUpAtPosition","R","D","O","E","I","x","y","toRenderCoords","End","q","f","worldBasisAtPosition","A","S","_r$orientation","F","g","_ref2","unitInMeters","Math","abs","J","K","N","Q","invert","W","headingAtPosition","Z","$","H","value","T","_","initialize","analysisViewData","computations","computation","_watchComputation","addHandles","analysis","_defaultUnit","view","h","round","getLogger","warnOnce","concat","id","result","unit","constructOnly","accentColor","He","start","end","heading","rotation","direct","horizontal","vertical","manipulatorName","Object","keys","find","hasOwnProperty","values","forEachMeasureTypeManipulator","manipulatorForMeasureType","Me","toUnitRGBA","effectiveTheme","ie","ue","tt","renderObjects","metadata","available","grabCursor","radius","collisionPriority","_themeHandle","color","setParameters","destroy","remove","Ce","lineSizePt","material","autoScaleRenderObjects","_options","calloutColor","et","Te","_objectSpread","update","_ref3","calloutLength","le","calloutWidth","customStateMask","discScale","focusMultiplier","Ae","_ref7","ye","_e","cancel","settingHeading","steps","events","on","stopPropagation","Ee","shortestSignedDiff","De","_c$orientation","_c$orientation2","Je","Ke","forHeading","next","ae","action","renderStart","C","te","renderEnd","Fe","we","Le","_ref8","manipulatorMeasureType","renderLocation","ot","se","ke","Se","execute","L","k","viewForward","state","camera","Ne","_ref9","Ve","We","re","it","modelTransform","rt","Xe","Ye","Qe","_ref10","$e","_t$material","_t$texture","_t$focusMultiplier","_t$calloutLength","_t$discScale","_t$calloutWidth","_t$customStateMask","he","writeDepth","textureId","texture","renderOccluded","fe","Opaque","isDecoration","ne","discRadius","de","ge","POSITION","me","UV0","ve","width","OccludeAndTransparent","pe","je","None","collisionType","direction","xe","Unfocused","Focused","Custom1","nt","ce","constraint","unconstrainedGeometry","previousConstraint","preConstraintProperties","gt","_stagedDimension","_computationManipulators","Map","_computationHandles","_orientationManipulatorTexture","_updatingHandles","_getSnappingContext","lt","elevationInfo","mode","pointer","editGeometryOperations","pt","viewingMode","visualizer","_snappingManagerResult","dt","_unfocusedOffsetManipulatorMaterial","_createOffsetManipulatorMaterial","_focusedOffsetManipulatorMaterial","_thinOffsetManipulatorMaterial","stipplePattern","_constraintSnappingIndicator","attached","_stagedStartIndicator","size","outlineSize","_t$_stage","_snappingOperation","ct","_stage","renderView","renderingContext","driverTest","svgPremultipliesAlpha","_orientationManipulatorMaterial","at","contrastColor","textures","preMultiplyAlpha","release","_createManipulators","stagedPoint","stagedComputation","_stagedComputation","ht","_applyPointUpdate","stagedDimension","selectedComputation","firstGrabbedManipulator","_updateManipulators","style","lineSize","_updateManipulatorStyle","_updateStagedDimensionOffset","vertices","_constraintHandles","_snappingIndicatorHandles","mt","_activeComputation","_this$view$inputManag","inputManager","latestPointerType","addPromise","snapAgainNearPreviousMapPoint","_snappingManager","grabbing","fromRenderCoords","_computeConstraint","_this$_orientationMan","updating","parentTool","hasGrabbedManipulators","snappingOptions","options","snappingManager","_this$analysisViewDat","equals","activeComputation","_ref4","removeHandles","_ref5","visible","setGeometryFromSegment","removeStaged","dimensions","onDeactivate","_resetSnappingState","onClick","_onUnstagedClick","add","_onStagedClick","onPointerMove","_ref6","mapPoint","pointerType","snap","point","onManipulatorSelectionChanged","selected","selectedDimension","context","doneSnapping","abort","_setupPointManipulator","isStart","_setupOffsetManipulator","_setupHeadingManipulator","_setupRotationManipulator","_setupMeasureTypeManipulator","_setupComputationToManipulatorsSync","set","manipulators","addMany","delete","createSnappingPipelineStep","onUpdate","snappingStep","cancelSnapping","oe","mapEnd","be","ut","snappingContext","updatingHandles","unfocusedMaterial","map","instantiate","focusedMaterial","Selected","paths","ee","thinOffsetManipulatorMaterial","max","ft","computeScreenPixelSizeAt","enabled","effectiveFeatureEnabled","st","hasPolygonOffset","testInfo","readOnly","Ready","Creating","Created","automaticManipulatorSelection","removeIncompleteOnCancel","_pointerMoveTimerMs","_prevPointerMoveTimeout","_intersector","_lengthDimensionSubTool","_clearPointerMoveTimeout","finishToolCreation","_resetPointerMoveTimeout","some","_activeSubTool","cursor","active","onInputEvent","_clickHandler","_doubleClickHandler","_pointerMoveHandler","key","includes","_deleteKeyHandler","onActivate","onShow","onHide","hasFocusedManipulators","_intersectScreen","activeTool","_removeSelected","sceneIntersectionHelper","intersectToolIntersectorScreen","results","min","getIntersectionPoint","forEach","manipulator","setTimeout","_hasExternalMaterial","_renderOccluded","_width","_color","_placement","_markerPrimitive","_material","applyProperties","transform","_normal","points","createRenderGeometry","parameters","_geometry","recreateGeometry","normal","placement","markerPrimitive","_this$_material$param","_this$_material","createExternalResources","destroyExternalResources","createGeometries","addGeometry","forEachExternalMaterial","_visualElements","destroyed","_handles","_messages","_labelSegment","messages","fontSize","textColor","textBackgroundColor","marker","markerMaterial","dimensionLineMaterial","startOffset","offsetLineMaterial","endOffset","dimensionSmall","smallDimensionLineMaterial","startOffsetSmall","smallOffsetLineMaterial","endOffsetSmall","label","distance","sampleLocation","segment","callout","clone","backgroundColor","updateCameraDependentElements","_updateLines","_updateLabelContent","sign","updateLabelPosition","updateLabelStyle","updateUnitsMessages","text","loadingMessages","_markerMaterial","anchor","Tip","worldSpace","hideOnShortSegments","hasTip","_dimensionLineMaterial","markerParameters","_offsetLineMaterial","_smallDimensionLineMaterial","_smallOffsetLineMaterial","_lineMaterials","_this$view$_stage","_createVisualization","_dimensionVisualizations","visualization","_updateMessageBundle","normalizeCtorArgs","_objectWithoutProperties","_excluded","projectAndAlignPoint","tool","interactive","createLengthDimensions","Error","_dimensionsToComputations","_placementTask","_projectAndAlignPoint","elevationProvider","_createComputation","_analysisVisualization","parent","_analysisController","_this$_analysisVisual","_this$_analysisVisual2","promise","_removeComputation","async","tools","deactivate","created","clear","resetCreated","_set","store","MIN","excludeLabels"],"sourceRoot":""}