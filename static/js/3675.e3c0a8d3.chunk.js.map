{"version":3,"file":"static/js/3675.e3c0a8d3.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingComponentSublayer.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingSublayer.js","../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceController.js","../node_modules/@arcgis/core/views/3d/terrain/isTerrainSurfaceLayer.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceTool.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/SliceAnalysisView3D.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolConfig.js","../node_modules/@arcgis/core/views/3d/analysis/images/generateTextures.js","../node_modules/@arcgis/core/views/3d/analysis/images/heading-rotate-svg.js","../node_modules/@arcgis/core/views/3d/analysis/images/tilt-rotate-svg.js","../node_modules/@arcgis/core/views/3d/analysis/images/Factory.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js","../node_modules/@arcgis/core/views/interactive/ToolIntersector.js","../node_modules/@arcgis/core/views/support/geometry2dUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ObjectAndLayerIdColor as o}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{terrainDepthTest as t}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{ColorConversion as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as n}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as d}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as a}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as l}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as p}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{outputColorHighlightOID as v}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";function c(c){const u=new l,{vertex:m,fragment:b}=u;return n(m,c),u.include(i,c),u.include(t,c),u.include(r,c),u.include(o,c),u.include(v,c),u.attributes.add(p.POSITION,\"vec3\"),u.attributes.add(p.UV0,\"vec2\"),c.perspectiveInterpolation&&u.attributes.add(p.PERSPECTIVEDIVIDE,\"float\"),u.varyings.add(\"vpos\",\"vec3\"),c.terrainDepthTest&&u.varyings.add(\"depth\",\"float\"),m.main.add(a`\n    vpos = position;\n    ${c.terrainDepthTest?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n    vTexCoord = uv0;\n    gl_Position = transformPosition(proj, view, vpos);\n    ${c.perspectiveInterpolation?\"gl_Position *= perspectiveDivide;\":\"\"}`),b.uniforms.add(new g(\"tex\",(e=>e.texture)),new d(\"opacity\",(e=>e.opacity))),u.varyings.add(\"vTexCoord\",\"vec2\"),b.include(s),b.main.add(a`\n    discardBySlice(vpos);\n    ${c.terrainDepthTest?\"terrainDepthTest(depth);\":\"\"}\n    ${c.output===e.ObjectAndLayerIdColor?\"fragColor = vec4(0, 0, 0, 1);\\n           return;\":\"\"}\n    vec4 finalColor = texture(tex, vTexCoord) * opacity;\n    outputColorHighlightOID(finalColor, vpos);`),u}const u=Object.freeze(Object.defineProperty({__proto__:null,build:c},Symbol.toStringTag,{value:\"Module\"}));export{u as I,c as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import r from\"../../PopupTemplate.js\";import\"../../renderers/ClassBreaksRenderer.js\";import\"../../renderers/DictionaryRenderer.js\";import\"../../renderers/DotDensityRenderer.js\";import\"../../renderers/HeatmapRenderer.js\";import\"../../renderers/PieChartRenderer.js\";import\"../../renderers/Renderer.js\";import\"../../renderers/SimpleRenderer.js\";import\"../../renderers/UniqueValueRenderer.js\";import\"../../renderers/support/jsonUtils.js\";import{webSceneRendererTypes as o}from\"../../renderers/support/types.js\";import s from\"../../request.js\";import i from\"../../core/Error.js\";import{JSONMap as a}from\"../../core/jsonMap.js\";import n from\"../../core/Loadable.js\";import p from\"../../core/Logger.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as d}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{enumeration as u}from\"../../core/accessorSupport/decorators/enumeration.js\";import{reader as y}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import m from\"../../geometry/Extent.js\";import h from\"../../geometry/SpatialReference.js\";import f from\"../FeatureLayer.js\";import g from\"./BuildingSublayer.js\";import{zeroCapabilities as j}from\"../support/capabilities.js\";import{popupEnabled as v}from\"../support/commonProperties.js\";import{defineFieldProperties as b}from\"../support/fieldProperties.js\";import L from\"../support/FieldsIndex.js\";import{unpackFieldNames as I}from\"../support/fieldUtils.js\";import{fetchIndexInfo as S}from\"../support/I3SIndexInfo.js\";import{I3SNodePageDefinition as F,I3SMaterialDefinition as w,I3STextureSetDefinition as O,I3SGeometryDefinition as x}from\"../support/I3SLayerDefinitions.js\";import P from\"../../rest/support/Query.js\";import{createPopupTemplate as q}from\"../../support/popupUtils.js\";import T from\"../../symbols/support/ElevationInfo.js\";import{queryAttributesFromCachedAttributesId as R}from\"../../views/3d/layers/i3s/I3SUtil.js\";import{getRequiredFields as U,getFetchPopupTemplate as D}from\"../../views/layers/support/popupUtils.js\";const Q=b();let E=class extends(n.LoadableMixin(l(g))){constructor(e){super(e),this.type=\"building-component\",this.nodePages=null,this.materialDefinitions=[],this.textureSetDefinitions=[],this.geometryDefinitions=[],this.indexInfo=null,this.serviceUpdateTimeStamp=null,this.store=null,this.attributeStorageInfo=[],this.fields=[],this.associatedLayer=null,this.outFields=null,this.listMode=\"show\",this.renderer=null,this.definitionExpression=null,this.popupEnabled=!0,this.popupTemplate=null,this.layerType=\"3d-object\"}get parsedUrl(){return this.layer?{path:`${this.layer.parsedUrl?.path}/sublayers/${this.id}`,query:this.layer.parsedUrl?.query}:{path:\"\"}}get fieldsIndex(){return new L(this.fields)}readAssociatedLayer(e,t){const r=this.layer.associatedFeatureServiceItem,o=t.associatedLayerID;return null!=r&&\"number\"==typeof o?new f({portalItem:r,customParameters:this.customParameters,layerId:o}):null}get objectIdField(){if(null!=this.fields)for(const e of this.fields)if(\"oid\"===e.type)return e.name;return null}get displayField(){return null!=this.associatedLayer?this.associatedLayer.displayField:void 0}get apiKey(){return this.layer.apiKey}get customParameters(){return this.layer.customParameters}get fullExtent(){return this.layer.fullExtent}get spatialReference(){return this.layer.spatialReference}get version(){return this.layer.version}get elevationInfo(){return this.layer.elevationInfo}get minScale(){return this.layer.minScale}get maxScale(){return this.layer.maxScale}get effectiveScaleRange(){return this.layer.effectiveScaleRange}get defaultPopupTemplate(){return this.createPopupTemplate()}load(e){const t=null!=e?e.signal:null,r=this._fetchService(t).then((()=>{this.indexInfo=S(this.parsedUrl.path,this.rootNode,this.nodePages,this.customParameters,this.apiKey,p.getLogger(this),t)}));return this.addResolvingPromise(r),Promise.resolve(this)}createPopupTemplate(e){return q(this,e)}async _fetchService(e){const t=(await s(this.parsedUrl.path,{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e})).data;this.read(t,{origin:\"service\",url:this.parsedUrl})}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,t){const r=this.getFeatureType(t?.feature)?.domains?.[e];return r&&\"inherited\"!==r.type?r:this.getField(e)?.domain??null}getFeatureType(e){return e&&null!=this.associatedLayer?this.associatedLayer.getFeatureType(e):null}get types(){return null!=this.associatedLayer?this.associatedLayer.types??[]:[]}get typeIdField(){return null!=this.associatedLayer?this.associatedLayer.typeIdField:null}get geometryType(){return\"3d-object\"===this.layerType?\"mesh\":\"point\"}get profile(){return\"3d-object\"===this.layerType?\"mesh-pyramids\":\"points\"}get capabilities(){const e=null!=this.associatedLayer&&this.associatedLayer.capabilities?this.associatedLayer.capabilities:j,{query:t,data:{supportsZ:r,supportsM:o,isVersioned:s}}=e;return{query:t,data:{supportsZ:r,supportsM:o,isVersioned:s}}}createQuery(){const e=new P;return\"mesh\"!==this.geometryType&&(e.returnGeometry=!0,e.returnZ=!0),e.where=this.definitionExpression||\"1=1\",e.sqlFormat=\"standard\",e}queryExtent(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryExtent(e||this.createQuery(),t)))}queryFeatureCount(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryFeatureCount(e||this.createQuery(),t)))}queryFeatures(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryFeatures(e||this.createQuery(),t))).then((e=>{if(e?.features)for(const t of e.features)t.layer=this.layer,t.sourceLayer=this;return e}))}queryObjectIds(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryObjectIds(e||this.createQuery(),t)))}async queryCachedAttributes(e,t){const r=I(this.fieldsIndex,await U(this,D(this)));return R(this.parsedUrl.path,this.attributeStorageInfo,e,t,r,this.apiKey,this.customParameters)}async queryCachedFeature(e,r){const o=await this.queryCachedAttributes(e,[r]);if(!o||0===o.length)throw new i(\"scenelayer:feature-not-in-cached-data\",\"Feature not found in cached data\");return new t({attributes:o[0],layer:this,sourceLayer:this})}getFieldUsageInfo(e){return this.fieldsIndex.has(e)?{supportsLabelingInfo:!1,supportsRenderer:!1,supportsPopupTemplate:!1,supportsLayerQuery:!1}:{supportsLabelingInfo:!1,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:null!=this.associatedLayer}}_getAssociatedLayerForQuery(){const e=this.associatedLayer;return null!=e&&e.loaded?Promise.resolve(e):this._loadAssociatedLayerForQuery()}async _loadAssociatedLayerForQuery(){if(await this.load(),null==this.associatedLayer)throw new i(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer component layer queries are not available without an associated feature layer\",{layer:this});try{await this.associatedLayer.load()}catch(e){throw new i(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer associated feature layer could not be loaded\",{layer:this,error:e})}return this.associatedLayer}};e([d({readOnly:!0})],E.prototype,\"parsedUrl\",null),e([d({type:F,readOnly:!0})],E.prototype,\"nodePages\",void 0),e([d({type:[w],readOnly:!0})],E.prototype,\"materialDefinitions\",void 0),e([d({type:[O],readOnly:!0})],E.prototype,\"textureSetDefinitions\",void 0),e([d({type:[x],readOnly:!0})],E.prototype,\"geometryDefinitions\",void 0),e([d({readOnly:!0})],E.prototype,\"serviceUpdateTimeStamp\",void 0),e([d({readOnly:!0})],E.prototype,\"store\",void 0),e([d({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],E.prototype,\"rootNode\",void 0),e([d({readOnly:!0})],E.prototype,\"attributeStorageInfo\",void 0),e([d(Q.fields)],E.prototype,\"fields\",void 0),e([d({readOnly:!0})],E.prototype,\"fieldsIndex\",null),e([d({readOnly:!0,type:f})],E.prototype,\"associatedLayer\",void 0),e([y(\"service\",\"associatedLayer\",[\"associatedLayerID\"])],E.prototype,\"readAssociatedLayer\",null),e([d(Q.outFields)],E.prototype,\"outFields\",void 0),e([d({type:String,readOnly:!0})],E.prototype,\"objectIdField\",null),e([d({readOnly:!0,type:String,json:{read:!1}})],E.prototype,\"displayField\",null),e([d({readOnly:!0,type:String})],E.prototype,\"apiKey\",null),e([d({readOnly:!0,type:String})],E.prototype,\"customParameters\",null),e([d({readOnly:!0,type:m})],E.prototype,\"fullExtent\",null),e([d({readOnly:!0,type:h})],E.prototype,\"spatialReference\",null),e([d({readOnly:!0})],E.prototype,\"version\",null),e([d({readOnly:!0,type:T})],E.prototype,\"elevationInfo\",null),e([d({readOnly:!0,type:Number})],E.prototype,\"minScale\",null),e([d({readOnly:!0,type:Number})],E.prototype,\"maxScale\",null),e([d({readOnly:!0,type:Number})],E.prototype,\"effectiveScaleRange\",null),e([d({type:[\"hide\",\"show\"],json:{write:!0}})],E.prototype,\"listMode\",void 0),e([d({types:o,json:{origins:{service:{read:{source:\"drawingInfo.renderer\"}}},name:\"layerDefinition.drawingInfo.renderer\",write:!0},value:null})],E.prototype,\"renderer\",void 0),e([d({type:String,json:{origins:{service:{read:!1,write:!1}},name:\"layerDefinition.definitionExpression\",write:{enabled:!0,allowNull:!0}}})],E.prototype,\"definitionExpression\",void 0),e([d(v)],E.prototype,\"popupEnabled\",void 0),e([d({type:r,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\"}}})],E.prototype,\"popupTemplate\",void 0),e([d({readOnly:!0,type:String,json:{origins:{service:{read:{source:\"store.normalReferenceFrame\"}}},read:!1}})],E.prototype,\"normalReferenceFrame\",void 0),e([d({readOnly:!0,json:{read:!1}})],E.prototype,\"defaultPopupTemplate\",null),e([d()],E.prototype,\"types\",null),e([d()],E.prototype,\"typeIdField\",null),e([d({json:{write:!1}}),u(new a({\"3DObject\":\"3d-object\",Point:\"point\"}))],E.prototype,\"layerType\",void 0),e([d()],E.prototype,\"geometryType\",null),e([d()],E.prototype,\"profile\",null),e([d({readOnly:!0,json:{read:!1}})],E.prototype,\"capabilities\",null),e([d({readOnly:!0})],E.prototype,\"statisticsInfo\",void 0),E=e([c(\"esri.layers.buildingSublayers.BuildingComponentSublayer\")],E);const A=E;export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{IdentifiableMixin as o}from\"../../core/Identifiable.js\";import{MultiOriginJSONSupport as r}from\"../../core/MultiOriginJSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{Integer as i}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/RandomLCG.js\";import\"../../core/has.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{readOnlyService as l}from\"../support/commonProperties.js\";let n=class extends(o(r)){constructor(e){super(e),this.title=\"\",this.id=-1,this.modelName=null,this.isEmpty=null,this.legendEnabled=!0,this.visible=!0,this.opacity=1}readTitle(e,o){return\"string\"==typeof o.alias?o.alias:\"string\"==typeof o.name?o.name:\"\"}readIdOnlyOnce(e){return-1!==this.id?this.id:\"number\"==typeof e?e:-1}};e([t({type:String,json:{origins:{\"web-scene\":{write:!0},\"portal-item\":{write:!0}}}})],n.prototype,\"title\",void 0),e([s(\"service\",\"title\",[\"alias\",\"name\"])],n.prototype,\"readTitle\",null),e([t()],n.prototype,\"layer\",void 0),e([t({type:i,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],n.prototype,\"id\",void 0),e([s(\"service\",\"id\")],n.prototype,\"readIdOnlyOnce\",null),e([t(l(String))],n.prototype,\"modelName\",void 0),e([t(l(Boolean))],n.prototype,\"isEmpty\",void 0),e([t({type:Boolean,nonNullable:!0})],n.prototype,\"legendEnabled\",void 0),e([t({type:Boolean,json:{name:\"visibility\",write:!0}})],n.prototype,\"visible\",void 0),e([t({type:Number,json:{write:!0}})],n.prototype,\"opacity\",void 0),n=e([p(\"esri.layers.buildingSublayers.BuildingSublayer\")],n);const a=n;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{EsriPromiseMixin as r}from\"../../../core/Promise.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";const s=s=>{let n=class extends(r(s)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return null==this.parent||this.parent.visible&&!this.parent.suspended}set visible(e){this._overrideIfSome(\"visible\",e)}forceInteractiveForViewModel(){return this._interactiveViewModelCount++,t((()=>this._interactiveViewModelCount--))}};return e([i({constructOnly:!0})],n.prototype,\"parent\",void 0),e([i({constructOnly:!0})],n.prototype,\"view\",void 0),e([i({type:Boolean})],n.prototype,\"interactive\",null),e([i()],n.prototype,\"_userInteractive\",void 0),e([i({readOnly:!0})],n.prototype,\"updating\",null),e([i()],n.prototype,\"visible\",null),e([i()],n.prototype,\"_interactiveViewModelCount\",void 0),n=e([o(\"esri.views.3d.analysis.AnalysisView3D\")],n),n};export{s as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../analysis/SlicePlane.js\";import a from\"../../../../core/Accessor.js\";import t from\"../../../../core/Logger.js\";import{watch as l}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as r}from\"../../../../chunks/boundedPlane.js\";import o from\"../../../../layers/Layer.js\";import c from\"../../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import{isIBuildingSceneLayerView3D as h,projectAndElevationAlignShape as u,projectedShapeToPlane as d,planeToShape as p}from\"./sliceToolUtils.js\";import{logFailedGeometryProjectionError as y}from\"../support/projectionUtils.js\";import{isTerrainSurfaceLayer as w}from\"../../terrain/isTerrainSurfaceLayer.js\";let v=class extends a{constructor(e){super(e),this._internalChange=!1,this._currentSlicePlane=null}initialize(){this.addHandles(this.analysis.excludedLayers.on(\"before-add\",(e=>{const i=e.item;null!=i&&(i instanceof o||i instanceof c)?i instanceof o&&w(i)?(t.getLogger(this).error(\"excludedLayers\",`Layer '${i.title}, id:${i.id}' of type '${i.type}' can not be individually excluded from slicing. Use 'excludeGroundSurface' instead.`),e.preventDefault()):this.analysis.excludedLayers.includes(i)&&e.preventDefault():(t.getLogger(this).error(\"excludedLayers\",\"Invalid layer type, layer must derive from Layer or BuildingComponentSublayer\"),e.preventDefault())}))),V(this.view,this),this.addHandles([l((()=>this.analysisViewData.plane),(()=>{this._internalChange||this._updateSlicePlaneFromBoundedPlane(),this._updateLayerViews()}),{sync:!0}),l((()=>this.analysis.excludeGroundSurface),(()=>this._updateLayerViews()),{sync:!0}),this.analysis.excludedLayers.on(\"change\",(()=>this._updateLayerViews())),l((()=>[this.analysisViewData.active,this.analysisViewData.visible]),(()=>{this._updateActiveController(),this._updateViewSlicePlane()}),{sync:!0}),l((()=>this._allLayerAndSubLayerViews),(()=>this._updateLayerViews()))]),this.addHandles([l((()=>this.analysis.shape),(()=>{this._internalChange||(this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane())}),{sync:!0})],\"analysis\"),this._updateActiveController(),this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane()}destroy(){this.analysisViewData.active&&(this.analysisViewData.active=!1,this.view.slicePlane=null,this._updateActiveController(),this._updateViewSlicePlane()),L(this.view,this),this.set(\"view\",null)}get _allLayerAndSubLayerViews(){const e=this.view.allLayerViews.items;return e.concat(e.filter(h).flatMap((({sublayerViews:e})=>e.items)))}_updateBoundedPlaneFromSlicePlane(){const e=this.analysis.shape,i=this._currentSlicePlane;if(null==i&&null==e||null!=i&&null!=e&&e.equals(i))return;let a=null,l=null;if(null!=e?.position){const i=e.position.spatialReference,s=u(e,this.view);null==s&&y(this.analysis,i,t.getLogger(this)),a=d(s,this.view,{tiltEnabled:this.analysis.tiltEnabled},r()),null!=a&&(l={heading:e.heading,tilt:e.tilt,position:e.position,width:e.width,height:e.height})}this._currentSlicePlane=l,this._internalChange=!0,this.analysisViewData.plane=a,this._internalChange=!1}_updateSlicePlaneFromBoundedPlane(){const e=this.analysisViewData.plane,a=p(e,this.view,this.view.spatialReference,new i);let t=null;null!=a&&(t={heading:a.heading,tilt:a.tilt,position:a.position,width:a.width,height:a.height}),this._currentSlicePlane=t,this._internalChange=!0,this.analysis.shape=a,this._internalChange=!1,this._updateViewSlicePlane()}_updateActiveController(){if(m)return;const e=_(this.view);if(!e)return;if(this.analysisViewData.active)null!=e.activeController&&e.activeController!==this?(m=!0,e.activeController.analysisViewData.active=!1,m=!1):null!=e.activeController&&e.activeController,this._updateLayerViews(),e.activeController=this;else{if(null!=e.activeController&&e.activeController!==this)return;null!=e.activeController&&e.activeController===this&&(e.activeController=null,this._updateLayerViews())}}_updateViewSlicePlane(){g(this.view)}_updateLayerViews(){const e=null!=this.analysisViewData.plane&&this.analysisViewData.visible&&this.analysisViewData.active,i=[],a=e=>{\"layers\"in e?e.layers.forEach(a):i.push(e)};this.analysis.excludedLayers.forEach(a),this.view.allLayerViews.forEach((a=>{a.destroyed||(\"slicePlaneEnabled\"in a&&(a.slicePlaneEnabled=e&&!i.includes(a.layer)),\"sublayerViews\"in a&&a.sublayerViews.forEach((a=>{a.slicePlaneEnabled=e&&!i.includes(a.sublayer)})))})),null!=this.view.basemapTerrain&&(this.view.basemapTerrain.slicePlaneEnabled=e&&!this.analysis.excludeGroundSurface)}};e([s()],v.prototype,\"view\",void 0),e([s()],v.prototype,\"analysis\",void 0),e([s()],v.prototype,\"analysisViewData\",void 0),e([s()],v.prototype,\"_allLayerAndSubLayerViews\",null),v=e([n(\"esri.views.3d.analysis.Slice.SliceController\")],v);const f=new Map;let m=!1;function g(e){const i=_(e),a=i?.activeController;null!=a?.analysisViewData.plane&&a.analysisViewData.visible?e.slicePlane=a.analysisViewData.plane:e.slicePlane=null}function V(e,i){f.has(e)||f.set(e,{all:[],activeController:null}),f.get(e)?.all.push(i)}function _(e){return f.get(e)}function L(e,i){if(!f.has(e))throw new Error(\"view expected in global slice register\");const a=f.get(e),t=a?.all.lastIndexOf(i)??-1;if(!a||-1===t)throw new Error(\"controller expected in global slice register\");a.all.splice(t,1),0===a.all.length&&f.delete(e)}export{v as SliceController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";function a(a){switch(a.type){case\"building-scene\":case\"catalog\":case\"catalog-dynamic-group\":case\"catalog-footprint\":case\"csv\":case\"dimension\":case\"feature\":case\"focusArea\":case\"geo-rss\":case\"geojson\":case\"graphics\":case\"group\":case\"integrated-mesh\":case\"integrated-mesh-3dtiles\":case\"kml\":case\"knowledge-graph\":case\"link-chart\":case\"knowledge-graph-sublayer\":case\"line-of-sight\":case\"map-notes\":case\"ogc-feature\":case\"oriented-imagery\":case\"point-cloud\":case\"route\":case\"scene\":case\"stream\":case\"viewshed\":case\"voxel\":case\"subtype-group\":case\"unknown\":case\"unsupported\":case\"wfs\":case\"parquet\":case null:return!1;case\"base-dynamic\":case\"base-elevation\":case\"base-tile\":case\"bing-maps\":case\"elevation\":case\"imagery\":case\"imagery-tile\":case\"map-image\":case\"media\":case\"open-street-map\":case\"tile\":case\"vector-tile\":case\"video\":case\"wcs\":case\"web-tile\":case\"wms\":case\"wmts\":return!0;default:return e(a.type),!1}}export{a as isTerrainSurfaceLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../analysis/SlicePlane.js\";import{clock as i}from\"../../../../core/clock.js\";import{destroyMaybe as a,removeMaybe as s}from\"../../../../core/maybe.js\";import{watch as n,sync as r,syncAndInitial as l}from\"../../../../core/reactiveUtils.js\";import{addFrameTask as o}from\"../../../../core/scheduling.js\";import{createScreenPoint as h,screenPointObjectToArray as p}from\"../../../../core/screenUtils.js\";import{property as u}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromRotation as d,fromScaling as _,multiply as v}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{f as P,l as y,c as m,h as w,g,t as f,n as M,i as D}from\"../../../../chunks/vec32.js\";import{clone as V,create as b}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{clone as T,ZEROS as E}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{a as k,c as S,n as x,f as j}from\"../../../../chunks/boundedPlane.js\";import{signedDistance as H,create as C,intersectRay as R,getNormal as O}from\"../../../../geometry/support/plane.js\";import{create as I}from\"../../../../geometry/support/ray.js\";import{sv3d as z,sm4d as G,sv2d as L}from\"../../../../geometry/support/vectorStacks.js\";import{getRotateHeadingTexture as U,getTiltRotateTexture as A}from\"../images/Factory.js\";import{ResizeManipulator as K}from\"./ResizeManipulator.js\";import{RotateManipulator as B}from\"./RotateManipulator.js\";import{getOutlineColor as F,planeColor as N}from\"./settings.js\";import{ShiftManipulator as q,OffsetMode as Z}from\"./ShiftManipulator.js\";import{pointerMoveTimerMs as W,planePreviewOutlineWidth as J,forceVerticalModifier as Q,forceHorizontalModifier as X,previewFadeDotThreshold as Y,previewFadeDurationSeconds as $,initialDepthOffsetFrac as tt}from\"./sliceToolConfig.js\";import{createGridVisualElement as et,createOutlineVisualElement as it,planeToShape as at,createRotatePlane as st,RotationAxis as nt,resizePlane as rt,calculatePlaneHalfSize as lt,SliceOrientation as ot,createPlane as ht,DidPointerMoveRecentlyFlag as pt,calculateBoundedPlaneTranslateRotate as ut,updateShiftRestartHandle as ct,updateRotateHeadingHandle as dt,updateRotateTiltHandle as _t,updateResizeHandle as vt,createShiftPlane as Pt}from\"./sliceToolUtils.js\";import{calculateInputRotationTransform as yt}from\"../../interactive/manipulatorUtils.js\";import{screenToRenderPlane as mt}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{fromScreenNormalized as wt}from\"../../support/geometryUtils/ray.js\";import{AnalysisToolBase as gt}from\"../../../interactive/AnalysisToolBase.js\";import{createManipulatorDragEventPipeline as ft}from\"../../../interactive/dragEventPipeline.js\";import{newToolIntersector as Mt}from\"../../../interactive/ToolIntersector.js\";import{createScreenPointFromEvent as Dt}from\"../../../support/screenUtils.js\";var Vt;let bt=Vt=class extends gt{constructor(t){super(t),this._clock=i,this._previewPlaneOpacity=1,this.removeIncompleteOnCancel=!1,this._layersMode=\"none\",this.shiftManipulator=null,this.rotateHeadingManipulator=null,this.rotateTiltManipulator=null,this.resizeManipulators=null,this._frameTask=null,this._pointerMoveTimerMs=W,this._prevPointerMoveTimeout=null,this._previewPlaneGridVisualElement=null,this._previewPlaneOutlineVisualElement=null,this._startPlane=k(),this._previewPlane=null,this._activeKeyModifiers={},this._lastCursorPosition=h(),this._resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}],this._intersector=Mt(t.view.state.viewingMode)}initialize(){if(null==this.analysis)throw new Error(\"SliceTool requires valid analysis, but null was provided.\");const t=t=>{this._updateManipulatorsInteractive(t),t.grabbing||(null!=this.analysisViewData.plane&&S(this.analysisViewData.plane,this._startPlane),this.inputState=null)},e=new q(this.view,Z.CENTER_ON_ARROW);this.shiftManipulator=e,this.manipulators.add(e),this.addHandles([this._createShiftDragPipeline(e),e.events.on(\"grab-changed\",(i=>{this._onShiftGrab(i),t(e)}))]);const i=!this.view._stage?.renderView.renderingContext.driverTest.svgPremultipliesAlpha.result,a=new B(this.view,((t,e)=>U(this.view.textures,{accentColor:t,contrastColor:e,preMultiplyAlpha:i})));this.rotateHeadingManipulator=a,this.manipulators.add(a),this.addHandles([this._createRotateHeadingDragPipeline(a),a.events.on(\"grab-changed\",(e=>{this._onRotateHeadingGrab(e),t(a)}))]);const s=new B(this.view,((t,e)=>A(this.view.textures,{accentColor:t,contrastColor:e,preMultiplyAlpha:i})));this.rotateTiltManipulator=s,this.manipulators.add(s),this.addHandles([this._createRotateTiltDragPipeline(s),s.events.on(\"grab-changed\",(e=>{this._onRotateTiltGrab(e),t(s)}))]),this.resizeManipulators=this._resizeHandles.map(((e,i)=>{const a=new K(this.view,e);return this.addHandles([this._createResizeDragPipeline(a),a.events.on(\"grab-changed\",(e=>{this._onResizeGrab(e,i),t(a)}))]),a})),this.manipulators.addMany(this.resizeManipulators),this._previewPlaneGridVisualElement=et(this.view),this._previewPlaneOutlineVisualElement=it(this.view),this._previewPlaneOutlineVisualElement.width=J,this.addHandles(n((()=>[this.analysisViewData.plane,this.analysis.tiltEnabled]),(()=>this._updateManipulators()),r));const o=n((()=>this.state),(t=>{\"sliced\"===t&&this.finishToolCreation()}),l);this.addHandles([o,n((()=>this.view.state.camera),(()=>this._onCameraChange()))])}destroy(){this._removeFrameTask(),this._clearPointerMoveTimeout(),this._previewPlaneOutlineVisualElement=a(this._previewPlaneOutlineVisualElement),this._previewPlaneGridVisualElement=a(this._previewPlaneGridVisualElement)}get state(){const t=!!this.analysisViewData.plane,e=!!this.inputState;return t?t&&e?\"slicing\":t&&!e?\"sliced\":\"ready\":\"ready\"}get cursor(){return this._isPlacingSlicePlane||\"exclude\"===this.layersMode?\"crosshair\":null!=this._creatingPointerId?\"grabbing\":null}set analysis(t){if(null==t)throw new Error(\"SliceTool requires valid analysis, but null was provided.\");this.removeHandles(\"analysis\"),this._set(\"analysis\",t)}get layersMode(){return this._layersMode}get inputState(){return this._get(\"inputState\")}set inputState(t){this._set(\"inputState\",t),this.analysisViewData.showGrid=null!=t&&\"resize\"===t.type,this._updateMaterials()}get _isPlacingSlicePlane(){return!this.inputState&&!this.analysisViewData.plane&&this.active}get _creatingPointerId(){return null!=this.inputState&&\"shift\"===this.inputState.type?this.inputState.creatingPointerId:null}enterExcludeLayerMode(){null!=this.analysisViewData.plane&&(this._layersMode=\"exclude\",this.active||(this.view.activeTool=this))}exitExcludeLayerMode(){null!=this.analysisViewData.plane&&(this._layersMode=\"none\",this.active&&(this.view.activeTool=null))}onDeactivate(){this._updatePreviewPlane(null)}onShow(){this._updateVisibility(!0)}onHide(){this._updateVisibility(!1)}_updateVisibility(t){this._updateManipulators(),t||this._clearPointerMoveTimeout()}onInputEvent(t){switch(t.type){case\"pointer-drag\":if(!kt(t))return;this._isPlacingSlicePlane?this._onClickPlacePlane(t)&&t.stopPropagation():this._onPointerDrag(t)&&t.stopPropagation();break;case\"pointer-move\":this._onPointerMove(t);break;case\"pointer-up\":this._onPointerUp(t)&&t.stopPropagation();break;case\"immediate-click\":if(!kt(t))return;this._onClickPlacePlane(t)&&t.stopPropagation();break;case\"click\":if(!kt(t))return;this._onClickExcludeLayer(t)&&t.stopPropagation();break;case\"drag\":this.inputState&&t.stopPropagation();break;case\"key-down\":this._onKeyDown(t)&&t.stopPropagation();break;case\"key-up\":this._onKeyUp(t)&&t.stopPropagation()}}onEditableChange(){this.analysisViewData.editable=this.internallyEditable}_onPointerDrag(t){const e=this.inputState;if(t.pointerId===this._creatingPointerId&&null!=e&&\"shift\"===e.type){const i=Dt(t);return this.shiftManipulator.events.emit(\"drag\",{action:e.hasBeenDragged?\"update\":\"start\",pointerType:t.pointerType,start:i,screenPoint:i}),e.hasBeenDragged=!0,!0}return!1}_onPointerMove(t){this._lastCursorPosition.x=t.x,this._lastCursorPosition.y=t.y,this._resetPointerMoveTimeout(),\"touch\"!==t.pointerType&&this._updatePreviewPlane(Dt(t),this._activeKeyModifiers)}_onCameraChange(){this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),this._updateManipulators()}_onPointerUp(t){if(t.pointerId===this._creatingPointerId&&null!=this.analysisViewData.plane){const e=Dt(t);return this.shiftManipulator.events.emit(\"drag\",{action:\"end\",start:e,screenPoint:e}),S(this.analysisViewData.plane,this._startPlane),this.inputState=null,!0}return!1}_onClickPlacePlane(t){if(\"exclude\"===this.layersMode)return!1;if(this._isPlacingSlicePlane){const i=Dt(t),a=k();if(this._pickPlane(i,!1,this._activeKeyModifiers,a)){if(\"pointer-drag\"===t.type){const e=wt(this.view.state.camera,i,xt);this.inputState=Et(e,t.pointerId,a.origin,a)}return S(a,this._startPlane),this.analysis.shape=at(a,this.view,this.view.spatialReference,new e),!0}}return!1}_onClickExcludeLayer(t){return!(\"exclude\"!==this.layersMode||!this.created)&&(this.view.hitTest(Dt(t)).then((t=>{if(t.results.length){const e=t.results[0],i=\"graphic\"===e?.type&&e.graphic;if(i){const t=i.sourceLayer||i.layer;t&&this.analysis.excludedLayers.push(t)}}else t.ground.layer?this.analysis.excludedLayers.push(t.ground.layer):this.analysis.excludeGroundSurface=!0})),this.exitExcludeLayerMode(),!0)}_onKeyDown(t){return(t.key===Q||t.key===X)&&(this._activeKeyModifiers[t.key]=!0,null!=this._previewPlane&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onKeyUp(t){return!(t.key!==Q&&t.key!==X||!this._activeKeyModifiers[t.key])&&(delete this._activeKeyModifiers[t.key],null!=this._previewPlane&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onShiftGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=wt(this.view.state.camera,t.screenPoint,xt);S(this.analysisViewData.plane,this._startPlane),this.inputState=Et(e,null,this.shiftManipulator.renderLocation,this.analysisViewData.plane)}_createShiftDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"shift\"!==a.type)return;const s=null!=this.analysisViewData.plane?S(this.analysisViewData.plane,k()):null;e.next(mt(this.view,a.shiftPlane)).next(this._shiftDragAdjustSensitivity(a)).next(this._shiftDragUpdatePlane(a)),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_shiftDragAdjustSensitivity(t){return e=>{if(null==this.analysisViewData.plane)return null;const i=.001,a=Math.min((1-Math.abs(P(x(this.analysisViewData.plane),e.ray.direction)/y(e.ray.direction)))/i,1),s=-H(this._startPlane.plane,e.renderEnd),n=-H(this._startPlane.plane,t.startPoint);return t.depth=t.depth*(1-a)+s*a-n,e}}_shiftDragUpdatePlane(t){return()=>{if(null==this.analysisViewData.plane)return;const e=m(z.get(),this._startPlane.origin),i=m(z.get(),x(this._startPlane));w(i,i,-t.depth),g(i,i,e);const a=j(i,this.analysisViewData.plane.basis1,this.analysisViewData.plane.basis2,k());this._updateBoundedPlane(a)}}_onRotateHeadingGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=st(this.analysisViewData.plane,this.view.renderCoordsHelper,nt.HEADING,C()),i=wt(this.view.state.camera,t.screenPoint,xt),a=b();R(e,i,a)&&(S(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:a})}_createRotateHeadingDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"rotate\"!==a.type)return;const s=null!=this.analysisViewData.plane?S(this.analysisViewData.plane,k()):null;e.next(mt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_onRotateTiltGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=st(this.analysisViewData.plane,this.view.renderCoordsHelper,nt.TILT,C()),i=wt(this.view.state.camera,t.screenPoint,xt),a=b();R(e,i,a)&&(S(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:a})}_createRotateTiltDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"rotate\"!==a.type)return;const s=null!=this.analysisViewData.plane?S(this.analysisViewData.plane,k()):null;e.next(mt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_rotateDragRenderPlaneToRotate(t){return e=>{if(null==this.analysisViewData.plane)return null;const i=O(t.rotatePlane),a=yt(t.startPoint,e.renderEnd,this.analysisViewData.plane.origin,i);return{...e,rotateAxis:i,rotateAngle:a}}}_rotateDragUpdatePlaneFromRotate(){return t=>{if(null==this.analysisViewData.plane)return;const e=d(G.get(),t.rotateAngle,t.rotateAxis);if(null==e)return;const i=f(z.get(),this._startPlane.basis1,e),a=f(z.get(),this._startPlane.basis2,e),s=j(this.analysisViewData.plane.origin,i,a,k());this._updateBoundedPlane(s)}}_onResizeGrab(t,e){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const i=wt(this.view.state.camera,t.screenPoint,xt),a=z.get();R(this.analysisViewData.plane.plane,i,a)&&(S(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"resize\",activeHandleIdx:e,startPoint:V(a)})}_createResizeDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"resize\"!==a.type||null==this.analysisViewData.plane)return;const s=S(this.analysisViewData.plane,k());e.next(mt(this.view,this.analysisViewData.plane.plane)).next(this._resizeDragUpdatePlane(a)),i.next((()=>{this._updateBoundedPlane(s)}))}))}_resizeDragUpdatePlane(t){return e=>{if(null==this.analysisViewData.plane)return;const i=this._resizeHandles[t.activeHandleIdx],a=rt(i,t.startPoint,e.renderEnd,this.view.state.camera,this._startPlane,S(this.analysisViewData.plane));this._updateBoundedPlane(a)}}_updateBoundedPlane(t){const e=this.analysisViewData;if(null==e)throw new Error(\"valid internal object expected\");e.plane=t}_updatePreviewPlane(t,e={}){let i=this._previewPlane;if(this._previewPlane=null,null==t)return this._removeFrameTask(),void this._updateManipulators();if(!this.analysisViewData.plane&&this.active){const a=null!=i?i:k();if(i=null!=i?S(i,St):null,this._pickPlane(t,!0,e,a)){const t=Y;let e=!1;null!=i&&(e=P(O(i.plane),O(a.plane))<t||P(M(z.get(),i.basis1),M(z.get(),a.basis1))<t),e&&(this._previewPlaneOpacity=0),this._previewPlane=a}}null!=this._previewPlane&&null==this._frameTask&&0===this._previewPlaneOpacity?this._frameTask=o({update:({deltaTime:t})=>{this._previewPlaneOpacity=Math.min(this._previewPlaneOpacity+t/(1e3*$),1),this._updateManipulators(),1===this._previewPlaneOpacity&&this._removeFrameTask()}}):null==this._previewPlane&&null!=this._frameTask?this._removeFrameTask():null!=this._previewPlane&&this._updateManipulators()}_removeFrameTask(){this._frameTask=s(this._frameTask)}_pickMinResult(t){const e=p(t,L.get());return this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(e,this._intersector),this._intersector.results.min}_pickPlane(t,e,i,a){const s=this._pickMinResult(t),n=z.get();if(!s.getIntersectionPoint(n))return!1;const r=s.getTransformedNormal(z.get()),l=this.view.state.camera;P(r,l.viewForward)>0&&w(r,r,-1);const o=lt(n,l),h=(e?1:-1)*o*tt,p=w(z.get(),r,h);g(p,p,n);const u=this.analysis.tiltEnabled?ot.TILTED:ot.HORIZONTAL_OR_VERTICAL,c=i[Q]?ot.VERTICAL:i[X]?ot.HORIZONTAL:u;return ht(p,r,o,o,l,c,this.view.renderCoordsHelper,a),!0}_clearPointerMoveTimeout(){this._prevPointerMoveTimeout=s(this._prevPointerMoveTimeout)}_resetPointerMoveTimeout(){this._clearPointerMoveTimeout(),this.shiftManipulator.state|=pt,this.rotateHeadingManipulator.state|=pt,this.rotateTiltManipulator.state|=pt,this._prevPointerMoveTimeout=this._clock.setTimeout((()=>{this.shiftManipulator.state&=~pt,this.rotateHeadingManipulator.state&=~pt,this.rotateTiltManipulator.state&=~pt}),this._pointerMoveTimerMs)}_updateManipulators(){if(Vt.disableEngineLayers)return;let t,e=!1;if(null!=this.analysisViewData.plane)t=this.analysisViewData.plane,e=!1;else{if(null==this._previewPlane)return this.shiftManipulator.available=!1,this.rotateHeadingManipulator.available=!1,this.rotateTiltManipulator.available=!1,this.resizeManipulators.forEach((t=>t.available=!1)),this._previewPlaneOutlineVisualElement.visible=!1,void(this._previewPlaneGridVisualElement.visible=!1);t=this._previewPlane,e=!0}const i=ut(t,G.get());e?(this.shiftManipulator.available=!1,this.rotateHeadingManipulator.available=!1,this.rotateTiltManipulator.available=!1,this.resizeManipulators.forEach((t=>t.available=!1)),this._previewPlaneOutlineVisualElement.attached=!0,this._previewPlaneGridVisualElement.attached=!0,this._previewPlaneOutlineVisualElement.visible=!0,this._previewPlaneGridVisualElement.visible=!0):(this.shiftManipulator.available=!0,this.rotateHeadingManipulator.available=!0,this.rotateTiltManipulator.available=this.analysis.tiltEnabled,this.resizeManipulators.forEach((t=>t.available=!0)),ct(this.shiftManipulator,i,t,this.view.state.camera),dt(this.rotateHeadingManipulator,i,t,this.view.renderCoordsHelper),_t(this.rotateTiltManipulator,i,t),this.resizeManipulators.forEach(((e,a)=>vt(e,this._resizeHandles[a],i,t))),this._previewPlaneOutlineVisualElement.visible=!1,this._previewPlaneGridVisualElement.visible=!1);const a=D(z.get(),y(t.basis1),y(t.basis2),1),s=_(G.get(),a),n=v(s,i,s);this._previewPlaneOutlineVisualElement.transform=n,this._previewPlaneGridVisualElement.transform=n,this._updateMaterials()}_updateMaterials(){const t=F(this.view.effectiveTheme);t[3]*=this._previewPlaneOpacity;const e=T(N);e[3]*=this._previewPlaneOpacity,this._previewPlaneOutlineVisualElement.color=t,this._previewPlaneGridVisualElement.backgroundColor=e,this._previewPlaneGridVisualElement.gridColor=E}_updateManipulatorsInteractive(t){if(!t.grabbing)return this.shiftManipulator.interactive=!0,this.rotateHeadingManipulator.interactive=!0,this.rotateTiltManipulator.interactive=!0,void this.resizeManipulators.forEach((t=>{t.interactive=!0}));this.shiftManipulator.interactive=this.shiftManipulator===t,this.rotateHeadingManipulator.interactive=this.rotateHeadingManipulator===t,this.rotateTiltManipulator.interactive=this.rotateTiltManipulator===t,this.resizeManipulators.forEach((e=>{e.interactive=e===t}))}get test(){return{plane:this.analysisViewData.plane,setPointerMoveTimerMs:t=>{this._pointerMoveTimerMs=t}}}};bt.disableEngineLayers=!1,t([u()],bt.prototype,\"_clock\",void 0),t([u({constructOnly:!0})],bt.prototype,\"view\",void 0),t([u()],bt.prototype,\"analysisViewData\",void 0),t([u({readOnly:!0})],bt.prototype,\"state\",null),t([u({readOnly:!0})],bt.prototype,\"cursor\",null),t([u()],bt.prototype,\"analysis\",null),t([u()],bt.prototype,\"removeIncompleteOnCancel\",void 0),t([u()],bt.prototype,\"_layersMode\",void 0),t([u()],bt.prototype,\"layersMode\",null),t([u({value:null})],bt.prototype,\"inputState\",null),t([u()],bt.prototype,\"_isPlacingSlicePlane\",null),t([u()],bt.prototype,\"_creatingPointerId\",null),bt=Vt=t([c(\"esri.views.3d.analysis.Slice.SliceTool\")],bt);const Tt=bt;function Et(t,e,i,a){const s=Pt(i,x(a),t.direction,C()),n=b();return R(s,t,n)?{type:\"shift\",creatingPointerId:e,hasBeenDragged:!1,shiftPlane:s,depth:0,startPoint:n}:null}function kt(t){return\"mouse\"!==t.pointerType||0===t.button}const St=k(),xt=I();export{Tt as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import{destroyMaybe as t}from\"../../../../core/maybe.js\";import{watch as s,syncAndInitial as o}from\"../../../../core/reactiveUtils.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromScaling as a,multiply as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{i as m,l as u}from\"../../../../chunks/vec32.js\";import{ZEROS as p}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{sv3d as c,sm4d as h}from\"../../../../geometry/support/vectorStacks.js\";import{getGridColor as d,getOutlineColor as v,planeColor as g}from\"./settings.js\";import{planePreviewOutlineWidth as w,planeOutlineWidth as V}from\"./sliceToolConfig.js\";import{createGridVisualElement as _,createOutlineVisualElement as f,calculateBoundedPlaneTranslateRotate as E}from\"./sliceToolUtils.js\";import{createStipplePatternSimple as j}from\"../../webgl-engine/materials/lineStippleUtils.js\";let b=class extends e{constructor(i){super(i),this._gridVisualElement=null,this._outlineVisualElement=null,this.showGrid=!1,this.preview=!0}initialize(){const i=this.analysisViewData;if(null==i)throw new Error(\"expected internal object to be valid\");this._gridVisualElement=_(this.view),this._outlineVisualElement=f(this.view),this.addHandles([s((()=>{const e=null!=i.plane&&this.analysisViewData.visible,{active:t}=this.analysisViewData,{preview:s,showGrid:o,view:r}=this,{effectiveTheme:l}=r;return{visible:e,active:t,preview:s,showGrid:o,gridColor:d(l),outlineColor:v(l)}}),(i=>this._updateMaterials(i)),o),s((()=>i.plane),(i=>this._updatePlane(i)),o)],\"internal\")}destroy(){this._gridVisualElement=t(this._gridVisualElement),this._outlineVisualElement=t(this._outlineVisualElement),this.set(\"view\",null)}_updatePlane(i){if(null==i)return;this._gridVisualElement.attached=!0,this._outlineVisualElement.attached=!0;const e=m(c.get(),u(i.basis1),u(i.basis2),1),t=a(h.get(),e),s=E(i,h.get()),o=n(t,s,t);this._outlineVisualElement.transform=o,this._gridVisualElement.transform=o}_updateMaterials({visible:i,active:e,preview:t,showGrid:s,gridColor:o,outlineColor:r}){this._outlineVisualElement.color=r,this._outlineVisualElement.width=t?w:V,this._outlineVisualElement.stipplePattern=e?null:j(5),this._gridVisualElement.backgroundColor=g,this._gridVisualElement.gridColor=s?o:p,this._gridVisualElement.visible=i,this._outlineVisualElement.visible=i}};i([r()],b.prototype,\"view\",void 0),i([r()],b.prototype,\"analysis\",void 0),i([r()],b.prototype,\"analysisViewData\",void 0),i([r()],b.prototype,\"showGrid\",void 0),i([r()],b.prototype,\"preview\",void 0),b=i([l(\"esri.views.3d.analysis.Slice.SliceVisualization\")],b);export{b as SliceVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import\"../../../core/has.js\";import{destroyMaybe as t}from\"../../../core/maybe.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AnalysisView3D as l}from\"./AnalysisView3D.js\";import{SliceController as e}from\"./Slice/SliceController.js\";import r from\"./Slice/SliceTool.js\";import{SliceVisualization as n}from\"./Slice/SliceVisualization.js\";import{connectAnalysisViewToTool as p,removeAnalysisViewTool as y}from\"../../analysis/analysisViewUtils.js\";let h=class extends(l(i)){constructor(s){super(s),this.type=\"slice-view-3d\",this.analysis=null,this.tool=null,this.analysisVisualization=null,this.analysisController=null,this.plane=null,this.active=!0}initialize(){this.analysisVisualization=new n({view:this.view,analysis:this.analysis,analysisViewData:this}),this.analysisController=new e({view:this.view,analysis:this.analysis,analysisViewData:this}),this.addHandles(p(this,r))}destroy(){y(this),this.analysisVisualization=t(this.analysisVisualization),this.analysisController=t(this.analysisController)}get showGrid(){return this.analysisVisualization?.showGrid??!1}set showGrid(s){this.analysisVisualization&&(this.analysisVisualization.showGrid=s)}get editable(){return!this.analysisVisualization.preview}set editable(s){this.analysisVisualization.preview=!s}get testData(){}};s([a({readOnly:!0})],h.prototype,\"type\",void 0),s([a({constructOnly:!0,nonNullable:!0})],h.prototype,\"analysis\",void 0),s([a()],h.prototype,\"tool\",void 0),s([a()],h.prototype,\"plane\",void 0),s([a()],h.prototype,\"active\",void 0),s([a()],h.prototype,\"showGrid\",null),s([a()],h.prototype,\"editable\",null),h=s([o(\"esri.views.3d.analysis.SliceAnalysisView3D\")],h);const c=h;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{deg2rad as o}from\"../../../../core/mathUtils.js\";const t=has(\"mac\")?\"Meta\":\"Control\",r=\"Shift\",s=2,a=1.15,c=1.15,m=2500,h=.02,e=Math.cos(o(45)),i=Math.cos(o(5)),f=.95,p=.3,M=2,j=1,l=3,n=11,x=22.5,C=40,S=48,U=2.25,b=4,d=1,g=.3,k=6,q=4,u=1600,v=.4;export{s as displayFocusMultiplier,t as forceHorizontalModifier,r as forceVerticalModifier,h as initialDepthOffsetFrac,v as initialPlaneHalfSizeViewProportion,u as planeMinBasisScreenLen2,j as planeOutlineWidth,M as planePreviewOutlineWidth,m as pointerMoveTimerMs,f as previewFadeDotThreshold,p as previewFadeDurationSeconds,k as resizeHandleCornerInputRadius,b as resizeHandleCornerWidth,q as resizeHandleEdgeInputRadius,g as resizeHandleEdgePaddingFrac,d as resizeHandleEdgeWidth,S as shiftRestartArrowLength,U as shiftRestartArrowOutlineWidth,C as shiftRestartOffsetDistance,c as shiftRestartTipFocusMultiplier,x as shiftRestartTipLength,n as shiftRestartTipRadius,a as shiftRestartTubeFocusMultiplier,l as shiftRestartTubeRadius,i as smallAngleDotThreshold,e as verticalDotThreshold};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst t=\"theme-style\";function e(t,e){return a(r(n(o(t),e)),e.size)}function n(e,{accentColor:n,contrastColor:o}){const r=n.toHex(),a=n.a,s=o.toHex(),i=o.a,c=e.getElementsByTagNameNS(\"http://www.w3.org/2000/svg\",\"style\").namedItem(t);return c&&(c.innerHTML=`\\n      .contrast-fill { fill: ${s}; fill-opacity: ${i}; }\\n      .contrast-stroke { stroke: ${s}; stroke-opacity: ${i};  }\\n      .accent-fill { fill: ${r}; fill-opacity: ${a}; }\\n      .accent-stroke { stroke: ${r}; stroke-opacity:  ${a}; }`),e}function o(t){const e=t.split(\",\")[1],n=atob(e);return(new DOMParser).parseFromString(n,\"image/svg+xml\")}function r(t){const e=(new XMLSerializer).serializeToString(t);return`data:image/svg+xml;base64,${btoa(e)}`}function a(t,e){const n=new Image(e,e);return n.src=t,n}export{e as generateStyledTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst I=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSIgdmVyc2lvbj0iMi4wIj48c3R5bGUgaWQ9InRoZW1lLXN0eWxlIj4uY29udHJhc3QtZmlsbHtmaWxsOiNmZmZ9LmNvbnRyYXN0LXN0cm9rZXtzdHJva2U6I2ZmZn0uYWNjZW50LWZpbGx7ZmlsbDojZmY3ZjAwO2ZpbGwtb3BhY2l0eTouNX08L3N0eWxlPjxwYXRoIGQ9Ik0yOCAwYTI4IDI4IDAgMSAxIDAgNTYgMjggMjggMCAwIDEgMC01NiIgY2xhc3M9ImFjY2VudC1maWxsIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSI0Ljk5IiBkPSJNMjAuMDUgNDAuODZhMTUuMDUgMTUuMDUgMCAwIDAgMTcuMTQtMS41IDE1LjA1IDE1LjA1IDAgMCAwIDQuNDctMTYuNjUgMTUuMDUgMTUuMDUgMCAwIDAtMjIuNzItNy4xNSAxNS4wNSAxNS4wNSAwIDAgMC01LjUgNy4xNSIgY2xhc3M9ImNvbnRyYXN0LXN0cm9rZSIvPjxwYXRoIGQ9Im0xMC45NyAzNS41NyA1LjM4IDEyLjA3IDcuNzktMTMuNDd6IiBjbGFzcz0iY29udHJhc3QtZmlsbCIvPjwvc3ZnPg==\";export{I as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst I=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSIgdmVyc2lvbj0iMi4wIj48c3R5bGUgaWQ9InRoZW1lLXN0eWxlIj4uY29udHJhc3QtZmlsbHtmaWxsOiNmZmZ9LmNvbnRyYXN0LXN0cm9rZXtzdHJva2U6I2ZmZn0uYWNjZW50LWZpbGx7ZmlsbDojZmY3ZjAwO2ZpbGwtb3BhY2l0eTouNX08L3N0eWxlPjxjaXJjbGUgY3g9IjM5LjQ3OCIgY3k9IjMuMDc4IiByPSIyOCIgY2xhc3M9ImFjY2VudC1maWxsIiB0cmFuc2Zvcm09InJvdGF0ZSg0MC41NDIpIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSI1IiBkPSJtNy4wNzQgMzAuMDUzIDI5LjM5NyAxMS45ODUtMy42NzMtMzMuNDkzIiBjbGFzcz0iY29udHJhc3Qtc3Ryb2tlIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSIyLjk5NiIgZD0iTTI0LjUwNCAyMy4yMDdhMTEuOTggMTEuOTggMCAwIDAtOS44IDcuNTA3IiBjbGFzcz0iY29udHJhc3Qtc3Ryb2tlIGNvbnRyYXN0LWZpbGwiLz48cGF0aCBkPSJtMjkuODE4IDIyLjgwOC02LjE4NCA0LjYtLjU0MS04LjM2NHoiIGNsYXNzPSJjb250cmFzdC1maWxsIi8+PC9zdmc+\";export{I as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{generateStyledTexture as t}from\"./generateTextures.js\";import o from\"./heading-rotate-svg.js\";import r from\"./tilt-rotate-svg.js\";import{Texture as e}from\"../../webgl-engine/lib/Texture.js\";const a=64;function l(r,l){const{accentColor:n,contrastColor:c,preMultiplyAlpha:i}=l;return r.fromData(`heading-rotate:[accent:${n},contrast:${c},size:${a}]`,(()=>new e(t(o,{accentColor:n,contrastColor:c,size:a}),{mipmap:!0,reloadable:!0,preMultiplyAlpha:i})))}function n(o,l){const{accentColor:n,contrastColor:c,preMultiplyAlpha:i}=l;return o.fromData(`tilt-rotate:[accent:${n},contrast:${c},size:${a}]`,(()=>new e(t(r,{accentColor:n,contrastColor:c,size:a}),{mipmap:!0,reloadable:!0,preMultiplyAlpha:i})))}export{l as getRotateHeadingTexture,n as getTiltRotateTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import{screenPointObjectToArray as e,castScreenPointArray as r,createScreenPointArray as n}from\"../../../../core/screenUtils.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{l as o,c as l,e as s,d as c,f as a,h as i,g as u}from\"../../../../chunks/vec32.js\";import{create as p}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectPoint as m}from\"../../../../geometry/projection.js\";import{intersectRay as d,create as f,getNormal as g,fromPositionAndNormal as E}from\"../../../../geometry/support/plane.js\";import{create as y,closestPoints as S}from\"../../../../geometry/support/ray.js\";import{projectPoint as j}from\"../../../../geometry/support/vector.js\";import{sv2d as v}from\"../../../../geometry/support/vectorStacks.js\";import{getZForElevationMode as R}from\"../../../../support/elevationInfoUtils.js\";import{fromScreen as x}from\"../../support/geometryUtils/ray.js\";import{newIntersector as b}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as w,IntersectorType as I}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{terrainId as H}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{EventPipeline as U}from\"../../../interactive/dragEventPipeline.js\";import O from\"../../../../geometry/Point.js\";function C(e,r){return T(e,(()=>r))}function P(e){return T(e,(e=>e.plane))}function T(n,t){const o=p(),l=p();let s=!1;return c=>{const a=t(c);if(\"start\"===c.action){const t=e(c.screenStart,r(v.get())),l=x(n.state.camera,t,Q);null!=l&&(s=d(a,l,o))}if(!s)return null;const i=e(c.screenEnd,r(v.get())),u=x(n.state.camera,i,Q);return null==u?null:d(a,u,l)?{...c,renderStart:o,renderEnd:l,plane:a,ray:u}:null}}function D(e,r,t=0,o=null,l=null){let s=null;return c=>{if(\"start\"===c.action&&(s=e.sceneIntersectionHelper.intersectElevationFromScreen(n(c.screenStart.x,c.screenStart.y),r,t,l),null!=s&&null!=o&&!m(s,s,o)))return null;if(null==s)return null;const a=e.sceneIntersectionHelper.intersectElevationFromScreen(n(c.screenEnd.x,c.screenEnd.y),r,t,l);return null!=a&&(null==o||m(a,a,o))?{...c,mapStart:s,mapEnd:a}:null}}function M(e,r,n,t=null,o=null){return D(e,n,R(r,e,n),t,o)}function N(e,r,n,t){const o=n.toMap(e.screenStart);return null!=o?M(r,o,n.elevationInfo,t):null}function h(e,r){const n=K,t=L,o=f();e.renderCoordsHelper.worldUpAtPosition(r,n);const l=s(g(o),n,c(t,r,e.state.camera.eye));return s(l,l,n),E(r,l,o)}function G(e,r,n){let t=null;const o=new U;return o.next(C(e,h(e,r))).next(k(e,r)).next(F(e,n)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,t=e})),e=>(t=null,o.execute(e),t)}function k(e,r){const n=p(),t=o(r);e.renderCoordsHelper.worldUpAtPosition(r,n);const s=p(),m=p(),d=l=>{if(c(l,l,r),j(n,l,l),\"global\"===e.viewingMode){o(l)*Math.sign(a(n,l))<.001-t&&c(l,i(l,n,.001),r)}return u(l,l,r),l};return e=>(e.renderStart=d(l(s,e.renderStart)),e.renderEnd=d(l(m,e.renderEnd)),e)}function A(n,t){const o=o=>{const l=e(o,r(J)),s=x(n.state.camera,l,Q);if(null==s)return null;const c=S(t,s,K,L);return c?.[0]};return e=>{const r=o(e.screenStart);if(null==r)return null;const n=o(e.screenEnd);return null==n?null:{...e,renderStart:r,renderEnd:n}}}function F(e,r){const n=e.renderCoordsHelper;return e=>{const t=n.fromRenderCoords(e.renderStart,new O({spatialReference:r})),o=n.fromRenderCoords(e.renderEnd,new O({spatialReference:r}));return null!=t&&null!=o?{...e,mapStart:t,mapEnd:o}:null}}var q;function z(e){let r=null;return n=>{switch(n.action){case\"start\":r=e.disableDisplay();break;case\"end\":case\"cancel\":null!=r&&(r.remove(),r=null)}return n}}function B(r,t=null){const o=b(r.state.viewingMode);o.options.selectionMode=!0,o.options.store=w.MIN,o.options.hud=!1;const l=n(),s={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},c=p(),a=t??r.spatialReference,i=n=>{r.map.ground&&r.map.ground.opacity<1?s.exclude.add(H):s.exclude.delete(H),r.sceneIntersectionHelper.intersectIntersectorScreen(e(n,l),o,s);const t=o.results.min;let i;if(t.getIntersectionPoint(c))i=t.intersector===I.TERRAIN?q.GROUND:q.OTHER;else{if(!o.results.ground.getIntersectionPoint(c))return null;i=q.GROUND}return{location:r.renderCoordsHelper.fromRenderCoords(c,new O({spatialReference:a})),surfaceType:i}};let u;return e=>{if(\"start\"===e.action){const r=i(e.screenStart);u=null!=r?r.location:null}if(null==u)return null;const r=i(e.screenEnd);return null!=r?.location?{...e,mapStart:u,mapEnd:r.location,surfaceType:r.surfaceType}:null}}!function(e){e[e.GROUND=0]=\"GROUND\",e[e.OTHER=1]=\"OTHER\"}(q||(q={}));const J=t(),K=p(),L=p(),Q=y();export{q as SurfaceType,F as convertToMapCoordinates,z as hideManipulatorWhileDragging,k as projectToWorldUp,B as screenToMap3D,M as screenToMapXYAtLocation,N as screenToMapXYForManipulatedObject,C as screenToRenderPlane,P as screenToRenderPlaneFromEvent,A as screenToRenderRay,G as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{VertexAttribute as O}from\"../lib/VertexAttribute.js\";const t=e().vec3f(O.POSITION),f=e().vec3f(O.POSITION).vec2f(O.UV0),r=e().vec3f(O.POSITION).vec4u8(O.COLOR),I=e().vec3f(O.POSITION).vec2f(O.UV0).vec4u8(O.OBJECTANDLAYERIDCOLOR);export{r as PositionColorLayout,t as PositionLayout,f as PositionUVLayout,I as PositionUVLayoutObjectAndLayerId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{NoParameters as t}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as s}from\"../lib/OITPass.js\";import{oitBlending as l,oitDepthTest as n,depthWrite as o,getDrawBuffers as a,getOITPolygonOffset as c}from\"../lib/OrderIndependentTransparency.js\";import{stencilWriteMaskOn as p,stencilToolMaskBaseParams as u,stencilBaseAllZerosParams as d}from\"../lib/StencilUtils.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{I as f}from\"../../../../chunks/ImageMaterial.glsl.js\";import{makePipelineState as h,blendWithPremultipliedAlpha as g,cullingParams as P,defaultColorWrite as j}from\"../../../webgl/renderState.js\";class b extends t{}class I extends i{constructor(e,t,i){super(e,t,new r(f,(()=>import(\"./ImageMaterial.glsl.js\"))),i,S)}_getPipelineState(t,r){const{oitPass:i,output:m,hasOccludees:f,enableOffset:b,cullFace:I}=t,S=i===s.NONE,O=i===s.FrontFace;return h({blending:m===e.Color?S?g:l(i):null,culling:P(I),depthTest:{func:n(i)},depthWrite:o(t),drawBuffers:a(i,m),colorWrite:j,stencilWrite:f?p:null,stencilTest:f?r?u:d:null,polygonOffset:S||O?null:c(b)})}initializePipeline(e){return this._occludeePipeline=this._getPipelineState(e,!0),this._getPipelineState(e,!1)}getPipeline(e){return e?this._occludeePipeline:super.getPipeline()}}const S=new Map([[m.POSITION,0],[m.UV0,2],[m.PERSPECTIVEDIVIDE,3]]);export{b as ImageMaterialPassParameters,I as ImageMaterialTechnique,S as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as t}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as r}from\"../lib/basicInterfaces.js\";import{DefaultTechniqueConfiguration as s}from\"../materials/DefaultTechniqueConfiguration.js\";class a extends s{constructor(){super(...arguments),this.cullFace=r.None,this.hasSlicePlane=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.perspectiveInterpolation=!0,this.textureCoordinateType=t.None,this.emissionSource=o.None,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.objectAndLayerIdColorInstanced=!1}}e([i({count:r.COUNT})],a.prototype,\"cullFace\",void 0),e([i()],a.prototype,\"hasSlicePlane\",void 0),e([i()],a.prototype,\"enableOffset\",void 0),e([i()],a.prototype,\"writeDepth\",void 0),e([i()],a.prototype,\"hasOccludees\",void 0),e([i()],a.prototype,\"terrainDepthTest\",void 0),e([i()],a.prototype,\"cullAboveTerrain\",void 0),e([i()],a.prototype,\"perspectiveInterpolation\",void 0);export{a as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{BufferViewFloat as e}from\"../../../../geometry/support/buffer/BufferView.js\";import{isHighlightOrOID as t,isColor as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as i}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as s}from\"../lib/GLTextureMaterial.js\";import{MaterialParameters as a}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as o}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as n}from\"../lib/RenderSlot.js\";import{assert as u}from\"../lib/Util.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as l}from\"./DefaultBufferWriter.js\";import{PositionUVLayout as p}from\"./DefaultLayouts.js\";import{TriangleMaterial as h}from\"./TriangleMaterial.js\";import{writeBufferFloat as f,writeDefaultAttribute as m}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as T,ImageMaterialTechnique as g}from\"../shaders/ImageMaterialTechnique.js\";import{ImageMaterialTechniqueConfiguration as d}from\"../shaders/ImageMaterialTechniqueConfiguration.js\";class I extends h{constructor(e){super(e,b),this._configuration=new d,this.vertexAttributeLocations=T,this.supportsEdges=!0,this.produces=new Map([[n.OPAQUE_MATERIAL,e=>t(e)],[n.TRANSPARENT_MATERIAL,e=>r(e)&&this.parameters.writeDepth],[n.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>r(e)&&!this.parameters.writeDepth],[n.DRAPED_MATERIAL,e=>r(e)||t(e)]])}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=t.hasOccludees,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<o,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}get visible(){return!0}createGLMaterial(e){return new _(e)}createBufferWriter(){const e=p.clone();return this.parameters.perspectiveInterpolation&&e.f32(c.PERSPECTIVEDIVIDE),new E(e)}}class _ extends s{constructor(e){super({...e,...e.material.parameters})}beginSlot(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.acquireTechnique(g,e)}}class E extends l{write(t,r,i,s,a,o){for(const n of this.vertexBufferLayout.fields.keys()){const s=i.get(n);if(s)if(n===c.PERSPECTIVEDIVIDE){u(1===s.size);const t=a.getField(n,e);t&&f(s,t,o)}else m(n,s,t,r,a,o)}}}class b extends a{constructor(){super(...arguments),this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=i.None,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0,this.perspectiveInterpolation=!1}}export{I as ImageMaterial,b as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{Material as r}from\"../lib/Material.js\";import{intersectTriangleGeometry as t}from\"../lib/RayIntersections.js\";class e extends r{intersect(r,e,i,s,o,n){return t(r,i,s,o,void 0,n)}}export{e as TriangleMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst t={dash:[4,3],dot:[1,3],\"long-dash\":[8,3],\"short-dash\":[4,1],\"short-dot\":[1,1]},o={dash:t.dash,\"dash-dot\":[...t.dash,...t.dot],dot:t.dot,\"long-dash\":t[\"long-dash\"],\"long-dash-dot\":[...t[\"long-dash\"],...t.dot],\"long-dash-dot-dot\":[...t[\"long-dash\"],...t.dot,...t.dot],none:null,\"short-dash\":t[\"short-dash\"],\"short-dash-dot\":[...t[\"short-dash\"],...t[\"short-dot\"]],\"short-dash-dot-dot\":[...t[\"short-dash\"],...t[\"short-dot\"],...t[\"short-dot\"]],\"short-dot\":t[\"short-dot\"],solid:null},d=8;function s(t,o){return null==t?t:{pattern:t.slice(),pixelRatio:o}}function h(t){return{pattern:[t,t],pixelRatio:2}}function n(t){return\"style\"===t?.type?l(t.style):null}function l(t){return null!=t?s(o[t],d):null}export{h as createStipplePatternSimple,n as getStipplePatternForLinePattern,l as getStipplePatternForPatternStyle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{removeMaybe as t}from\"../../core/maybe.js\";import{onAbort as i}from\"../../core/promiseUtils.js\";import{whenOnce as e,watch as n,syncAndInitial as r}from\"../../core/reactiveUtils.js\";function l(n,r){n.interactive=!0;const{tool:l,view:a}=n;a.activeTool=l;let c=i(r,(()=>{a.activeTool===l&&(a.activeTool=null)}));return o((async o=>{await e((()=>null==l||!l.active),o),c=t(c)}),r)}function a(o,t){return n((()=>o.interactive),(()=>c(o,t)),r)}function c(o,t){o.interactive?s(o,t):v(o)}function s(o,t){v(o);const{view:i,analysis:e}=o,n=new t({view:i,analysis:e,analysisViewData:o});return o.tool=n,i.tools.add(n),n}function v(o){const{view:t,tool:i}=o;null!=i&&(t.tools.remove(i),o.tool=null)}export{l as activateAnalysisViewTool,a as connectAnalysisViewToTool,v as removeAnalysisViewTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{watch as e,syncAndInitial as t}from\"../../core/reactiveUtils.js\";import\"../../core/Logger.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import{InteractiveToolBase as i}from\"./InteractiveToolBase.js\";let o=class extends i{constructor(s){super(s)}initialize(){this.addHandles(e((()=>this.analysisViewData.visible),(s=>this.visible=s),t))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set(\"created\",!1)}};o=s([r(\"esri.views.interactive.AnalysisToolBase\")],o);export{o as AnalysisToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{newIntersector as e}from\"../3d/webgl-engine/lib/Intersector.js\";import{StoreResults as o}from\"../3d/webgl-engine/lib/IntersectorInterfaces.js\";function t(t){const n=e(t);return n.options.store=o.MIN,n.options.excludeLabels=!0,n}export{t as newToolIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{floatEqualAbsolute as t}from\"../../core/mathUtils.js\";import{distance as n,dot as r,squaredLength as e,scale as s,subtract as o,add as c,scaleAndAdd as u,copy as i,length as f}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{clone as a,create as p}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";function m(t,n){return t[0]*n[1]-t[1]*n[0]}function h(t,r,e){const s=(r[0]-t[0])*(e[1]-t[1])-(r[1]-t[1])*(e[0]-t[0]);return Math.abs(s)/n(r,e)}function E(t,n,o){const c=r(o,n)/e(o);return s(t,o,c)}function I(t,n,r,e,s=r){return o(x,e,r),o(g,n,s),E(A,g,x),c(t,s,A)}function L(t,n,s,c){o(x,c,s),o(g,n,s);const f=r(x,g)/e(x);return f>0?u(t,s,x,f):i(t,s)}function N(t,n,r,e){o(x,n,r);const s=e/f(x);return u(t,r,x,s)}function l(n,r){return I(g,r,n.start,n.end),t(g[0],r[0])&&t(g[1],r[1])?[a(r)]:[]}function y(n,r,e){return N(g,e,n,r),t(g[0],e[0])&&t(g[1],e[1])?[a(e)]:[]}function b(t,n){const r=t.start,e=t.end,s=n.start,c=n.end,i=o(x,e,r),f=o(M,c,s),a=m(i,f);if(Math.abs(a)<=v)return[];const p=o(g,r,s),h=m(f,p)/a,E=m(i,p)/a;if(h>=0){if(E>=0||n.type===j.LINE)return[u(A,r,i,h)]}else if(t.type===j.LINE&&(E>=0||n.type===j.LINE))return[u(A,r,i,h)];return[]}function d(t,n,s){const c=[],i=o(x,t.end,t.start),f=o(M,t.start,n),a=e(i),p=2*r(i,f),m=p*p-4*a*(e(f)-s*s);if(0===m){const n=-p/(2*a);(t.type===j.LINE||n>=0)&&c.push(u(A,t.start,i,n))}else if(m>0){const n=Math.sqrt(m),r=(-p+n)/(2*a);(t.type===j.LINE||r>=0)&&c.push(u(A,t.start,i,r));const e=(-p-n)/(2*a);(t.type===j.LINE||e>=0)&&c.push(u(g,t.start,i,e))}return c}var j;!function(t){t[t.RAY=0]=\"RAY\",t[t.LINE=1]=\"LINE\"}(j||(j={}));const v=1e-6,x=p(),M=p(),g=p(),A=p();export{j as LineType,m as cross,y as intersectCircleAndPoint,l as intersectLineAndPoint,b as intersectLineAndRay,d as intersectLineLikeAndCircle,h as pointToLineDistance,E as projectPoint,N as projectPointToCircle,I as projectPointToLine,L as projectPointToRay};\n"],"names":["c","u","l","vertex","m","fragment","b","n","include","i","t","r","o","v","attributes","add","p","POSITION","UV0","perspectiveInterpolation","PERSPECTIVEDIVIDE","varyings","terrainDepthTest","main","a","_templateObject","_taggedTemplateLiteral","uniforms","g","e","texture","d","opacity","s","_templateObject2","output","ObjectAndLayerIdColor","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","Q","E","LoadableMixin","constructor","super","this","type","nodePages","materialDefinitions","textureSetDefinitions","geometryDefinitions","indexInfo","serviceUpdateTimeStamp","store","attributeStorageInfo","fields","associatedLayer","outFields","listMode","renderer","definitionExpression","popupEnabled","popupTemplate","layerType","parsedUrl","_this$layer$parsedUrl","_this$layer$parsedUrl2","layer","path","concat","id","query","fieldsIndex","L","readAssociatedLayer","associatedFeatureServiceItem","associatedLayerID","f","portalItem","customParameters","layerId","objectIdField","name","displayField","apiKey","fullExtent","spatialReference","version","elevationInfo","minScale","maxScale","effectiveScaleRange","defaultPopupTemplate","createPopupTemplate","load","signal","_fetchService","then","S","rootNode","getLogger","addResolvingPromise","Promise","resolve","q","_objectSpread","token","responseType","data","read","origin","url","getField","get","getFieldDomain","_this$getFeatureType","_this$getField$domain","_this$getField","getFeatureType","feature","domains","domain","types","_this$associatedLayer","typeIdField","geometryType","profile","capabilities","j","supportsZ","supportsM","isVersioned","createQuery","P","returnGeometry","returnZ","where","sqlFormat","queryExtent","_getAssociatedLayerForQuery","queryFeatureCount","queryFeatures","features","sourceLayer","queryObjectIds","queryCachedAttributes","I","U","D","R","queryCachedFeature","length","getFieldUsageInfo","has","supportsLabelingInfo","supportsRenderer","supportsPopupTemplate","supportsLayerQuery","loaded","_loadAssociatedLayerForQuery","error","readOnly","prototype","F","w","O","x","String","json","source","y","h","T","Number","write","origins","service","enabled","allowNull","target","Point","A","title","modelName","isEmpty","legendEnabled","visible","readTitle","alias","readIdOnlyOnce","ignoreOrigin","Boolean","nonNullable","arguments","parent","_userInteractive","_interactiveViewModelCount","interactive","updating","suspended","_overrideIfSome","forceInteractiveForViewModel","constructOnly","_internalChange","_currentSlicePlane","initialize","addHandles","analysis","excludedLayers","on","item","preventDefault","includes","_f$get","set","all","activeController","push","V","view","analysisViewData","plane","_updateSlicePlaneFromBoundedPlane","_updateLayerViews","sync","excludeGroundSurface","active","_updateActiveController","_updateViewSlicePlane","_allLayerAndSubLayerViews","shape","_updateBoundedPlaneFromSlicePlane","destroy","slicePlane","_a$all$lastIndexOf","Error","lastIndexOf","splice","delete","allLayerViews","items","filter","flatMap","_ref","sublayerViews","equals","position","tiltEnabled","heading","tilt","width","height","_","layers","forEach","destroyed","slicePlaneEnabled","sublayer","basemapTerrain","Map","Vt","bt","gt","_clock","_previewPlaneOpacity","removeIncompleteOnCancel","_layersMode","shiftManipulator","rotateHeadingManipulator","rotateTiltManipulator","resizeManipulators","_frameTask","_pointerMoveTimerMs","W","_prevPointerMoveTimeout","_previewPlaneGridVisualElement","_previewPlaneOutlineVisualElement","_startPlane","k","_previewPlane","_activeKeyModifiers","_lastCursorPosition","_resizeHandles","direction","_intersector","Mt","state","viewingMode","_this$view$_stage","_updateManipulatorsInteractive","grabbing","inputState","Z","CENTER_ON_ARROW","manipulators","_createShiftDragPipeline","events","_onShiftGrab","_stage","renderView","renderingContext","driverTest","svgPremultipliesAlpha","result","B","textures","accentColor","contrastColor","preMultiplyAlpha","_createRotateHeadingDragPipeline","_onRotateHeadingGrab","_createRotateTiltDragPipeline","_onRotateTiltGrab","map","K","_createResizeDragPipeline","_onResizeGrab","addMany","et","it","J","_updateManipulators","finishToolCreation","camera","_onCameraChange","_removeFrameTask","_clearPointerMoveTimeout","cursor","_isPlacingSlicePlane","layersMode","_creatingPointerId","removeHandles","_set","_get","showGrid","_updateMaterials","creatingPointerId","enterExcludeLayerMode","activeTool","exitExcludeLayerMode","onDeactivate","_updatePreviewPlane","onShow","_updateVisibility","onHide","onInputEvent","kt","_onClickPlacePlane","stopPropagation","_onPointerDrag","_onPointerMove","_onPointerUp","_onClickExcludeLayer","_onKeyDown","_onKeyUp","onEditableChange","editable","internallyEditable","pointerId","Dt","emit","action","hasBeenDragged","pointerType","start","screenPoint","_resetPointerMoveTimeout","_pickPlane","wt","xt","Et","at","created","hitTest","results","graphic","ground","key","X","renderLocation","ft","next","mt","shiftPlane","_shiftDragAdjustSensitivity","_shiftDragUpdatePlane","_updateBoundedPlane","Math","min","abs","ray","H","renderEnd","startPoint","depth","z","basis1","basis2","st","renderCoordsHelper","nt","HEADING","C","rotatePlane","_rotateDragRenderPlaneToRotate","_rotateDragUpdatePlaneFromRotate","TILT","yt","rotateAxis","rotateAngle","G","activeHandleIdx","_resizeDragUpdatePlane","rt","undefined","St","Y","M","update","deltaTime","$","_pickMinResult","sceneIntersectionHelper","intersectToolIntersectorScreen","getIntersectionPoint","getTransformedNormal","viewForward","lt","tt","ot","TILTED","HORIZONTAL_OR_VERTICAL","VERTICAL","HORIZONTAL","ht","pt","setTimeout","disableEngineLayers","available","ut","attached","ct","dt","_t","vt","transform","effectiveTheme","N","color","backgroundColor","gridColor","test","setPointerMoveTimerMs","Tt","Pt","button","_gridVisualElement","_outlineVisualElement","preview","outlineColor","_updatePlane","stipplePattern","tool","analysisVisualization","analysisController","_this$analysisVisuali","_this$analysisVisuali2","testData","cos","Image","src","XMLSerializer","serializeToString","btoa","split","atob","DOMParser","parseFromString","size","toHex","getElementsByTagNameNS","namedItem","innerHTML","fromData","mipmap","reloadable","screenStart","screenEnd","renderStart","intersectElevationFromScreen","mapStart","mapEnd","toMap","worldUpAtPosition","eye","sign","execute","fromRenderCoords","disableDisplay","remove","options","selectionMode","MIN","hud","requiresGroundFeedback","enableDraped","exclude","Set","intersectIntersectorScreen","intersector","TERRAIN","GROUND","OTHER","location","surfaceType","vec3f","vec2f","vec4u8","COLOR","OBJECTANDLAYERIDCOLOR","_getPipelineState","oitPass","hasOccludees","enableOffset","cullFace","NONE","FrontFace","blending","Color","culling","depthTest","func","depthWrite","drawBuffers","colorWrite","stencilWrite","stencilTest","polygonOffset","initializePipeline","_occludeePipeline","getPipeline","None","hasSlicePlane","writeDepth","cullAboveTerrain","textureCoordinateType","emissionSource","discardInvisibleFragments","occlusionPass","objectAndLayerIdColorInstanced","count","COUNT","_configuration","vertexAttributeLocations","supportsEdges","produces","OPAQUE_MATERIAL","TRANSPARENT_MATERIAL","parameters","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","DRAPED_MATERIAL","getConfiguration","relativeElevation","createGLMaterial","createBufferWriter","clone","f32","material","beginSlot","updateTexture","_material","textureId","setParameters","textureBindParameters","acquireTechnique","vertexBufferLayout","keys","initTextureTransparent","intersect","dash","dot","none","solid","pattern","pixelRatio","slice","style","async","tools","deactivate","clear","resetCreated","excludeLabels","end","LINE","sqrt","RAY"],"sourceRoot":""}