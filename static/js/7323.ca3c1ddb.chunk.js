"use strict";(self.webpackChunksc_viaduct=self.webpackChunksc_viaduct||[]).push([[7323,7040],{52007:(e,t,r)=>{r.d(t,{a:()=>s,f:()=>i,n:()=>o});var n=r(78393);function o(e,t){s(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function s(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;const s=t.length/2;let i=0,l=0;if((0,n.cy)(t)||(0,n.dk)(t)){for(let n=0;n<s;++n)e[i]=t[l],e[i+1]=t[l+1],i+=r,l+=o;return}const u=(0,n.a3)(t);if((0,n.JI)(t))for(let n=0;n<s;++n)e[i]=Math.max(t[l]/u,-1),e[i+1]=Math.max(t[l+1]/u,-1),i+=r,l+=o;else for(let n=0;n<s;++n)e[i]=t[l]/u,e[i+1]=t[l+1]/u,i+=r,l+=o}function i(e,t,r,n){var o,s;const i=e.typedBuffer,l=e.typedBufferStride,u=null!==(o=null===n||void 0===n?void 0:n.count)&&void 0!==o?o:e.count;let a=(null!==(s=null===n||void 0===n?void 0:n.dstIndex)&&void 0!==s?s:0)*l;for(let c=0;c<u;++c)i[a]=t,i[a+1]=r,a+=l}Object.freeze(Object.defineProperty({__proto__:null,fill:i,normalizeIntegerBuffer:s,normalizeIntegerBufferView:o},Symbol.toStringTag,{value:"Module"}))},2e3:(e,t,r)=>{function n(e,t){o(e.typedBuffer,t,e.typedBufferStride)}function o(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;const n=t.typedBuffer,o=t.typedBufferStride,s=t.count;let i=0,l=0;for(let u=0;u<s;++u)e[i]=n[l],e[i+1]=n[l+1],e[i+2]=n[l+2],e[i+3]=n[l+3],i+=r,l+=o}function s(e,t,r,n,o,s){var i,l;const u=e.typedBuffer,a=e.typedBufferStride,c=null!==(i=null===s||void 0===s?void 0:s.count)&&void 0!==i?i:e.count;let d=(null!==(l=null===s||void 0===s?void 0:s.dstIndex)&&void 0!==l?l:0)*a;for(let f=0;f<c;++f)u[d]=t,u[d+1]=r,u[d+2]=n,u[d+3]=o,d+=a}r.d(t,{a:()=>o,c:()=>n,f:()=>s});Object.freeze(Object.defineProperty({__proto__:null,copy:o,copyView:n,fill:s},Symbol.toStringTag,{value:"Module"}))},93795:(e,t,r)=>{function n(e){return e=e||globalThis.location.hostname,a.some((t=>{var r;return null!=(null===(r=e)||void 0===r?void 0:r.match(t))}))}function o(e,t){return e?(t=t||globalThis.location.hostname)?null!=t.match(s)||null!=t.match(l)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=t.match(i)||null!=t.match(u)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e:null}r.d(t,{EM:()=>o,b5:()=>n});const s=/^devext\.arcgis\.com$/,i=/^qaext\.arcgis\.com$/,l=/^[\w-]*\.mapsdevext\.arcgis\.com$/,u=/^[\w-]*\.mapsqa\.arcgis\.com$/,a=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local\.esri\.com$/,s,i,/^jsapps\.esri\.com$/,l,u]},54439:(e,t,r)=>{r.d(t,{G:()=>i});var n=r(44680),o=r(59422),s=r(86300);function i(e){if(null==e)return null;const t=null!=e.offset?e.offset:o.uY,r=null!=e.rotation?e.rotation:0,i=null!=e.scale?e.scale:o.Un,l=(0,n.fA)(1,0,0,0,1,0,t[0],t[1],1),u=(0,n.fA)(Math.cos(r),-Math.sin(r),0,Math.sin(r),Math.cos(r),0,0,0,1),a=(0,n.fA)(i[0],0,0,0,i[1],0,0,0,1),c=(0,n.vt)();return(0,s.lw)(c,u,a),(0,s.lw)(c,l,c),c}},420:(e,t,r)=>{r.d(t,{x:()=>i});var n=r(78393),o=r(38496),s=r(93345);function i(e,t){switch(t){case s.WR.TRIANGLES:return"number"==typeof(r=e)?(0,o.tM)(r):(0,n.mg)(r)?new Uint16Array(r):r;case s.WR.TRIANGLE_STRIP:return function(e){const t="number"==typeof e?e:e.length;if(t<3)return[];const r=t-2,n=(0,o.my)(3*r);if("number"==typeof e){let e=0;for(let t=0;t<r;t+=1)t%2==0?(n[e++]=t,n[e++]=t+1,n[e++]=t+2):(n[e++]=t+1,n[e++]=t,n[e++]=t+2)}else{let t=0;for(let o=0;o<r;o+=1)o%2==0?(n[t++]=e[o],n[t++]=e[o+1],n[t++]=e[o+2]):(n[t++]=e[o+1],n[t++]=e[o],n[t++]=e[o+2])}return n}(e);case s.WR.TRIANGLE_FAN:return function(e){const t="number"==typeof e?e:e.length;if(t<3)return new Uint16Array(0);const r=t-2,n=r<=65536?new Uint16Array(3*r):new Uint32Array(3*r);if("number"==typeof e){let e=0;for(let t=0;t<r;++t)n[e++]=0,n[e++]=t+1,n[e++]=t+2;return n}const o=e[0];let s=e[1],i=0;for(let l=0;l<r;++l){const t=e[l+2];n[i++]=o,n[i++]=s,n[i++]=t,s=t}return n}(e)}var r}},37040:(e,t,r)=>{r.d(t,{KB:()=>l,Xi:()=>s,pn:()=>u,x3:()=>i});var n=r(81806),o=r(83490);class s{constructor(e){this.data=e,this.type="encoded-mesh-texture",this.encoding=o.JS.KTX2_ENCODING}}function i(e){return"encoded-mesh-texture"===(null===e||void 0===e?void 0:e.type)}async function l(e){const t=new Blob([e]),r=await t.text();return JSON.parse(r)}async function u(e,t){if(t===o.JS.KTX2_ENCODING)return new s(e);const r=new Blob([e],{type:t}),i=URL.createObjectURL(r),l=new Image;if((0,n.A)("esri-iPhone"))return new Promise(((e,t)=>{const r=()=>{o(),e(l)},n=e=>{o(),t(e)},o=()=>{URL.revokeObjectURL(i),l.removeEventListener("load",r),l.removeEventListener("error",n)};l.addEventListener("load",r),l.addEventListener("error",n),l.src=i}));try{l.src=i,await l.decode()}catch(u){console.warn("Failed decoding HTMLImageElement")}return URL.revokeObjectURL(i),l}},7323:(e,t,r)=>{r.d(t,{fetch:()=>P});var n=r(8),o=r(93795),s=r(15941),i=r(86300),l=r(44680),u=r(34761),a=r(13191),c=r(72745),d=r(20664),f=r(9392),m=r(42294),h=r(75002),p=r(88105),x=r(45136),g=r(33328),v=r(52007),y=r(64591),b=r(2e3),T=r(11109),w=r(420),B=r(37040),R=r(54439);class S{constructor(){this.geometries=new Array,this.materials=new Array,this.textures=new Array}}class M{constructor(e,t,r){this.name=e,this.lodThreshold=t,this.pivotOffset=r,this.stageResources=new S,this.numberOfVertices=0}}var A=r(14766),E=r(59046),I=r(50468),O=r(83490),L=r(17345),F=r(96897),N=r(66470),C=r(61895),U=r(50791),_=r(78992);async function P(e,t){var l;const S=function(e){const t=e.match(/(.*\.(gltf|glb))(\?lod=([0-9]+))?$/);return t?{fileType:"gltf",url:t[1],specifiedLodIndex:null!=t[4]?Number(t[4]):null}:e.match(/(.*\.(json|json\.gz))$/)?{fileType:"wosr",url:e,specifiedLodIndex:null}:{fileType:"unknown",url:e,specifiedLodIndex:null}}((0,o.EM)(e));if("wosr"===S.fileType){const e=await(t.cache?t.cache.loadWOSR(S.url,t):(0,A.Hh)(S.url,t)),{engineResources:r,referenceBoundingBox:n}=(0,A.FJ)(e,t);return{lods:r,referenceBoundingBox:n,isEsriSymbolResource:!1,isWosr:!0}}let P;if(t.cache)P=await t.cache.loadGLTF(S.url,t,!!t.usePBR);else{const{loadGLTF:e}=await r.e(6516).then(r.bind(r,56516));P=await e(new T.R(t.streamDataRequester),S.url,t,t.usePBR)}const k=null===(l=P.model.meta)||void 0===l?void 0:l.ESRI_proxyEllipsoid,$=P.meta.isEsriSymbolResource&&null!=k&&"EsriRealisticTreesStyle"===P.meta.ESRI_webstyle;$&&!P.customMeta.esriTreeRendering&&(P.customMeta.esriTreeRendering=!0,function(e,t){for(let r=0;r<e.model.lods.length;++r){const n=e.model.lods[r];for(const o of n.parts){const n=o.attributes.normal;if(null==n)return;const s=o.attributes.position,i=s.count,l=(0,f.vt)(),c=(0,f.vt)(),m=(0,f.vt)(),h=new Uint8Array(4*i),x=new Float64Array(3*i),g=(0,u.B8)((0,a.vt)(),o.transform);let v=0,y=0;for(let u=0;u<i;u++){s.getVec(u,c),n.getVec(u,l),(0,d.t)(c,c,o.transform),(0,d.d)(m,c,t.center),(0,d.E)(m,m,t.radius);const i=m[2],a=(0,d.l)(m),f=Math.min(.45+.55*a*a,1);(0,d.E)(m,m,t.radius),null!==g&&(0,d.t)(m,m,g),(0,d.n)(m,m),r+1!==e.model.lods.length&&e.model.lods.length>1&&(0,d.m)(m,m,l,i>-1?.2:Math.min(-4*i-3.8,1)),x[v]=m[0],x[v+1]=m[1],x[v+2]=m[2],v+=3,h[y]=255*f,h[y+1]=255*f,h[y+2]=255*f,h[y+3]=255,y+=4}o.attributes.normal=new p.xs(x),o.attributes.color=new p.XP(h)}}}(P,k));const j=!!t.usePBR,V=P.meta.isEsriSymbolResource?{usePBR:j,isSchematic:!1,treeRendering:$,mrrFactors:_.SY}:{usePBR:j,isSchematic:!1,treeRendering:!1,mrrFactors:_.mb},q=(0,n.A)((0,n.A)({},t.materialParameters),{},{treeRendering:$}),{engineResources:z,referenceBoundingBox:W}=function(e,t,r,o,l){const u=e.model,a=new Array,d=new Map,f=new Map,T=u.lods.length,S=(0,m.Ie)();return u.lods.forEach(((e,A)=>{const P=!0===o.skipHighLods&&(T>1&&0===A||T>3&&1===A)||!1===o.skipHighLods&&null!=l&&A!==l;if(P&&0!==A)return;const k=new M(e.name,e.lodThreshold,[0,0,0]);e.parts.forEach((e=>{const l=P?new C.$U({},o):function(e,t,r,o,s,i,l,u){const a=t.material+(t.attributes.normal?"_normal":"")+(t.attributes.color?"_color":"")+(t.attributes.texCoord0?"_texCoord0":"")+(t.attributes.tangent?"_tangent":""),d=e.materials.get(t.material),f=null!=t.attributes.texCoord0,m=null!=t.attributes.normal;if(null==d)return null;const h=function(e){switch(e){case"BLEND":return O.sf.Blend;case"MASK":return O.sf.Mask;case"OPAQUE":case null:case void 0:return O.sf.Opaque}}(d.alphaMode);if(!i.has(a)){var p,x;if(f){const t=function(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=t&&!l.has(t)){const o=e.textures.get(t);if(null!=o){const e=o.data;l.set(t,new F.g((0,B.x3)(e)?e.data:e,(0,n.A)((0,n.A)({},o.parameters),{},{preMultiplyAlpha:!(0,B.x3)(e)&&r,encoding:(0,B.x3)(e)&&null!=e.encoding?e.encoding:void 0})))}}};t(d.textureColor,h!==O.sf.Opaque),t(d.textureNormal),t(d.textureOcclusion),t(d.textureEmissive),t(d.textureMetallicRoughness)}const r=d.color[0]**(1/U.T),g=d.color[1]**(1/U.T),v=d.color[2]**(1/U.T),y=d.emissiveFactor[0]**(1/U.T),b=d.emissiveFactor[1]**(1/U.T),T=d.emissiveFactor[2]**(1/U.T),w=null!=d.textureColor&&f?l.get(d.textureColor):null,S=(0,_.Jr)({normalTexture:d.textureNormal,metallicRoughnessTexture:d.textureMetallicRoughness,metallicFactor:d.metallicFactor,roughnessFactor:d.roughnessFactor,emissiveTexture:d.textureEmissive,emissiveFactor:d.emissiveFactor,occlusionTexture:d.textureOcclusion}),M=null!=(null===(p=d.normalTextureTransform)||void 0===p?void 0:p.scale)?null===(x=d.normalTextureTransform)||void 0===x?void 0:x.scale:c.Un;i.set(a,new C.$U((0,n.A)((0,n.A)({},o),{},{transparent:h===O.sf.Blend,customDepthTest:O.it.Lequal,textureAlphaMode:h,textureAlphaCutoff:d.alphaCutoff,diffuse:[r,g,v],ambient:[r,g,v],opacity:d.opacity,doubleSided:d.doubleSided,doubleSidedType:"winding-order",cullFace:d.doubleSided?O.s2.None:O.s2.Back,hasVertexColors:!!t.attributes.color,hasVertexTangents:!!t.attributes.tangent,normalType:m?E.W.Attribute:E.W.ScreenDerivative,castShadows:!0,receiveShadows:d.receiveShadows,receiveAmbientOcclusion:d.receiveAmbientOcclustion,textureId:null!=w?w.id:void 0,colorMixMode:d.colorMixMode,normalTextureId:null!=d.textureNormal&&f?l.get(d.textureNormal).id:void 0,textureAlphaPremultiplied:null!=w&&!!w.parameters.preMultiplyAlpha,occlusionTextureId:null!=d.textureOcclusion&&f?l.get(d.textureOcclusion).id:void 0,emissiveTextureId:null!=d.textureEmissive&&f?l.get(d.textureEmissive).id:void 0,metallicRoughnessTextureId:null!=d.textureMetallicRoughness&&f?l.get(d.textureMetallicRoughness).id:void 0,emissiveFactor:[y,b,T],mrrFactors:S?_.Bt:[d.metallicFactor,d.roughnessFactor,o.mrrFactors[2]],isSchematic:S,colorTextureTransformMatrix:(0,R.G)(d.colorTextureTransform),normalTextureTransformMatrix:(0,R.G)(d.normalTextureTransform),scale:[M[0],M[1]],occlusionTextureTransformMatrix:(0,R.G)(d.occlusionTextureTransform),emissiveTextureTransformMatrix:(0,R.G)(d.emissiveTextureTransform),metallicRoughnessTextureTransformMatrix:(0,R.G)(d.metallicRoughnessTextureTransform)},s),u))}const g=i.get(a);if(r.stageResources.materials.push(g),f){const e=e=>{null!=e&&r.stageResources.textures.push(l.get(e))};e(d.textureColor),e(d.textureNormal),e(d.textureOcclusion),e(d.textureEmissive),e(d.textureMetallicRoughness)}return g}(u,e,k,t,r,d,f,o),{geometry:a,vertexCount:T}=function(e,t){const r=e.attributes.position.count,n=(0,w.x)(e.indices||r,e.primitiveType),o=(0,h.oe)(3*r),{typedBuffer:l,typedBufferStride:u}=e.attributes.position;(0,x.t)(o,l,e.transform,3,u);const a=[[N.r.POSITION,new I.n(o,n,3,!0)]];if(null!=e.attributes.normal){const t=(0,h.oe)(3*r),{typedBuffer:o,typedBufferStride:l}=e.attributes.normal;(0,i.Ge)(G,e.transform),(0,x.b)(t,o,G,3,l),(0,s.or)(G)&&(0,x.n)(t,t),a.push([N.r.NORMAL,new I.n(t,n,3,!0)])}if(null!=e.attributes.tangent){const t=(0,h.oe)(4*r),{typedBuffer:o,typedBufferStride:l}=e.attributes.tangent;(0,i.z0)(G,e.transform),(0,g.t)(t,o,G,4,l),(0,s.or)(G)&&(0,x.n)(t,t,4),a.push([N.r.TANGENT,new I.n(t,n,4,!0)])}if(null!=e.attributes.texCoord0){const t=(0,h.oe)(2*r),{typedBuffer:o,typedBufferStride:s}=e.attributes.texCoord0;(0,v.a)(t,o,2,s),a.push([N.r.UV0,new I.n(t,n,2,!0)])}const c=e.attributes.color;if(null!=c){const t=new Uint8Array(4*r);4===c.elementCount?c instanceof p.Eq?(0,g.b)(t,c,255):c instanceof p.XP?(0,b.a)(t,c):c instanceof p.Uz&&(0,g.b)(t,c,1/256):(t.fill(255),c instanceof p.xs?(0,x.f)(t,c.typedBuffer,255,4,c.typedBufferStride):e.attributes.color instanceof p.eI?(0,y.c)(t,c.typedBuffer,4,e.attributes.color.typedBufferStride):e.attributes.color instanceof p.nS&&(0,x.f)(t,c.typedBuffer,1/256,4,c.typedBufferStride)),a.push([N.r.COLOR,new I.n(t,n,4,!0)])}return{geometry:new L.V(t,a),vertexCount:r}}(e,null!==l&&void 0!==l?l:new C.$U({},o)),M=a.boundingInfo;null!=M&&0===A&&((0,m.iT)(S,M.bbMin),(0,m.iT)(S,M.bbMax)),null!=l&&(k.stageResources.geometries.push(a),k.numberOfVertices+=T)})),P||a.push(k)})),{engineResources:a,referenceBoundingBox:S}}(P,V,q,t,S.specifiedLodIndex);return{lods:z,referenceBoundingBox:W,isEsriSymbolResource:P.meta.isEsriSymbolResource,isWosr:!1}}const G=(0,l.vt)()},50791:(e,t,r)=>{r.d(t,{T:()=>n});const n=2.1}}]);
//# sourceMappingURL=7323.ca3c1ddb.chunk.js.map